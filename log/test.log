  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "password_digest" varchar, "role" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250308182627)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-03-08 19:23:04.715680', '2025-03-08 19:23:04.715681') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (1.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '35b879a4d14756c164e8e8a066fb88daf7dd0f1a', '2025-03-08 19:23:04.719487', '2025-03-08 19:23:04.719487') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (8.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-03-08 19:23:04.762763', '2025-03-08 19:23:04.762763'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-03-08 19:23:04.762763', '2025-03-08 19:23:04.762763')[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
AdminTest: test_should_save_admin_with_valid_attributes
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.1ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["name", "Test Admin"], ["email", "[FILTERED]"], ["password_digest", "[FILTERED]"], ["role", "superadmin"], ["created_at", "2025-03-08 19:23:04.809503"], ["updated_at", "2025-03-08 19:23:04.809503"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
AdminTest: test_should_not_save_admin_without_email
---------------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-03-25 19:37:16.644002', '2025-03-25 19:37:16.644002'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-03-25 19:37:16.644002', '2025-03-25 19:37:16.644002');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-03-25 19:37:16.646268', '2025-03-25 19:37:16.646268'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-03-25 19:37:16.646268', '2025-03-25 19:37:16.646268');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$zw9TenYAeutup0opF3gUWelIpNPgOWjB2wzQ9bx5TGy0Osucni1B2', 60, '2025-03-25 19:37:16.651935', '2025-03-25 19:37:16.651935'), (298486374, 'two@student.com', 'Student Two', '$2a$12$fXp8Guvpvpu0LHhDOg.W8uAvNqRYQyYzpJUw8VCNEl/UKIq2mLb/e', 100, '2025-03-25 19:37:16.651935', '2025-03-25 19:37:16.651935');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at") VALUES (980190962, 980190962, 101, 'active', '2025-03-25 19:37:16.656286', '2025-03-25 19:37:16.656286'), (298486374, 298486374, 102, 'Inactive', '2025-03-25 19:37:16.656286', '2025-03-25 19:37:16.656286')[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-03-25 15:37:16 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 12.3ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 20.1ms | GC: 0.8ms)
Completed 200 OK in 37ms (Views: 22.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 2.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-03-25 15:37:16 -0400
Processing by StudentsController#update as HTML
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-03-25 19:37:16.834212"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students/980190962
Completed 302 Found in 14ms (ActiveRecord: 0.4ms (3 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-03-25 15:37:16 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-03-25 19:37:16.851927"], ["updated_at", "2025-03-25 19:37:16.851927"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students/980190963
Completed 302 Found in 7ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 2.9ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY "students"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-03-25 15:37:16 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 1.3ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-03-25 15:37:16 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 7.3ms | GC: 4.7ms)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | GC: 4.8ms)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 4.8ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-03-25 19:37:16.915963"], ["updated_at", "2025-03-25 19:37:16.915963"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-03-25 15:37:16 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "MWF 10:00 AM"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-03-25 19:37:16.931017"], ["updated_at", "2025-03-25 19:37:16.931017"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/courses/123456
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" ORDER BY "courses"."CRN" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-03-25 15:37:16 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/courses
Completed 302 Found in 15ms (ActiveRecord: 0.5ms (5 queries, 0 cached) | GC: 0.2ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-03-25 15:37:16 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-03-25 19:37:16.961085"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/courses/101
Completed 302 Found in 12ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-03-25 19:37:16.976277"], ["updated_at", "2025-03-25 19:37:16.976277"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-03-25 19:37:16.979854"], ["updated_at", "2025-03-25 19:37:16.979854"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.6ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-03-25 19:37:16.981089"], ["updated_at", "2025-03-25 19:37:16.981089"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-03-25 19:37:16.985100"], ["updated_at", "2025-03-25 19:37:16.985100"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-03-25 19:37:16.990599"], ["updated_at", "2025-03-25 19:37:16.990599"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-03-25 19:37:16.992783"], ["updated_at", "2025-03-25 19:37:16.992783"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-03-25 19:37:16.998179"], ["updated_at", "2025-03-25 19:37:16.998179"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-03-25 19:37:16.999628"], ["updated_at", "2025-03-25 19:37:16.999628"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-03-25 19:37:17.000158"], ["updated_at", "2025-03-25 19:37:17.000158"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-03-25 19:37:17.007513"], ["updated_at", "2025-03-25 19:37:17.007513"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-03-25 19:37:17.013673"], ["updated_at", "2025-03-25 19:37:17.013673"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-03-25 19:37:17.017036"], ["updated_at", "2025-03-25 19:37:17.017036"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
ScheduleViewControllerTest: test_should_create_user_schedule
------------------------------------------------------------
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/schedule_view" for 127.0.0.1 at 2025-03-25 15:37:17 -0400
Processing by ScheduleViewController#create as HTML
  Parameters: {"course_id" => "102"}
  [1m[36mStudent Load (0.9ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY "students"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 298486374], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 298486374], ["course_id", 102], ["status", nil], ["created_at", "2025-03-25 19:37:17.028125"], ["updated_at", "2025-03-25 19:37:17.028125"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/schedule_view
Completed 302 Found in 7ms (ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
ScheduleViewControllerTest: test_should_destroy_user_schedule
-------------------------------------------------------------
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started DELETE "/schedule_view/980190962" for 127.0.0.1 at 2025-03-25 15:37:17 -0400
Processing by ScheduleViewController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/schedule_view
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
Started GET "/schedule_view" for 127.0.0.1 at 2025-03-25 15:37:17 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY "students"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" ORDER BY "courses"."CRN" ASC LIMIT ?[0m  [["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 102]]
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 5.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.1ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:35:05.088993', '2025-04-05 19:35:05.088993'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:35:05.088993', '2025-04-05 19:35:05.088993');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-05 19:35:05.090658', '2025-04-05 19:35:05.090658', NULL, NULL, NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-05 19:35:05.090658', '2025-04-05 19:35:05.090658', NULL, NULL, NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$aJstaZmJ9JXWMlYRZZGB8u1NL1R5ds4E5JajtwbHZAKkfvqD891CW', 60, '2025-04-05 19:35:05.091428', '2025-04-05 19:35:05.091428', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$Rhz0eaxddfSO8pwulaFZVOx0.Z9cslYPvtBmun1X/jM56yF.NJWqu', 100, '2025-04-05 19:35:05.091428', '2025-04-05 19:35:05.091428', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-05 19:35:05.092398', '2025-04-05 19:35:05.092398', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-05 19:35:05.092398', '2025-04-05 19:35:05.092398', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-05 15:35:05 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 12.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 32.9ms | GC: 0.0ms)
Completed 200 OK in 69ms (Views: 43.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-05 15:35:05 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-05 19:35:05.876558"], ["updated_at", "2025-04-05 19:35:05.876558"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-05 15:35:05 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 14.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 18.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:37:46.026704', '2025-04-05 19:37:46.026704'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:37:46.026704', '2025-04-05 19:37:46.026704');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-05 19:37:46.029397', '2025-04-05 19:37:46.029397', NULL, NULL, NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-05 19:37:46.029397', '2025-04-05 19:37:46.029397', NULL, NULL, NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$h9vYlRwSg9SZlyf6zX6.5OprBYuvMOJJJXX8kpLyu8BUEei.lB70W', 60, '2025-04-05 19:37:46.030174', '2025-04-05 19:37:46.030174', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$796KJ1jI1Q48Zq3n5n0fq.ESbwXBPun4pVeX1j1IXODuJSV81j66S', 100, '2025-04-05 19:37:46.030174', '2025-04-05 19:37:46.030174', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-05 19:37:46.031283', '2025-04-05 19:37:46.031283', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-05 19:37:46.031283', '2025-04-05 19:37:46.031283', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-05 15:37:46 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 13.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 45.9ms | GC: 0.0ms)
Completed 200 OK in 102ms (Views: 67.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-05 15:37:46 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.2ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-05 19:37:46.531147"], ["updated_at", "2025-04-05 19:37:46.531147"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 34ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-05 15:37:46 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 21.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 22.5ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 27.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:45:23.416011', '2025-04-05 19:45:23.416011'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:45:23.416011', '2025-04-05 19:45:23.416011');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-05 19:45:23.417585', '2025-04-05 19:45:23.417585', NULL, NULL, NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-05 19:45:23.417585', '2025-04-05 19:45:23.417585', NULL, NULL, NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$e66PBtvfjmdVoX3CzlwXf.74Y6PgQQ39mv/V1PdjrQGLpQ9/xYPT.', 60, '2025-04-05 19:45:23.418374', '2025-04-05 19:45:23.418374', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$fanC0ENhGeN.T9UOcQtGf.Ra2QYavbSG9.tCu4VVfn7DC2Yr.k.CC', 100, '2025-04-05 19:45:23.418374', '2025-04-05 19:45:23.418374', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-05 19:45:23.419474', '2025-04-05 19:45:23.419474', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-05 19:45:23.419474', '2025-04-05 19:45:23.419474', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
UserSignupTest: test_user_can_sign_up_successfully
--------------------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-05 15:45:31 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 133.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 372.2ms | GC: 0.0ms)
Completed 200 OK in 775ms (Views: 478.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-8b441ae0.css" for 127.0.0.1 at 2025-04-05 15:45:32 -0400
Started GET "/assets/application-e92a05ba.js" for 127.0.0.1 at 2025-04-05 15:45:32 -0400
Started GET "/assets/signup-08adf3cf.css" for 127.0.0.1 at 2025-04-05 15:45:32 -0400
Started GET "/assets/turbo.min-1262d735.js" for 127.0.0.1 at 2025-04-05 15:45:32 -0400
Started GET "/assets/controllers/hello_controller-708796bd.js" for 127.0.0.1 at 2025-04-05 15:45:32 -0400
Started GET "/assets/controllers/index-ee64e1f1.js" for 127.0.0.1 at 2025-04-05 15:45:32 -0400
Started GET "/assets/controllers/application-3affb389.js" for 127.0.0.1 at 2025-04-05 15:45:32 -0400
Started GET "/assets/stimulus.min-4b1e420e.js" for 127.0.0.1 at 2025-04-05 15:45:32 -0400
Started GET "/assets/stimulus-loading-1fc53fe7.js" for 127.0.0.1 at 2025-04-05 15:45:32 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:48:39.851350', '2025-04-05 19:48:39.851350'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:48:39.851350', '2025-04-05 19:48:39.851350');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-05 19:48:39.852941', '2025-04-05 19:48:39.852941', NULL, NULL, NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-05 19:48:39.852941', '2025-04-05 19:48:39.852941', NULL, NULL, NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$0D83d3zzLKk5rA3GHwPdLOo9wp0KRusSneXxd3ZJDkfHQaUHjmMci', 60, '2025-04-05 19:48:39.853701', '2025-04-05 19:48:39.853701', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$htJHuAxweI2RlMsqKl.t2.5203Hi/LQKgD8ytCCVEDnCawQecYG9K', 100, '2025-04-05 19:48:39.853701', '2025-04-05 19:48:39.853701', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-05 19:48:39.854716', '2025-04-05 19:48:39.854716', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-05 19:48:39.854716', '2025-04-05 19:48:39.854716', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
UserSignupTest: test_user_can_sign_up_successfully
--------------------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-05 15:48:44 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 9.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 28.6ms | GC: 0.0ms)
Completed 200 OK in 63ms (Views: 41.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-8b441ae0.css" for 127.0.0.1 at 2025-04-05 15:48:44 -0400
Started GET "/assets/application-e92a05ba.js" for 127.0.0.1 at 2025-04-05 15:48:44 -0400
Started GET "/assets/signup-08adf3cf.css" for 127.0.0.1 at 2025-04-05 15:48:44 -0400
Started GET "/assets/controllers/hello_controller-708796bd.js" for 127.0.0.1 at 2025-04-05 15:48:44 -0400
Started GET "/assets/controllers/application-3affb389.js" for 127.0.0.1 at 2025-04-05 15:48:44 -0400
Started GET "/assets/controllers/index-ee64e1f1.js" for 127.0.0.1 at 2025-04-05 15:48:44 -0400
Started GET "/assets/turbo.min-1262d735.js" for 127.0.0.1 at 2025-04-05 15:48:44 -0400
Started GET "/assets/stimulus.min-4b1e420e.js" for 127.0.0.1 at 2025-04-05 15:48:44 -0400
Started GET "/assets/stimulus-loading-1fc53fe7.js" for 127.0.0.1 at 2025-04-05 15:48:44 -0400
Started POST "/students" for 127.0.0.1 at 2025-04-05 15:48:45 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "major" => "Computer Science", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.2ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-05 19:48:45.866394"], ["updated_at", "2025-04-05 19:48:45.866394"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:53215/
Completed 302 Found in 180ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-05 15:48:45 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 173.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 176.7ms | GC: 0.0ms)
Completed 200 OK in 209ms (Views: 183.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/LogoWithCircle-81fac526.png" for 127.0.0.1 at 2025-04-05 15:48:46 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:49:24.946614', '2025-04-05 19:49:24.946614'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:49:24.946614', '2025-04-05 19:49:24.946614');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-05 19:49:24.951003', '2025-04-05 19:49:24.951003', NULL, NULL, NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-05 19:49:24.951003', '2025-04-05 19:49:24.951003', NULL, NULL, NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$2rAQNgIx9nBsONkUHmK7RekCOLAgMmxnCrvd.24wuGDYmjmNvlNJ2', 60, '2025-04-05 19:49:24.952477', '2025-04-05 19:49:24.952477', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$3hbCgyVz2B7MG797jL6ojOvjIVK9gJ3.b.N5S3uCwXFQs96ns30z6', 100, '2025-04-05 19:49:24.952477', '2025-04-05 19:49:24.952477', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-05 19:49:24.954094', '2025-04-05 19:49:24.954094', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-05 19:49:24.954094', '2025-04-05 19:49:24.954094', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
UserSignupTest: test_user_can_sign_up_successfully
--------------------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-05 15:49:29 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 12.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 47.2ms | GC: 0.0ms)
Completed 200 OK in 103ms (Views: 65.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-8b441ae0.css" for 127.0.0.1 at 2025-04-05 15:49:29 -0400
Started GET "/assets/signup-08adf3cf.css" for 127.0.0.1 at 2025-04-05 15:49:29 -0400
Started GET "/assets/application-e92a05ba.js" for 127.0.0.1 at 2025-04-05 15:49:29 -0400
Started GET "/assets/controllers/index-ee64e1f1.js" for 127.0.0.1 at 2025-04-05 15:49:30 -0400
Started GET "/assets/controllers/hello_controller-708796bd.js" for 127.0.0.1 at 2025-04-05 15:49:30 -0400
Started GET "/assets/controllers/application-3affb389.js" for 127.0.0.1 at 2025-04-05 15:49:30 -0400
Started GET "/assets/stimulus.min-4b1e420e.js" for 127.0.0.1 at 2025-04-05 15:49:30 -0400
Started GET "/assets/turbo.min-1262d735.js" for 127.0.0.1 at 2025-04-05 15:49:30 -0400
Started GET "/assets/stimulus-loading-1fc53fe7.js" for 127.0.0.1 at 2025-04-05 15:49:30 -0400
Started POST "/students" for 127.0.0.1 at 2025-04-05 15:49:31 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "major" => "Computer Science", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-05 19:49:31.357903"], ["updated_at", "2025-04-05 19:49:31.357903"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:53239/
Completed 302 Found in 25ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-05 15:49:31 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 12.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 17.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/LogoWithCircle-81fac526.png" for 127.0.0.1 at 2025-04-05 15:49:31 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (1.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:49:46.099818', '2025-04-05 19:49:46.099818'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:49:46.099818', '2025-04-05 19:49:46.099818');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-05 19:49:46.101462', '2025-04-05 19:49:46.101462', NULL, NULL, NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-05 19:49:46.101462', '2025-04-05 19:49:46.101462', NULL, NULL, NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Mx7sN65I7/zuvkwat91O7ePYbC8FYCb2sUMYnObYcGOnsKuvPsxVi', 60, '2025-04-05 19:49:46.102199', '2025-04-05 19:49:46.102199', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$tikyTTbYnLf78kIIv9aViuuAO4lPNZ9lDq6q0SNLb16oijfNexlum', 100, '2025-04-05 19:49:46.102199', '2025-04-05 19:49:46.102199', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-05 19:49:46.103084', '2025-04-05 19:49:46.103084', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-05 19:49:46.103084', '2025-04-05 19:49:46.103084', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
UserSignupTest: test_user_can_sign_up_successfully
--------------------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-05 15:49:50 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 8.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 33.4ms | GC: 0.0ms)
Completed 200 OK in 68ms (Views: 43.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-8b441ae0.css" for 127.0.0.1 at 2025-04-05 15:49:50 -0400
Started GET "/assets/application-e92a05ba.js" for 127.0.0.1 at 2025-04-05 15:49:50 -0400
Started GET "/assets/signup-08adf3cf.css" for 127.0.0.1 at 2025-04-05 15:49:50 -0400
Started GET "/assets/turbo.min-1262d735.js" for 127.0.0.1 at 2025-04-05 15:49:50 -0400
Started GET "/assets/controllers/application-3affb389.js" for 127.0.0.1 at 2025-04-05 15:49:50 -0400
Started GET "/assets/controllers/hello_controller-708796bd.js" for 127.0.0.1 at 2025-04-05 15:49:50 -0400
Started GET "/assets/controllers/index-ee64e1f1.js" for 127.0.0.1 at 2025-04-05 15:49:50 -0400
Started GET "/assets/stimulus.min-4b1e420e.js" for 127.0.0.1 at 2025-04-05 15:49:51 -0400
Started GET "/assets/stimulus-loading-1fc53fe7.js" for 127.0.0.1 at 2025-04-05 15:49:51 -0400
Started POST "/students" for 127.0.0.1 at 2025-04-05 15:49:52 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "major" => "Computer Science", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "Sign Up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.3ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-05 19:49:52.043157"], ["updated_at", "2025-04-05 19:49:52.043157"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:53262/
Completed 302 Found in 27ms (ActiveRecord: 1.1ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-05 15:49:52 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 14.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 19.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/LogoWithCircle-81fac526.png" for 127.0.0.1 at 2025-04-05 15:49:52 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:50:30.023445', '2025-04-05 19:50:30.023445'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:50:30.023445', '2025-04-05 19:50:30.023445');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-05 19:50:30.024984', '2025-04-05 19:50:30.024984', NULL, NULL, NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-05 19:50:30.024984', '2025-04-05 19:50:30.024984', NULL, NULL, NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$QgziXWJnsqIre./9PjykguxmhKJsuLKdlnF4XIU2lIdlYcdNQSjvy', 60, '2025-04-05 19:50:30.025734', '2025-04-05 19:50:30.025734', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$bBvkoIri09lTfivHGZEIkOkCryRjqQ3GAD9.3.XWqUfj820mghImG', 100, '2025-04-05 19:50:30.025734', '2025-04-05 19:50:30.025734', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-05 19:50:30.026653', '2025-04-05 19:50:30.026653', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-05 19:50:30.026653', '2025-04-05 19:50:30.026653', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
UserSignupTest: test_user_can_sign_up_successfully
--------------------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-05 15:50:34 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 9.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 32.7ms | GC: 0.0ms)
Completed 200 OK in 67ms (Views: 43.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/application-8b441ae0.css" for 127.0.0.1 at 2025-04-05 15:50:34 -0400
Started GET "/assets/signup-08adf3cf.css" for 127.0.0.1 at 2025-04-05 15:50:34 -0400
Started GET "/assets/turbo.min-1262d735.js" for 127.0.0.1 at 2025-04-05 15:50:34 -0400
Started GET "/assets/application-e92a05ba.js" for 127.0.0.1 at 2025-04-05 15:50:34 -0400
Started GET "/assets/controllers/index-ee64e1f1.js" for 127.0.0.1 at 2025-04-05 15:50:34 -0400
Started GET "/assets/controllers/application-3affb389.js" for 127.0.0.1 at 2025-04-05 15:50:34 -0400
Started GET "/assets/controllers/hello_controller-708796bd.js" for 127.0.0.1 at 2025-04-05 15:50:34 -0400
Started GET "/assets/stimulus.min-4b1e420e.js" for 127.0.0.1 at 2025-04-05 15:50:34 -0400
Started GET "/assets/stimulus-loading-1fc53fe7.js" for 127.0.0.1 at 2025-04-05 15:50:35 -0400
Started POST "/students" for 127.0.0.1 at 2025-04-05 15:50:35 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "major" => "Computer Science", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "commit" => "Sign Up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.2ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-05 19:50:35.877244"], ["updated_at", "2025-04-05 19:50:35.877244"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://127.0.0.1:53286/
Completed 302 Found in 21ms (ActiveRecord: 1.7ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-05 15:50:35 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 12.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 19.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/assets/LogoWithCircle-81fac526.png" for 127.0.0.1 at 2025-04-05 15:50:35 -0400
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.2ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:51:31.615407', '2025-04-05 19:51:31.615407'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-05 19:51:31.615407', '2025-04-05 19:51:31.615407');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-05 19:51:31.619539', '2025-04-05 19:51:31.619539', NULL, NULL, NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-05 19:51:31.619539', '2025-04-05 19:51:31.619539', NULL, NULL, NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Ot.D7DlPRxP6JRUhCeXLUuEC7ws5m3ZIBEXZcYtpjRc5XUEwxnSPS', 60, '2025-04-05 19:51:31.620506', '2025-04-05 19:51:31.620506', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$mo6hrK.DTnr8C48FNkDqWuuPG5.Vpeczqw72T8AeVqFTEZ3NHihxO', 100, '2025-04-05 19:51:31.620506', '2025-04-05 19:51:31.620506', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-05 19:51:31.621696', '2025-04-05 19:51:31.621696', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-05 19:51:31.621696', '2025-04-05 19:51:31.621696', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-05 15:51:32 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 15.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 37.8ms | GC: 0.0ms)
Completed 200 OK in 80ms (Views: 50.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-05 15:51:32 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.2ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-05 19:51:32.383019"], ["updated_at", "2025-04-05 19:51:32.383019"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-05 15:51:32 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 19.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.1ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 24.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.8ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:05:48.569205', '2025-04-06 21:05:48.569205'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:05:48.569205', '2025-04-06 21:05:48.569205');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:05:48.571416', '2025-04-06 21:05:48.571416', NULL, NULL, NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:05:48.571416', '2025-04-06 21:05:48.571416', NULL, NULL, NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$6Gk6Kz13ytd1d.9ClhlyHOGPMVuxwPbo83tMGlYHADITAOxPMyxqC', 60, '2025-04-06 21:05:48.577153', '2025-04-06 21:05:48.577153', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$1SW3qBvdoKCGpPSQCO7fMeoXs9xFwlLqP86081Sv/vKlp6VKt.8t.', 100, '2025-04-06 21:05:48.577153', '2025-04-06 21:05:48.577153', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:05:48.582683', '2025-04-06 21:05:48.582683', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:05:48.582683', '2025-04-06 21:05:48.582683', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 17:05:48 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 33ms (ActiveRecord: 0.7ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 17:05:48 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/edit.html.erb within layouts/application
  Rendered courses/edit.html.erb within layouts/application (Duration: 20.3ms | GC: 12.6ms)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | GC: 12.6ms)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 12.6ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 17:05:48 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "MWF 10:00 AM"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/new.html.erb within layouts/application
  Rendered courses/new.html.erb within layouts/application (Duration: 12.8ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | GC: 0.8ms)
Completed 200 OK in 20ms (Views: 18.5ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.8ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:11:45.109718', '2025-04-06 21:11:45.109718'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:11:45.109718', '2025-04-06 21:11:45.109718');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:11:45.112229', '2025-04-06 21:11:45.112229', NULL, NULL, NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:11:45.112229', '2025-04-06 21:11:45.112229', NULL, NULL, NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$cfDgGsPWLUAEs77hNYYBbe5IpzENiMiZXJFZCK07FrVt9tnmFDcta', 60, '2025-04-06 21:11:45.117858', '2025-04-06 21:11:45.117858', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$OcBeBZlPvnEkd/iBJT6JzukNcyAu1tJL5bxSLGS.UDB9w63gVJCVO', 100, '2025-04-06 21:11:45.117858', '2025-04-06 21:11:45.117858', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:11:45.122720', '2025-04-06 21:11:45.122720', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:11:45.122720', '2025-04-06 21:11:45.122720', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 17:11:45 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "MWF 10:00 AM"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/new.html.erb within layouts/application
  Rendered courses/new.html.erb within layouts/application (Duration: 9.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 27.8ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 17:11:45 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/edit.html.erb within layouts/application
  Rendered courses/edit.html.erb within layouts/application (Duration: 10.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | GC: 0.0ms)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 17:11:45 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 24ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:19:56.473245', '2025-04-06 21:19:56.473245'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:19:56.473245', '2025-04-06 21:19:56.473245');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:19:56.475745', '2025-04-06 21:19:56.475745', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:19:56.475745', '2025-04-06 21:19:56.475745', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$3prS19ZtoS8kORkUPXl.qefgvt9LnQvu7TkMfpPRF/JbBEPMOA9LO', 60, '2025-04-06 21:19:56.481533', '2025-04-06 21:19:56.481533', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$Cs7DGU.2ZB..zR8kdaAHpuqozZYxLWaRktykIPfVggjmoal.rKgqS', 100, '2025-04-06 21:19:56.481533', '2025-04-06 21:19:56.481533', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:19:56.486412', '2025-04-06 21:19:56.486412', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:19:56.486412', '2025-04-06 21:19:56.486412', NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 17:19:56 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.1ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 21:19:56.658516"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 24ms (ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 17:19:56 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "MWF 10:00 AM"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/new.html.erb within layouts/application
  Rendered courses/new.html.erb within layouts/application (Duration: 10.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 30.2ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 17:19:56 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 17ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:20:29.975912', '2025-04-06 21:20:29.975912'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:20:29.975912', '2025-04-06 21:20:29.975912');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (105, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:20:29.978481', '2025-04-06 21:20:29.978481', 'Computer Science', 'Open', 'None'), (106, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:20:29.978481', '2025-04-06 21:20:29.978481', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$VF8uNBQRsXBbSVz.aoUrmuJ1Ke9MFlC8KdtiJAOUd7VmLaRCyRBn.', 60, '2025-04-06 21:20:29.984381', '2025-04-06 21:20:29.984381', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$3U6VhuL7g6xHajFbC5M0jOx6J/4magivGaRzzIZS42Xzq3TkBLXW.', 100, '2025-04-06 21:20:29.984381', '2025-04-06 21:20:29.984381', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:20:29.989156', '2025-04-06 21:20:29.989156', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:20:29.989156', '2025-04-06 21:20:29.989156', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:20:31.009829', '2025-04-06 21:20:31.009829'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:20:31.009829', '2025-04-06 21:20:31.009829');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (105, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:20:31.010066', '2025-04-06 21:20:31.010066', 'Computer Science', 'Open', 'None'), (106, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:20:31.010066', '2025-04-06 21:20:31.010066', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$zLJc0hJPuqxKU299qbityuhhSvpWm17DW7JAFLTi6M4aU7UwRM2mK', 60, '2025-04-06 21:20:31.010106', '2025-04-06 21:20:31.010106', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$D9sprFchSXCxU306E0tZJ.F9EljBEOu6bGO3qXZ5ryrBEm5ZtK79C', 100, '2025-04-06 21:20:31.010106', '2025-04-06 21:20:31.010106', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:20:31.010212', '2025-04-06 21:20:31.010212', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:20:31.010212', '2025-04-06 21:20:31.010212', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:20:31.983920', '2025-04-06 21:20:31.983920'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:20:31.983920', '2025-04-06 21:20:31.983920');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (105, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:20:31.984026', '2025-04-06 21:20:31.984026', 'Computer Science', 'Open', 'None'), (106, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:20:31.984026', '2025-04-06 21:20:31.984026', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$k3XNbp3EpzXa65ikCMkFJ.XUqwg.0kecyntnDYX2TVOWqlakOejD.', 60, '2025-04-06 21:20:31.984252', '2025-04-06 21:20:31.984252', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$hEZ/AT77zJX.Wi5uSgZFbO5mdjc11hJ9WDVUX19r4rcGgG.RFervC', 100, '2025-04-06 21:20:31.984252', '2025-04-06 21:20:31.984252', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:20:31.985120', '2025-04-06 21:20:31.985120', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:20:31.985120', '2025-04-06 21:20:31.985120', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:21:20.133143', '2025-04-06 21:21:20.133143'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:21:20.133143', '2025-04-06 21:21:20.133143');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:21:20.135652', '2025-04-06 21:21:20.135652', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:21:20.135652', '2025-04-06 21:21:20.135652', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$2AzQ9oMXmNXUMMFy87G.QuEnXNrSr3M.Ff3i0fQposOkRFY58ToIa', 60, '2025-04-06 21:21:20.141549', '2025-04-06 21:21:20.141549', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$IV1AYboy9Ekuea4QmsAC5OpZZ90y5ljtylUYryIPMuQW0/U4p66rC', 100, '2025-04-06 21:21:20.141549', '2025-04-06 21:21:20.141549', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:21:20.146380', '2025-04-06 21:21:20.146380', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:21:20.146380', '2025-04-06 21:21:20.146380', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 17:21:20 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 21:21:20.316675"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 20ms (ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 17:21:20 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 17ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 17:21:20 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "MWF 10:00 AM"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/new.html.erb within layouts/application
  Rendered courses/new.html.erb within layouts/application (Duration: 9.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.3ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 28.3ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:23:25.780018', '2025-04-06 21:23:25.780018'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:23:25.780018', '2025-04-06 21:23:25.780018');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:23:25.782249', '2025-04-06 21:23:25.782249', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:23:25.782249', '2025-04-06 21:23:25.782249', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$N9oLDT27u8T2gVtKVhPvWuL808c9O.mqF3nEKsfb4/RQSbLDZuUg.', 60, '2025-04-06 21:23:25.788513', '2025-04-06 21:23:25.788513', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$6PV/M1y7hleUNH0ork6zVev2GjVn9hl5jCes160CbSmgVhYRRnbe2', 100, '2025-04-06 21:23:25.788513', '2025-04-06 21:23:25.788513', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:23:25.793184', '2025-04-06 21:23:25.793184', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:23:25.793184', '2025-04-06 21:23:25.793184', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 17:23:25 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 21:23:25.963340"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 20ms (ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 17:23:25 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 17ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 17:23:25 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "MWF 10:00 AM"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/new.html.erb within layouts/application
  Rendered courses/new.html.erb within layouts/application (Duration: 9.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 28.5ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:54:38.351813', '2025-04-06 21:54:38.351813'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:54:38.351813', '2025-04-06 21:54:38.351813');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:54:38.354306', '2025-04-06 21:54:38.354306', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:54:38.354306', '2025-04-06 21:54:38.354306', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$5HYqLYfQLM51J8Wacfs9Ju.IbMmDDEDaHTQxnKosUpOdYEjPTCqkG', 60, '2025-04-06 21:54:38.360941', '2025-04-06 21:54:38.360941', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$blJFrZW.5p9Ad2t5eiFmP.x7wBsj32kSV73i3S7rtFHlhnPNPByOK', 100, '2025-04-06 21:54:38.360941', '2025-04-06 21:54:38.360941', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:54:38.366322', '2025-04-06 21:54:38.366322', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:54:38.366322', '2025-04-06 21:54:38.366322', NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 17:54:38 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "MWF 10:00 AM"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/new.html.erb within layouts/application
  Rendered courses/new.html.erb within layouts/application (Duration: 9.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 27.3ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 17:54:38 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 26ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 17:54:38 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 21:54:38.609088"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:55:01.355073', '2025-04-06 21:55:01.355073'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:55:01.355073', '2025-04-06 21:55:01.355073');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:55:01.357279', '2025-04-06 21:55:01.357279', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:55:01.357279', '2025-04-06 21:55:01.357279', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$8DnTU.YW9gqnAMISPBv77exgk0Yog9FA/N2r2ad5U.kPJq5lpb2ii', 60, '2025-04-06 21:55:01.363227', '2025-04-06 21:55:01.363227', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$UjG2Bd7Jj140fMYP.fN.geRqjuQulvzDIvwZvoLE7Fwhj7tbblggy', 100, '2025-04-06 21:55:01.363227', '2025-04-06 21:55:01.363227', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:55:01.368552', '2025-04-06 21:55:01.368552', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:55:01.368552', '2025-04-06 21:55:01.368552', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 17:55:01 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 30ms (ActiveRecord: 0.6ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 17:55:01 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "MWF 10:00 AM"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/new.html.erb within layouts/application
  Rendered courses/new.html.erb within layouts/application (Duration: 8.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 22.5ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 17:55:01 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 21:55:01.576060"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:55:32.100137', '2025-04-06 21:55:32.100137'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:55:32.100137', '2025-04-06 21:55:32.100137');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:55:32.102610', '2025-04-06 21:55:32.102610', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:55:32.102610', '2025-04-06 21:55:32.102610', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$wBP4xc8EwTe3Gl9Kt.brMumxjjahmQQSSs3B1T8.WtENXVtt4UdQi', 60, '2025-04-06 21:55:32.108561', '2025-04-06 21:55:32.108561', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$MzW8nSv2H7uocgWCAf6X1uXW6E7Es0t3NbmLI6z3OSpNwJD.IM55.', 100, '2025-04-06 21:55:32.108561', '2025-04-06 21:55:32.108561', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:55:32.113428', '2025-04-06 21:55:32.113428', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:55:32.113428', '2025-04-06 21:55:32.113428', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:57:09.774435', '2025-04-06 21:57:09.774435'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:57:09.774435', '2025-04-06 21:57:09.774435');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:57:09.776713', '2025-04-06 21:57:09.776713', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:57:09.776713', '2025-04-06 21:57:09.776713', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$fVt6gNzw9hGgwNmGkpoy4O0ZWEJ88tyNOXFhp/JN5rBeQBPZuHg6S', 60, '2025-04-06 21:57:09.782898', '2025-04-06 21:57:09.782898', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$Y7Rsgt/oTud6sNPW3.DteOSWsy31bpRCfAODW7YEvoIt.MvBPLCM.', 100, '2025-04-06 21:57:09.782898', '2025-04-06 21:57:09.782898', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:57:09.787786', '2025-04-06 21:57:09.787786', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:57:09.787786', '2025-04-06 21:57:09.787786', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 17:57:09 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 21:57:09.963079"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 21ms (ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 17:57:09 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 17ms (ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 17:57:09 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "MWF 10:00 AM"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/new.html.erb within layouts/application
  Rendered courses/new.html.erb within layouts/application (Duration: 9.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 28.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:57:17.977291', '2025-04-06 21:57:17.977291'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 21:57:17.977291', '2025-04-06 21:57:17.977291');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 21:57:17.979970', '2025-04-06 21:57:17.979970', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 21:57:17.979970', '2025-04-06 21:57:17.979970', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$rgNUYQb1KyaOi4vlPYN9wO46LtdNC3Ki.Bd5Jyn8SD6d7PikwzaqW', 60, '2025-04-06 21:57:17.986297', '2025-04-06 21:57:17.986297', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$Ps6sWXhbKBMgOtQ0TFNIV.AytDub9zlaK3O97xzyfsDF0VdmUoAtC', 100, '2025-04-06 21:57:17.986297', '2025-04-06 21:57:17.986297', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 21:57:17.991203', '2025-04-06 21:57:17.991203', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 21:57:17.991203', '2025-04-06 21:57:17.991203', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 21:57:18.102576"], ["updated_at", "2025-04-06 21:57:18.102576"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 17:57:18 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 21:57:18.167838"], ["updated_at", "2025-04-06 21:57:18.167838"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 21:57:18.181953"], ["updated_at", "2025-04-06 21:57:18.181953"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 21:57:18.191121"], ["updated_at", "2025-04-06 21:57:18.191121"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 17:57:18 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.3ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 21:57:18.195984"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.4ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 17:57:18 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 7ms (ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:00:12.835570', '2025-04-06 22:00:12.835570'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:00:12.835570', '2025-04-06 22:00:12.835570');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:00:12.838091', '2025-04-06 22:00:12.838091', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:00:12.838091', '2025-04-06 22:00:12.838091', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$q3WNhtVqBxk2YV8LR/3aEeSHjmDQtm2u3110lYspGh2qMw/M3f8.S', 60, '2025-04-06 22:00:12.844579', '2025-04-06 22:00:12.844579', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$WTO2iXzx4.6KAgBH7TX1J.6cVanejNy8k3OXC1AnLQ7CrTygjJ8G.', 100, '2025-04-06 22:00:12.844579', '2025-04-06 22:00:12.844579', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:00:12.850728', '2025-04-06 22:00:12.850728', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:00:12.850728', '2025-04-06 22:00:12.850728', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (1.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:00:23.168869', '2025-04-06 22:00:23.168869'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:00:23.168869', '2025-04-06 22:00:23.168869');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:00:23.171058', '2025-04-06 22:00:23.171058', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:00:23.171058', '2025-04-06 22:00:23.171058', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$tnttItUTAAvpy87rSYOLHONZqAcbznHhdUWIb0cJynSMJXur5nqPO', 60, '2025-04-06 22:00:23.176891', '2025-04-06 22:00:23.176891', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$/kXlVcakLjgnvJW/RDD3R.4AoipfouePT4SG.QkoySaglbXfbtn7W', 100, '2025-04-06 22:00:23.176891', '2025-04-06 22:00:23.176891', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:00:23.182259', '2025-04-06 22:00:23.182259', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:00:23.182259', '2025-04-06 22:00:23.182259', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:00:23 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:00:23.346650"], ["updated_at", "2025-04-06 22:00:23.346650"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:00:23 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:00:23.368310"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:00:23 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:00:23.385457"], ["updated_at", "2025-04-06 22:00:23.385457"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:00:23.388616"], ["updated_at", "2025-04-06 22:00:23.388616"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:00:23.404083"], ["updated_at", "2025-04-06 22:00:23.404083"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:00:32.796882', '2025-04-06 22:00:32.796882'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:00:32.796882', '2025-04-06 22:00:32.796882');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:00:32.800007', '2025-04-06 22:00:32.800007', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:00:32.800007', '2025-04-06 22:00:32.800007', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$nUd0Mlqxh3JF9yiyR8jYC.3/JM.hy1lq56mEgTQCl0E9dZvqHvUwS', 60, '2025-04-06 22:00:32.806076', '2025-04-06 22:00:32.806076', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$1W9gtKx4pJ06Dctbd5n8POdPl/i2/TM4m2omaJaY20ysR/QiwHuK6', 100, '2025-04-06 22:00:32.806076', '2025-04-06 22:00:32.806076', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:00:32.810849', '2025-04-06 22:00:32.810849', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:00:32.810849', '2025-04-06 22:00:32.810849', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:01:21.815525', '2025-04-06 22:01:21.815525'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:01:21.815525', '2025-04-06 22:01:21.815525');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:01:21.817924', '2025-04-06 22:01:21.817924', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:01:21.817924', '2025-04-06 22:01:21.817924', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$wkxHQ1GPIKaqLNR9m1sFNO082YkxQ8c3dACcgvz2ERJpt5dEV200u', 60, '2025-04-06 22:01:21.823670', '2025-04-06 22:01:21.823670', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$dgV2hy7uSC4aRYiNnOR7ae2NEz0dG3jQWCJ/YiE0c9YSRj8yMTeF.', 100, '2025-04-06 22:01:21.823670', '2025-04-06 22:01:21.823670', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:01:21.828345', '2025-04-06 22:01:21.828345', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:01:21.828345', '2025-04-06 22:01:21.828345', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:01:21.950854"], ["updated_at", "2025-04-06 22:01:21.950854"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:01:21 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:01:22.028079"], ["updated_at", "2025-04-06 22:01:22.028079"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 15ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:01:22 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 15ms (ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:01:22 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:01:22.060341"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:01:22.063549"], ["updated_at", "2025-04-06 22:01:22.063549"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:01:22.068065"], ["updated_at", "2025-04-06 22:01:22.068065"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:02:52.791550', '2025-04-06 22:02:52.791550'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:02:52.791550', '2025-04-06 22:02:52.791550');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:02:52.793783', '2025-04-06 22:02:52.793783', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:02:52.793783', '2025-04-06 22:02:52.793783', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Bt2cY50QHDosusKSJYJl.OEwg1o.ELg5YWbLAeC1v.f6zRt1F17hK', 60, '2025-04-06 22:02:52.799687', '2025-04-06 22:02:52.799687', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$Y040qNTILxW1c6DLrtdBnOHVV5hljcnZn3pKu9sl1/6AXdVB759o2', 100, '2025-04-06 22:02:52.799687', '2025-04-06 22:02:52.799687', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:02:52.804366', '2025-04-06 22:02:52.804366', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:02:52.804366', '2025-04-06 22:02:52.804366', NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:03:00.430865', '2025-04-06 22:03:00.430865'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:03:00.430865', '2025-04-06 22:03:00.430865');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:03:00.433145', '2025-04-06 22:03:00.433145', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:03:00.433145', '2025-04-06 22:03:00.433145', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$klHLghjFG/xAT4gVaAM.KuzyVH4cTcscKV.j0CUmXantujFBb.5Qu', 60, '2025-04-06 22:03:00.439169', '2025-04-06 22:03:00.439169', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$Zf.jtkn2RNIMefSn4/AS.u9RaAnkFLgR.cYCkA3NAH/mplrO0ACTC', 100, '2025-04-06 22:03:00.439169', '2025-04-06 22:03:00.439169', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:03:00.443968', '2025-04-06 22:03:00.443968', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:03:00.443968', '2025-04-06 22:03:00.443968', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:03:00 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 27ms (ActiveRecord: 0.7ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:03:00 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:03:00.647504"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:03:00.652979"], ["updated_at", "2025-04-06 22:03:00.652979"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:03:00.657821"], ["updated_at", "2025-04-06 22:03:00.657821"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:03:00 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:03:00.661524"], ["updated_at", "2025-04-06 22:03:00.661524"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:03:00.672544"], ["updated_at", "2025-04-06 22:03:00.672544"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:08:37.649158', '2025-04-06 22:08:37.649158'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:08:37.649158', '2025-04-06 22:08:37.649158');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:08:37.651704', '2025-04-06 22:08:37.651704', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:08:37.651704', '2025-04-06 22:08:37.651704', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$tLxmdfYD1P8S.jMC3fxTxep77n6kJ9gEP5aYTf2LMlouedCdvrUWa', 60, '2025-04-06 22:08:37.657479', '2025-04-06 22:08:37.657479', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$CPSXyr2kSsDx0sCL8yf.XOy3.S16nzekr7TDELNEXxlCrMJ0Yes0S', 100, '2025-04-06 22:08:37.657479', '2025-04-06 22:08:37.657479', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:08:37.662155', '2025-04-06 22:08:37.662155', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:08:37.662155', '2025-04-06 22:08:37.662155', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:08:37.782241"], ["updated_at", "2025-04-06 22:08:37.782241"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 18:08:37 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:08:37 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:08:38.024229"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.6ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:08:38 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:08:38.038216"], ["updated_at", "2025-04-06 22:08:38.038216"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.4ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:08:38.041653"], ["updated_at", "2025-04-06 22:08:38.041653"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:08:38.052359"], ["updated_at", "2025-04-06 22:08:38.052359"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:08:38 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 10ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 1.7ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:09:26.877324', '2025-04-06 22:09:26.877324'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:09:26.877324', '2025-04-06 22:09:26.877324');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:09:26.879515', '2025-04-06 22:09:26.879515', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:09:26.879515', '2025-04-06 22:09:26.879515', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$aNOESKbU8ZbfDziDFTb2lOHdXU/1aDWJIdv2PJ8wev4M7R6QoSyQS', 60, '2025-04-06 22:09:26.885530', '2025-04-06 22:09:26.885530', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$FSQzrFogIdtMts2XTt2G9uKAc/8XFvUy.dNjGMqIizzait/HsvDku', 100, '2025-04-06 22:09:26.885530', '2025-04-06 22:09:26.885530', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:09:26.890315', '2025-04-06 22:09:26.890315', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:09:26.890315', '2025-04-06 22:09:26.890315', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:09:34.441552', '2025-04-06 22:09:34.441552'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:09:34.441552', '2025-04-06 22:09:34.441552');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:09:34.444185', '2025-04-06 22:09:34.444185', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:09:34.444185', '2025-04-06 22:09:34.444185', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$zF6mxjVAuVoiMgnPa9q92O1MdyQCAwnNTp4K8DmHL.YKnatlfjaKW', 60, '2025-04-06 22:09:34.450068', '2025-04-06 22:09:34.450068', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$VxO6Yi6lLnN3US7.dkFNcuyjMeHrmY9ht615WRnTyn/2l5aJeuMVG', 100, '2025-04-06 22:09:34.450068', '2025-04-06 22:09:34.450068', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:09:34.454891', '2025-04-06 22:09:34.454891', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:09:34.454891', '2025-04-06 22:09:34.454891', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:09:34 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:09:34.609759"], ["updated_at", "2025-04-06 22:09:34.609759"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:09:34 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:09:34 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:09:34.644065"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:09:34.647498"], ["updated_at", "2025-04-06 22:09:34.647498"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:09:34.650332"], ["updated_at", "2025-04-06 22:09:34.650332"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:09:34.660086"], ["updated_at", "2025-04-06 22:09:34.660086"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 18:09:34 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:11:55.519608', '2025-04-06 22:11:55.519608'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:11:55.519608', '2025-04-06 22:11:55.519608');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:11:55.521800', '2025-04-06 22:11:55.521800', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:11:55.521800', '2025-04-06 22:11:55.521800', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$j/xleVqrVUJjq/wc0zfRjOSOfzw/.ek9meGJ4A8xP0VR6XFQ8hSfC', 60, '2025-04-06 22:11:55.527695', '2025-04-06 22:11:55.527695', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$y1XJPx5qFNDr7PXzcEsfX.iJyHm9M/czm8jObLgZMes2E0q0J3.SG', 100, '2025-04-06 22:11:55.527695', '2025-04-06 22:11:55.527695', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:11:55.532388', '2025-04-06 22:11:55.532388', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:11:55.532388', '2025-04-06 22:11:55.532388', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:11:55 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 26ms (ActiveRecord: 0.5ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:11:55.730321"], ["updated_at", "2025-04-06 22:11:55.730321"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 18:11:55 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:11:55 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:11:55.868407"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 1.9ms (3 queries, 0 cached) | GC: 0.9ms)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:11:55.872028"], ["updated_at", "2025-04-06 22:11:55.872028"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:11:55.878548"], ["updated_at", "2025-04-06 22:11:55.878548"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:11:55 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:11:55.892693"], ["updated_at", "2025-04-06 22:11:55.892693"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 7ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:12:15.081927', '2025-04-06 22:12:15.081927'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:12:15.081927', '2025-04-06 22:12:15.081927');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:12:15.084535', '2025-04-06 22:12:15.084535', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:12:15.084535', '2025-04-06 22:12:15.084535', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$vtqWtVqc365z5QnUD9tGyuRZxWJzMDUYdRpKQhg2n8R6nQHpN1NOi', 60, '2025-04-06 22:12:15.090608', '2025-04-06 22:12:15.090608', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$LsZJ0FXrDzOz0dEHmMQv0OlbAJjpI6MdCZjrP/rZu0CpQJu9bkO1G', 100, '2025-04-06 22:12:15.090608', '2025-04-06 22:12:15.090608', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:12:15.095642', '2025-04-06 22:12:15.095642', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:12:15.095642', '2025-04-06 22:12:15.095642', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:12:15 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 24ms (ActiveRecord: 0.5ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:12:15.279192"], ["updated_at", "2025-04-06 22:12:15.279192"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 18:12:15 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:12:15 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:12:15.405595"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.6ms (3 queries, 0 cached) | GC: 0.5ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:12:15 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:12:15.411106"], ["updated_at", "2025-04-06 22:12:15.411106"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:12:15.415156"], ["updated_at", "2025-04-06 22:12:15.415156"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:12:15.430040"], ["updated_at", "2025-04-06 22:12:15.430040"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: ArgumentError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:14:34.715324', '2025-04-06 22:14:34.715324'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:14:34.715324', '2025-04-06 22:14:34.715324');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:14:34.717543', '2025-04-06 22:14:34.717543', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:14:34.717543', '2025-04-06 22:14:34.717543', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Qa/m7CKdSzB08IkLpuEtUOYNXsFde4pU7LB8FagZodnDJjBwyYpvi', 60, '2025-04-06 22:14:34.723328', '2025-04-06 22:14:34.723328', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$mA9i5Xkw30kChcxloLoGdeeWgKycClEv7bgkYuh6Rx7N5K.J.pI5C', 100, '2025-04-06 22:14:34.723328', '2025-04-06 22:14:34.723328', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:14:34.728039', '2025-04-06 22:14:34.728039', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:14:34.728039', '2025-04-06 22:14:34.728039', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:14:34 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 26ms (ActiveRecord: 0.5ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:14:34 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:14:34.925053"], ["updated_at", "2025-04-06 22:14:34.925053"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:14:34.931448"], ["updated_at", "2025-04-06 22:14:34.931448"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 18:14:34 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:14:35.061579"], ["updated_at", "2025-04-06 22:14:35.061579"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:14:35.067954"], ["updated_at", "2025-04-06 22:14:35.067954"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:14:35 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:70:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:69:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:14:35 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.1ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:14:35.189652"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 13ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:17:43.834705', '2025-04-06 22:17:43.834705'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:17:43.834705', '2025-04-06 22:17:43.834705');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:17:43.837202', '2025-04-06 22:17:43.837202', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:17:43.837202', '2025-04-06 22:17:43.837202', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$6tgg4xUvY70uSYi8cnrIMuTb4rhx2TPrNt/WMTfDbXeLCxIjgQpqa', 60, '2025-04-06 22:17:43.843084', '2025-04-06 22:17:43.843084', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$3vQaglkiwWkk9Zhh99I9MehMS2CCBb5KyChh7YpVePUeUZ/VmdLge', 100, '2025-04-06 22:17:43.843084', '2025-04-06 22:17:43.843084', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:17:43.847778', '2025-04-06 22:17:43.847778', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:17:43.847778', '2025-04-06 22:17:43.847778', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:17:53.061030', '2025-04-06 22:17:53.061030'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:17:53.061030', '2025-04-06 22:17:53.061030');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:17:53.063563', '2025-04-06 22:17:53.063563', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:17:53.063563', '2025-04-06 22:17:53.063563', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$OPYxfKz.tABI7WEKtLw/xuqd1JkYYbkNcqpN5dy35.CRE4lVfH.ga', 60, '2025-04-06 22:17:53.069434', '2025-04-06 22:17:53.069434', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$ydNtH83pYtC9FwrO/wMaGuDZ0ExNDSf4x758y5LHnefUlAhaNHQKG', 100, '2025-04-06 22:17:53.069434', '2025-04-06 22:17:53.069434', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'active', '2025-04-06 22:17:53.074400', '2025-04-06 22:17:53.074400', NULL), (298486374, 298486374, 102, 'Inactive', '2025-04-06 22:17:53.074400', '2025-04-06 22:17:53.074400', NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:17:53.188154"], ["updated_at", "2025-04-06 22:17:53.188154"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 18:17:53 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:17:53 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:17:53.434366"], ["updated_at", "2025-04-06 22:17:53.434366"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 15ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.6ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:17:53.446839"], ["updated_at", "2025-04-06 22:17:53.446839"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:17:53.458038"], ["updated_at", "2025-04-06 22:17:53.458038"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:17:53 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:70:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:69:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:17:53 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 13ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 2.2ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:17:53 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.1ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:17:53.573185"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 1.1ms)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:20:55.975618', '2025-04-06 22:20:55.975618'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:20:55.975618', '2025-04-06 22:20:55.975618');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:20:55.978164', '2025-04-06 22:20:55.978164', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:20:55.978164', '2025-04-06 22:20:55.978164', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$R1fgzxgtHHi9Xs2H/Qf49ev3PjPowkka1UDmQyGj/B9BogiZd5Yua', 60, '2025-04-06 22:20:55.984188', '2025-04-06 22:20:55.984188', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$uweZ5XCeMAGvc.eWkzn8HOgwxNgf0B.PBxI/Bg9Y0dASPkPxM9zwe', 100, '2025-04-06 22:20:55.984188', '2025-04-06 22:20:55.984188', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:20:55.989056', '2025-04-06 22:20:55.989056', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:20:55.989056', '2025-04-06 22:20:55.989056', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:20:56 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:20:56.160052"], ["updated_at", "2025-04-06 22:20:56.160052"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:20:56 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:20:56 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:20:56.196409"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:20:56.199181"], ["updated_at", "2025-04-06 22:20:56.199181"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:20:56.202121"], ["updated_at", "2025-04-06 22:20:56.202121"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:20:56.217213"], ["updated_at", "2025-04-06 22:20:56.217213"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:20:56 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:70:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:69:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:22:07.452080', '2025-04-06 22:22:07.452080'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:22:07.452080', '2025-04-06 22:22:07.452080');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:22:07.454737', '2025-04-06 22:22:07.454737', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:22:07.454737', '2025-04-06 22:22:07.454737', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$1RaKgmWcWraKqxzID/6Ma.0/obeOAlVOSpJkSG.bXWlDm0jQ71bhy', 60, '2025-04-06 22:22:07.460472', '2025-04-06 22:22:07.460472', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$I9bRFzYt0wqceyvx8tKCjuWOpxUR5VO9ZIHROOWi9xdXyzE.mS0bG', 100, '2025-04-06 22:22:07.460472', '2025-04-06 22:22:07.460472', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:22:07.465210', '2025-04-06 22:22:07.465210', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:22:07.465210', '2025-04-06 22:22:07.465210', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (1.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:22:15.374826', '2025-04-06 22:22:15.374826'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:22:15.374826', '2025-04-06 22:22:15.374826');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:22:15.377712', '2025-04-06 22:22:15.377712', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:22:15.377712', '2025-04-06 22:22:15.377712', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$F6Qm9sQJFXdOGA7T4FgUSOcfl4869Vt9f9bD0BS/J0cCl9BY74C12', 60, '2025-04-06 22:22:15.384128', '2025-04-06 22:22:15.384128', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$YOHqZQ1pKBLHcjLTk.Quy.VsAbp.Z9n0Z.ckIkrOfIlvQZaUpLikO', 100, '2025-04-06 22:22:15.384128', '2025-04-06 22:22:15.384128', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:22:15.389102', '2025-04-06 22:22:15.389102', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:22:15.389102', '2025-04-06 22:22:15.389102', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:22:15 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:22:15.563546"], ["updated_at", "2025-04-06 22:22:15.563546"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:22:15 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:22:15.598515"], ["updated_at", "2025-04-06 22:22:15.598515"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:22:15.601366"], ["updated_at", "2025-04-06 22:22:15.601366"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:22:15 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:70:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:69:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:22:15 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:22:15.735463"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.5ms)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.6ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:22:15.749265"], ["updated_at", "2025-04-06 22:22:15.749265"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:24:07.773636', '2025-04-06 22:24:07.773636'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:24:07.773636', '2025-04-06 22:24:07.773636');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:24:07.776277', '2025-04-06 22:24:07.776277', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:24:07.776277', '2025-04-06 22:24:07.776277', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$WJdnrgm5nm2xIrWvF.3AlelqYfuoPhchUEnWovSjdrKSqGK5XHjSO', 60, '2025-04-06 22:24:07.782249', '2025-04-06 22:24:07.782249', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$JRY7BWhfreBlhK7mjsLfT.P/g4pniZTMquZVIxLP3ZHJVewEjXjra', 100, '2025-04-06 22:24:07.782249', '2025-04-06 22:24:07.782249', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:24:07.787064', '2025-04-06 22:24:07.787064', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:24:07.787064', '2025-04-06 22:24:07.787064', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:24:07.908763"], ["updated_at", "2025-04-06 22:24:07.908763"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:24:07.939252"], ["updated_at", "2025-04-06 22:24:07.939252"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:24:07 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:70:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:69:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:24:08 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.9ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 29ms (ActiveRecord: 1.6ms (6 queries, 1 cached) | GC: 0.1ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:24:08 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:24:08.200823"], ["updated_at", "2025-04-06 22:24:08.200823"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:24:08 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:24:08.209454"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 11ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.5ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:24:08.222559"], ["updated_at", "2025-04-06 22:24:08.222559"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:24:38.232093', '2025-04-06 22:24:38.232093'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:24:38.232093', '2025-04-06 22:24:38.232093');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:24:38.234597', '2025-04-06 22:24:38.234597', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:24:38.234597', '2025-04-06 22:24:38.234597', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$KdNS9caTr2OvRm6usxcSQevSFb3yFxSymxkiYsAh1vHjaRESWGBQy', 60, '2025-04-06 22:24:38.240491', '2025-04-06 22:24:38.240491', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$pKTpUaGQmfN9WRrJMefTEuBZq.MpkowUgTWIHmNc.8Qx4DtCmcwYi', 100, '2025-04-06 22:24:38.240491', '2025-04-06 22:24:38.240491', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:24:38.245185', '2025-04-06 22:24:38.245185', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:24:38.245185', '2025-04-06 22:24:38.245185', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:24:38.371408"], ["updated_at", "2025-04-06 22:24:38.371408"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:24:38.401095"], ["updated_at", "2025-04-06 22:24:38.401095"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:24:38 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:99:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:98:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:24:38.590616"], ["updated_at", "2025-04-06 22:24:38.590616"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.6ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:24:38 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:24:38.648108"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 27ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:24:38 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:24:38.672019"], ["updated_at", "2025-04-06 22:24:38.672019"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.7ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:24:38 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 16ms (ActiveRecord: 0.7ms (6 queries, 1 cached) | GC: 2.8ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (1.2ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:25:14.612319', '2025-04-06 22:25:14.612319'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:25:14.612319', '2025-04-06 22:25:14.612319');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:25:14.614529', '2025-04-06 22:25:14.614529', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:25:14.614529', '2025-04-06 22:25:14.614529', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$urpnhfmFLRl66dmC8QSe.uz0lPZRQQZh/cSUAcXRaNRhcd4UOa0oe', 60, '2025-04-06 22:25:14.620601', '2025-04-06 22:25:14.620601', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$gjQxRRApY1erW7LRyjBV.OTdUTT9jLN3qnyr6BexqdgBLUUZZaN9W', 100, '2025-04-06 22:25:14.620601', '2025-04-06 22:25:14.620601', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:25:14.625430', '2025-04-06 22:25:14.625430', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:25:14.625430', '2025-04-06 22:25:14.625430', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:25:14.750585"], ["updated_at", "2025-04-06 22:25:14.750585"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:25:14.781018"], ["updated_at", "2025-04-06 22:25:14.781018"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:25:14 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:99:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:98:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:25:14 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (1.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 32ms (ActiveRecord: 2.7ms (6 queries, 1 cached) | GC: 1.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:25:15 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:25:15.046328"], ["updated_at", "2025-04-06 22:25:15.046328"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.2ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:25:15.052052"], ["updated_at", "2025-04-06 22:25:15.052052"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:25:15 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:25:15.058905"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.9ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:26:25.498655', '2025-04-06 22:26:25.498655'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:26:25.498655', '2025-04-06 22:26:25.498655');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:26:25.500853', '2025-04-06 22:26:25.500853', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:26:25.500853', '2025-04-06 22:26:25.500853', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$I3HcBz6wW.NxDocVeCnnGOF1ZmOglrT4bOhhZgBnEtGAgjOW4td3e', 60, '2025-04-06 22:26:25.506717', '2025-04-06 22:26:25.506717', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$5fkpLvDXrswxr.2P0pvCWuMwpR/Cjb5KrYyoBCl7WUcJZX0KE.rGu', 100, '2025-04-06 22:26:25.506717', '2025-04-06 22:26:25.506717', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:26:25.511441', '2025-04-06 22:26:25.511441', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:26:25.511441', '2025-04-06 22:26:25.511441', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:26:25.632155"], ["updated_at", "2025-04-06 22:26:25.632155"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:26:25.661708"], ["updated_at", "2025-04-06 22:26:25.661708"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.8ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:26:25.681752"], ["updated_at", "2025-04-06 22:26:25.681752"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:26:25 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:70:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:69:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:26:25 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:26:25.908454"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 28ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:26:25 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:26:25.931936"], ["updated_at", "2025-04-06 22:26:25.931936"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:26:25 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.6ms (6 queries, 1 cached) | GC: 1.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:26:39.614072', '2025-04-06 22:26:39.614072'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:26:39.614072', '2025-04-06 22:26:39.614072');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:26:39.616330', '2025-04-06 22:26:39.616330', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:26:39.616330', '2025-04-06 22:26:39.616330', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$cNFJ/FqhqM6lHjcDY5vxju/iYXKKZ506fc57FCKFBsdeHQT9iTwSy', 60, '2025-04-06 22:26:39.622459', '2025-04-06 22:26:39.622459', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$cH2H7BSh8oeYJprKU5ySeuZjJJ7243mab8nDNWxzKYq2n/uiNAbyW', 100, '2025-04-06 22:26:39.622459', '2025-04-06 22:26:39.622459', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:26:39.627301', '2025-04-06 22:26:39.627301', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:26:39.627301', '2025-04-06 22:26:39.627301', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:26:39 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:26:39.800669"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 21ms (ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:26:39 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:26:39.818751"], ["updated_at", "2025-04-06 22:26:39.818751"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:26:39.823029"], ["updated_at", "2025-04-06 22:26:39.823029"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:26:39 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 10ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:26:39.841457"], ["updated_at", "2025-04-06 22:26:39.841457"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:26:39.856279"], ["updated_at", "2025-04-06 22:26:39.856279"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:26:39 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:70:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:69:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:27:22.122679', '2025-04-06 22:27:22.122679'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:27:22.122679', '2025-04-06 22:27:22.122679');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:27:22.125357', '2025-04-06 22:27:22.125357', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:27:22.125357', '2025-04-06 22:27:22.125357', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$6rD4myWGd8JP.Pf.5fbop.0DbiqXtSoucZvSuEetHEIF8LPlS/iry', 60, '2025-04-06 22:27:22.131381', '2025-04-06 22:27:22.131381', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$SgmkjFVcn0w3zjdFs4lz0ui3Q/FYrggwyEdhpE5df6unhMcU.67Le', 100, '2025-04-06 22:27:22.131381', '2025-04-06 22:27:22.131381', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:27:22.136372', '2025-04-06 22:27:22.136372', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:27:22.136372', '2025-04-06 22:27:22.136372', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:27:22 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.1ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:27:22.315957"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 21ms (ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:27:22.333337"], ["updated_at", "2025-04-06 22:27:22.333337"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:27:22.342514"], ["updated_at", "2025-04-06 22:27:22.342514"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:27:22 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:100:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:99:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:27:22 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:27:22.471301"], ["updated_at", "2025-04-06 22:27:22.471301"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:27:22.475548"], ["updated_at", "2025-04-06 22:27:22.475548"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:27:22 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 21ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.1ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:28:12.323408', '2025-04-06 22:28:12.323408'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:28:12.323408', '2025-04-06 22:28:12.323408');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:28:12.325950', '2025-04-06 22:28:12.325950', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:28:12.325950', '2025-04-06 22:28:12.325950', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$RUkvSr/ZN7ucM42aaEuvqu7Pg0t38EoXWWauhnQsyxRaTwNt.ZkP.', 60, '2025-04-06 22:28:12.331785', '2025-04-06 22:28:12.331785', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$BJR2964f7s/A.5eY81MfXu.SzaTEbsSeY6wOhUSzzvf6Br7LUlyfC', 100, '2025-04-06 22:28:12.331785', '2025-04-06 22:28:12.331785', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:28:12.336635', '2025-04-06 22:28:12.336635', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:28:12.336635', '2025-04-06 22:28:12.336635', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:28:12 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 26ms (ActiveRecord: 0.5ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:28:12 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:28:12.536192"], ["updated_at", "2025-04-06 22:28:12.536192"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 7ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:28:12.542702"], ["updated_at", "2025-04-06 22:28:12.542702"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:28:12.545674"], ["updated_at", "2025-04-06 22:28:12.545674"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:28:12 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:71:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:70:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:28:12 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:28:12.672297"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 1.9ms (3 queries, 0 cached) | GC: 0.9ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:28:12.684823"], ["updated_at", "2025-04-06 22:28:12.684823"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:28:30.108807', '2025-04-06 22:28:30.108807'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:28:30.108807', '2025-04-06 22:28:30.108807');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:28:30.110948', '2025-04-06 22:28:30.110948', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:28:30.110948', '2025-04-06 22:28:30.110948', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$KB9I1xMdo4JMjLNAZyGv2ufLogoOCx7pZWJCdw4x5nt1IEZa02xmi', 60, '2025-04-06 22:28:30.117128', '2025-04-06 22:28:30.117128', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$0zwuSaRma.Qgwqumw810EeXT1Q2c5QzjWlt/slx61uIfPJzDEoXKW', 100, '2025-04-06 22:28:30.117128', '2025-04-06 22:28:30.117128', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:28:30.122304', '2025-04-06 22:28:30.122304', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:28:30.122304', '2025-04-06 22:28:30.122304', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:28:30.241522"], ["updated_at", "2025-04-06 22:28:30.241522"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:28:30 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:28:30.315029"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 20ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:28:30.329730"], ["updated_at", "2025-04-06 22:28:30.329730"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:28:30.336774"], ["updated_at", "2025-04-06 22:28:30.336774"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:28:30 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:71:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:70:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:28:30 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 9ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.2ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:28:30 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:28:30.479832"], ["updated_at", "2025-04-06 22:28:30.479832"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:31:41.720344', '2025-04-06 22:31:41.720344'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:31:41.720344', '2025-04-06 22:31:41.720344');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:31:41.722564', '2025-04-06 22:31:41.722564', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:31:41.722564', '2025-04-06 22:31:41.722564', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$qePzYzCnAqYU0IXoaa.DQumT4In03Rtxd5YkXmKVaMk0Ko1GjJVIi', 60, '2025-04-06 22:31:41.728413', '2025-04-06 22:31:41.728413', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$tI07zk49YGMfpL9alOO7JOXnNiULsv/Goqo0Qvtn2G/9Ig2dlpWTa', 100, '2025-04-06 22:31:41.728413', '2025-04-06 22:31:41.728413', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 22:31:41.733112', '2025-04-06 22:31:41.733112', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:31:41.733112', '2025-04-06 22:31:41.733112', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:31:41 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:31:41.893254"], ["updated_at", "2025-04-06 22:31:41.893254"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:31:41.911808"], ["updated_at", "2025-04-06 22:31:41.911808"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:31:41.920900"], ["updated_at", "2025-04-06 22:31:41.920900"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:31:41 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:71:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:70:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:31:42 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:31:42.040769"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:31:42.046410"], ["updated_at", "2025-04-06 22:31:42.046410"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 18:31:42 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:31:42 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:31:53.253756', '2025-04-06 22:31:53.253756'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:31:53.253756', '2025-04-06 22:31:53.253756');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:31:53.256038', '2025-04-06 22:31:53.256038', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:31:53.256038', '2025-04-06 22:31:53.256038', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$nExq2t8fb4x.RZIrkgNP8Oibgr1FJr4Se.SczC6odm4b/7DBnB1eu', 60, '2025-04-06 22:31:53.262062', '2025-04-06 22:31:53.262062', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$5L5vEiupKQKmIf2J3I8Qkufej/uyHaLf/A3rS0gwxtGYlZWZ99oSi', 100, '2025-04-06 22:31:53.262062', '2025-04-06 22:31:53.262062', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-06 22:31:53.266827', '2025-04-06 22:31:53.266827', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:31:53.266827', '2025-04-06 22:31:53.266827', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:31:53 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 24ms (ActiveRecord: 0.5ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:31:53.448699"], ["updated_at", "2025-04-06 22:31:53.448699"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:31:53.455563"], ["updated_at", "2025-04-06 22:31:53.455563"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:31:53 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:71:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:70:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:31:53 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:31:53.573863"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:31:53.577983"], ["updated_at", "2025-04-06 22:31:53.577983"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:31:53 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:31:53.592341"], ["updated_at", "2025-04-06 22:31:53.592341"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.6ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:32:23.814661', '2025-04-06 22:32:23.814661'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:32:23.814661', '2025-04-06 22:32:23.814661');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:32:23.816944', '2025-04-06 22:32:23.816944', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:32:23.816944', '2025-04-06 22:32:23.816944', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$L/g5C8jy8FU/tgFyp7AZPebobcBzL82TiSOLUVrefNFJzWhEkYr6.', 60, '2025-04-06 22:32:23.822915', '2025-04-06 22:32:23.822915', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$Bs3hyJJjJT2xg7rWmT9ZHeoUmMC6rvV/nsssOfl1COf0pI5Z7W22i', 100, '2025-04-06 22:32:23.822915', '2025-04-06 22:32:23.822915', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 22:32:23.827873', '2025-04-06 22:32:23.827873', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:32:23.827873', '2025-04-06 22:32:23.827873', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:32:23.958193"], ["updated_at", "2025-04-06 22:32:23.958193"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 18:32:23 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:32:24.162366"], ["updated_at", "2025-04-06 22:32:24.162366"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (1.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:32:24.181693"], ["updated_at", "2025-04-06 22:32:24.181693"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:32:24 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:71:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:70:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:32:24 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:32:24.334345"], ["updated_at", "2025-04-06 22:32:24.334345"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 16ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.7ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:32:24 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:32:24.352674"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 13ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:32:24 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.7ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:35:09.812992', '2025-04-06 22:35:09.812992'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:35:09.812992', '2025-04-06 22:35:09.812992');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:35:09.815604', '2025-04-06 22:35:09.815604', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:35:09.815604', '2025-04-06 22:35:09.815604', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$0aLnMjPXyrHGMacd6/mvGOU0xYhx0cKcOeyrl/TsHC0R8fEm23zqC', 60, '2025-04-06 22:35:09.821509', '2025-04-06 22:35:09.821509', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$5BVSyrnA2THPIu4p7At.FuRxKyZ/2BR.d..Ai94Lkab/.RON3yHfC', 100, '2025-04-06 22:35:09.821509', '2025-04-06 22:35:09.821509', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 22:35:09.826236', '2025-04-06 22:35:09.826236', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:35:09.826236', '2025-04-06 22:35:09.826236', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:35:09 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:35:09.994621"], ["updated_at", "2025-04-06 22:35:09.994621"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:35:10 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:35:10.028477"], ["updated_at", "2025-04-06 22:35:10.028477"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:35:10.031406"], ["updated_at", "2025-04-06 22:35:10.031406"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:35:10 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:71:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:70:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:35:10 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:35:10.163624"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 1.1ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:35:10.177038"], ["updated_at", "2025-04-06 22:35:10.177038"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:35:10 -0400
Processing by CoursesController#create as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ActionController::ParameterMissing (param is missing or the value is empty or invalid: course):
  
app/controllers/courses_controller.rb:112:in 'CoursesController#course_params'
app/controllers/courses_controller.rb:75:in 'CoursesController#create'
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:35:56.674580', '2025-04-06 22:35:56.674580'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:35:56.674580', '2025-04-06 22:35:56.674580');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:35:56.676850', '2025-04-06 22:35:56.676850', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:35:56.676850', '2025-04-06 22:35:56.676850', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$NrUUqfs57f6cL0yIO38RqeDoS/oKdRvrCEJGB7HR2L5pz.dO0cuEq', 60, '2025-04-06 22:35:56.682816', '2025-04-06 22:35:56.682816', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$uyudWSI/j/1dD8k9dpcqEuMkUFFX7mLzfAJhrqYL21ueczn.B7IiC', 100, '2025-04-06 22:35:56.682816', '2025-04-06 22:35:56.682816', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 22:35:56.688132', '2025-04-06 22:35:56.688132', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:35:56.688132', '2025-04-06 22:35:56.688132', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:35:56 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:35:56.842150"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 20ms (ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:35:56.857968"], ["updated_at", "2025-04-06 22:35:56.857968"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:35:56.865267"], ["updated_at", "2025-04-06 22:35:56.865267"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:35:56 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:71:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:70:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:35:56.981208"], ["updated_at", "2025-04-06 22:35:56.981208"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 18:35:56 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:35:57 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:35:57.098405"], ["updated_at", "2025-04-06 22:35:57.098405"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:35:57 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 19ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.5ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:38:28.052774', '2025-04-06 22:38:28.052774'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:38:28.052774', '2025-04-06 22:38:28.052774');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:38:28.055002', '2025-04-06 22:38:28.055002', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:38:28.055002', '2025-04-06 22:38:28.055002', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$9k/VC2C7GacKv21SyESyweBqQ6KxTqF/SSI38ER2YT19mAbL2otfC', 60, '2025-04-06 22:38:28.060770', '2025-04-06 22:38:28.060770', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$zjIcnwI2UNvtANUobt8VX.pTADvv6oDZVrTrH4OG.i2WVzMaP9u6y', 100, '2025-04-06 22:38:28.060770', '2025-04-06 22:38:28.060770', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 22:38:28.065794', '2025-04-06 22:38:28.065794', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:38:28.065794', '2025-04-06 22:38:28.065794', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 18:38:28 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 26ms (ActiveRecord: 0.5ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 18:38:28 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 22:38:28.263028"], ["updated_at", "2025-04-06 22:38:28.263028"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:38:28.269588"], ["updated_at", "2025-04-06 22:38:28.269588"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 18:38:28 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 22:38:28.550266"], ["updated_at", "2025-04-06 22:38:28.550266"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 22:38:28.556604"], ["updated_at", "2025-04-06 22:38:28.556604"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 18:38:28 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:71:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:70:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 18:38:28 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 22:38:28.674441"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 13ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.5ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:40:15.417629', '2025-04-06 22:40:15.417629'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 22:40:15.417629', '2025-04-06 22:40:15.417629');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 22:40:15.419839', '2025-04-06 22:40:15.419839', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 22:40:15.419839', '2025-04-06 22:40:15.419839', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$7Iuibz7h2yVXYw6aWroJV.71Y5JtNs256F8HCxXs8XK1haV98mQXS', 60, '2025-04-06 22:40:15.425678', '2025-04-06 22:40:15.425678', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$q4jPKiFvZzudybpc/IUxheMKCzUQ8PT6SFtPjslBBpE9wTmjma0/a', 100, '2025-04-06 22:40:15.425678', '2025-04-06 22:40:15.425678', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 22:40:15.430363', '2025-04-06 22:40:15.430363', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 22:40:15.430363', '2025-04-06 22:40:15.430363', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (1.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.9ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:26:09.028703', '2025-04-06 23:26:09.028703'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:26:09.028703', '2025-04-06 23:26:09.028703');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:26:09.031147', '2025-04-06 23:26:09.031147', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:26:09.031147', '2025-04-06 23:26:09.031147', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$JVLE9nV/sqClbTlq3ounB.CQzuxvOYyWhaO3VebHePLU4KnznSrKC', 60, '2025-04-06 23:26:09.036975', '2025-04-06 23:26:09.036975', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$s0pCAtKjuQDjix92bj61L.8t/p3Zp5Ik1eTTol8aYAPs7Yu72CXsm', 100, '2025-04-06 23:26:09.036975', '2025-04-06 23:26:09.036975', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:26:09.041776', '2025-04-06 23:26:09.041776', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:26:09.041776', '2025-04-06 23:26:09.041776', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:26:09 -0400
CoursesControllerTest - test_should_create_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.6ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.6ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:26:09.203888"], ["updated_at", "2025-04-06 23:26:09.203888"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:26:09.221476"], ["updated_at", "2025-04-06 23:26:09.221476"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:26:09 -0400
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:26:09 -0400
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:26:09.241455"], ["updated_at", "2025-04-06 23:26:09.241455"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:26:09 -0400
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:26:09 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:26:17.717786', '2025-04-06 23:26:17.717786'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:26:17.717786', '2025-04-06 23:26:17.717786');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:26:17.720209', '2025-04-06 23:26:17.720209', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:26:17.720209', '2025-04-06 23:26:17.720209', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$571Y/efnJglMmKLl3ROjEOX7qHcWptsEl8d9Qn2aUZuhjkaJLJYnq', 60, '2025-04-06 23:26:17.726280', '2025-04-06 23:26:17.726280', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$5wxj3WxisUFVhWoGQIaKaeFAVruKiCc.NM46evvOaLvfMNOpb/zkS', 100, '2025-04-06 23:26:17.726280', '2025-04-06 23:26:17.726280', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:26:17.731155', '2025-04-06 23:26:17.731155', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:26:17.731155', '2025-04-06 23:26:17.731155', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.5ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (1.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:26:24.126224', '2025-04-06 23:26:24.126224'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:26:24.126224', '2025-04-06 23:26:24.126224');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:26:24.128712', '2025-04-06 23:26:24.128712', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:26:24.128712', '2025-04-06 23:26:24.128712', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$hBdRO7jF6Y2ZrPSCgUzNh.VTDwX2Zk5Da7YCh9oq41zzyeBqcq.t2', 60, '2025-04-06 23:26:24.134635', '2025-04-06 23:26:24.134635', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$hwkxUAXjjCucs.SZoMiOAevRcq/bvF5yk3C7a4wJmGmqc/HgZe/R.', 100, '2025-04-06 23:26:24.134635', '2025-04-06 23:26:24.134635', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:26:24.139361', '2025-04-06 23:26:24.139361', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:26:24.139361', '2025-04-06 23:26:24.139361', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:26:34.180561', '2025-04-06 23:26:34.180561'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:26:34.180561', '2025-04-06 23:26:34.180561');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:26:34.182791', '2025-04-06 23:26:34.182791', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:26:34.182791', '2025-04-06 23:26:34.182791', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$/zbgFQQdBjQJgYMiLee/6ehLTKHcKXQrH1X45b0Bt9HFY.Ey9Sg92', 60, '2025-04-06 23:26:34.188737', '2025-04-06 23:26:34.188737', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$PhdZfxcXoBgVlw0kQck8zeN8YDba3RIg5adGvB9DxKTykejCcMvuS', 100, '2025-04-06 23:26:34.188737', '2025-04-06 23:26:34.188737', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:26:34.193784', '2025-04-06 23:26:34.193784', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:26:34.193784', '2025-04-06 23:26:34.193784', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:26:34.305587"], ["updated_at", "2025-04-06 23:26:34.305587"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:26:34 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
Completed 404 Not Found in 10ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:26:34.655153"], ["updated_at", "2025-04-06 23:26:34.655153"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:26:34.663008"], ["updated_at", "2025-04-06 23:26:34.663008"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:26:34 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:71:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:70:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:26:34 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:26:34 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:26:34.776653"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:26:34 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:26:34.781401"], ["updated_at", "2025-04-06 23:26:34.781401"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:27:03.714456', '2025-04-06 23:27:03.714456'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:27:03.714456', '2025-04-06 23:27:03.714456');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:27:03.717021', '2025-04-06 23:27:03.717021', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:27:03.717021', '2025-04-06 23:27:03.717021', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$NWLrBQbuSpfdlUOfwp61AODHRrE/nPSlM3uJ8AhUh7blT11Ygln8G', 60, '2025-04-06 23:27:03.722955', '2025-04-06 23:27:03.722955', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$XSLH1lESmjhOA04kUVvZIuhnw9.GHiblzCR5J92J65BN/WS2M/0PG', 100, '2025-04-06 23:27:03.722955', '2025-04-06 23:27:03.722955', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:27:03.728068', '2025-04-06 23:27:03.728068', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:27:03.728068', '2025-04-06 23:27:03.728068', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:27:03 -0400
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.6ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.6ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:27:03.887690"], ["updated_at", "2025-04-06 23:27:03.887690"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.7ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:27:03.905752"], ["updated_at", "2025-04-06 23:27:03.905752"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:27:03 -0400
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:27:03.921753"], ["updated_at", "2025-04-06 23:27:03.921753"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:27:03 -0400
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:27:03 -0400
CoursesControllerTest - test_should_create_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:27:03 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:27:32.620808', '2025-04-06 23:27:32.620808'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:27:32.620808', '2025-04-06 23:27:32.620808');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:27:32.623078', '2025-04-06 23:27:32.623078', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:27:32.623078', '2025-04-06 23:27:32.623078', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$CUMkHKjgN2XuG9FNRps5IeH71BbGi6EM1vV3EES6ROU2HzHdT9lFO', 60, '2025-04-06 23:27:32.628986', '2025-04-06 23:27:32.628986', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$/VBbzSc/Ctucxo8OhNyyquu4TLJBpJpsotjbCh5Mc9FTskQBONd5S', 100, '2025-04-06 23:27:32.628986', '2025-04-06 23:27:32.628986', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:27:32.633747', '2025-04-06 23:27:32.633747', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:27:32.633747', '2025-04-06 23:27:32.633747', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:27:32 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:27:32.802714"], ["updated_at", "2025-04-06 23:27:32.802714"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:27:32.821231"], ["updated_at", "2025-04-06 23:27:32.821231"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:27:32.830518"], ["updated_at", "2025-04-06 23:27:32.830518"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:27:32 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:71:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:70:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:27:32 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 9ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.6ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:27:32 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:27:32.972666"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 1.1ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.6ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:27:32.985364"], ["updated_at", "2025-04-06 23:27:32.985364"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:27:32 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:29:15.467676', '2025-04-06 23:29:15.467676'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:29:15.467676', '2025-04-06 23:29:15.467676');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:29:15.470234', '2025-04-06 23:29:15.470234', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:29:15.470234', '2025-04-06 23:29:15.470234', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$JmyshW7f1qvCgQbQlwtmzedE4Ag8FlnTbyRY5dp88jjxUXDj5F2d2', 60, '2025-04-06 23:29:15.476238', '2025-04-06 23:29:15.476238', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$L7nEzBMrk053twHi4xy/Z.dRW1CD2SGazWRr8G31WnXKz4lUfw8lC', 100, '2025-04-06 23:29:15.476238', '2025-04-06 23:29:15.476238', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:29:15.480931', '2025-04-06 23:29:15.480931', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:29:15.480931', '2025-04-06 23:29:15.480931', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.9ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:29:50.712970', '2025-04-06 23:29:50.712970'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:29:50.712970', '2025-04-06 23:29:50.712970');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:29:50.715581', '2025-04-06 23:29:50.715581', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:29:50.715581', '2025-04-06 23:29:50.715581', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Qa7DAAKn/EjqDDHQWiyA1OigGC05k9dRYXurEHsJmu80KFbwPeXJm', 60, '2025-04-06 23:29:50.721540', '2025-04-06 23:29:50.721540', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$qJT0/s56scbUzOV.z3CZdOg.eCrOPk8LilkazhE00EPce0BhskrIi', 100, '2025-04-06 23:29:50.721540', '2025-04-06 23:29:50.721540', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:29:50.726363', '2025-04-06 23:29:50.726363', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:29:50.726363', '2025-04-06 23:29:50.726363', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:29:50.852914"], ["updated_at", "2025-04-06 23:29:50.852914"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:29:50 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
Completed 404 Not Found in 10ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:29:51 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:29:51.205576"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 13ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:29:51 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:29:51.219567"], ["updated_at", "2025-04-06 23:29:51.219567"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:29:51.222639"], ["updated_at", "2025-04-06 23:29:51.222639"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:29:51.230639"], ["updated_at", "2025-04-06 23:29:51.230639"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:29:51 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:71:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:70:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:29:51 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 9ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:30:24.955048', '2025-04-06 23:30:24.955048'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:30:24.955048', '2025-04-06 23:30:24.955048');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:30:24.957575', '2025-04-06 23:30:24.957575', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:30:24.957575', '2025-04-06 23:30:24.957575', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$SRwkFFnDtVSxF6ac/Im4f.qSPpEUpxhCGyD.UYbuRFqSiwaJUHhjG', 60, '2025-04-06 23:30:24.963967', '2025-04-06 23:30:24.963967', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$vHwNU5z9n441TeO60omlzOU4QD7L1G0ItnP6d5gHok0F2TfchQlYC', 100, '2025-04-06 23:30:24.963967', '2025-04-06 23:30:24.963967', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:30:24.968889', '2025-04-06 23:30:24.968889', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:30:24.968889', '2025-04-06 23:30:24.968889', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:30:25.110978"], ["updated_at", "2025-04-06 23:30:25.110978"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:30:25.124692"], ["updated_at", "2025-04-06 23:30:25.124692"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:30:25 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123458"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
Completed 404 Not Found in 6ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:168:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:167:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:30:25 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 15ms (ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 0.4ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:30:25 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:30:25.473757"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:30:25 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:30:25.480041"], ["updated_at", "2025-04-06 23:30:25.480041"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 1.0ms (2 queries, 0 cached) | GC: 0.9ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:30:25.483531"], ["updated_at", "2025-04-06 23:30:25.483531"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:30:25 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:135:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:134:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:34:07.034723', '2025-04-06 23:34:07.034723'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:34:07.034723', '2025-04-06 23:34:07.034723');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:34:07.037149', '2025-04-06 23:34:07.037149', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:34:07.037149', '2025-04-06 23:34:07.037149', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$WqjrC6KIaKTMjgfUOint3uJb2HXujco7dDo9dl8K4nL.5Z0YJvomy', 60, '2025-04-06 23:34:07.043027', '2025-04-06 23:34:07.043027', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$nGs0RlJZUnElrEhOo.crxuEqXKIqyvTBTbspsTMmaoRLBjtH2BfLi', 100, '2025-04-06 23:34:07.043027', '2025-04-06 23:34:07.043027', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:34:07.047699', '2025-04-06 23:34:07.047699', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:34:07.047699', '2025-04-06 23:34:07.047699', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:34:07.190515"], ["updated_at", "2025-04-06 23:34:07.190515"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:34:07 -0400
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:34:07 -0400
CoursesControllerTest - test_should_create_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:34:07.231508"], ["updated_at", "2025-04-06 23:34:07.231508"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:34:07.234771"], ["updated_at", "2025-04-06 23:34:07.234771"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:34:07 -0400
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:34:07 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:34:07 -0400
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:34:18.673420', '2025-04-06 23:34:18.673420'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:34:18.673420', '2025-04-06 23:34:18.673420');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:34:18.675885', '2025-04-06 23:34:18.675885', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:34:18.675885', '2025-04-06 23:34:18.675885', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$3rPZETQ06jLNYyFKRs9bsOa7R62iLbYvdETH2SjMhWYEfCQxpTuEG', 60, '2025-04-06 23:34:18.682045', '2025-04-06 23:34:18.682045', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$ydNK1izAO1sifjIYDT6WdeqGtCqgg4LMokA5ksO5XJKvxpmQh5vDO', 100, '2025-04-06 23:34:18.682045', '2025-04-06 23:34:18.682045', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:34:18.686887', '2025-04-06 23:34:18.686887', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:34:18.686887', '2025-04-06 23:34:18.686887', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:34:18.817961"], ["updated_at", "2025-04-06 23:34:18.817961"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:34:18.831795"], ["updated_at", "2025-04-06 23:34:18.831795"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:34:18 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123458"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
Completed 404 Not Found in 6ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:168:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:167:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:34:19 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:34:19 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:34:19.182377"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:34:19.186901"], ["updated_at", "2025-04-06 23:34:19.186901"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:34:19 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:135:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:134:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:34:19 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:34:19.426382"], ["updated_at", "2025-04-06 23:34:19.426382"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:35:10.871999', '2025-04-06 23:35:10.871999'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:35:10.871999', '2025-04-06 23:35:10.871999');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:35:10.874235', '2025-04-06 23:35:10.874235', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:35:10.874235', '2025-04-06 23:35:10.874235', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$jx.YNeAddFbSMbP4axBJkuq8hPDSl8e69/4o1x0yWiyHTG4U9Q1gO', 60, '2025-04-06 23:35:10.880401', '2025-04-06 23:35:10.880401', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$661eUN33601wMk7OxRAmv.OHirUGFnYhK8MZzbwFytltmoBdgsuy6', 100, '2025-04-06 23:35:10.880401', '2025-04-06 23:35:10.880401', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:35:10.885117', '2025-04-06 23:35:10.885117', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:35:10.885117', '2025-04-06 23:35:10.885117', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:35:10.995836"], ["updated_at", "2025-04-06 23:35:10.995836"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.9ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:35:11.018521"], ["updated_at", "2025-04-06 23:35:11.018521"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:35:11.028509"], ["updated_at", "2025-04-06 23:35:11.028509"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
CoursesControllerTest - test_should_create_course: NameError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:37:51.532737', '2025-04-06 23:37:51.532737'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:37:51.532737', '2025-04-06 23:37:51.532737');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:37:51.535310', '2025-04-06 23:37:51.535310', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:37:51.535310', '2025-04-06 23:37:51.535310', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Do7cC.uP6V1GH9B1Z/faPep8GyGnKm0FqkUbGnV0GS5omy84D5gKK', 60, '2025-04-06 23:37:51.541279', '2025-04-06 23:37:51.541279', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$IiHwkdovQjSfbr.frZU.0e7vpxrtUz9xDeVrc1H7XKfdL8XxS9FIq', 100, '2025-04-06 23:37:51.541279', '2025-04-06 23:37:51.541279', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:37:51.546073', '2025-04-06 23:37:51.546073', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:37:51.546073', '2025-04-06 23:37:51.546073', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:37:51.656107"], ["updated_at", "2025-04-06 23:37:51.656107"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:37:51.671184"], ["updated_at", "2025-04-06 23:37:51.671184"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.8ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.8ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:37:51.694594"], ["updated_at", "2025-04-06 23:37:51.694594"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:38:28.288522', '2025-04-06 23:38:28.288522'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:38:28.288522', '2025-04-06 23:38:28.288522');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:38:28.290812', '2025-04-06 23:38:28.290812', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:38:28.290812', '2025-04-06 23:38:28.290812', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$DoPbL1aeglEnqpzz60fDNu6Mxq0ES4RxKJGHrYoahehWy4owkve3C', 60, '2025-04-06 23:38:28.296826', '2025-04-06 23:38:28.296826', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$gCzMYxnCTffjaL36lHyUguB9JNtrYM8YVorEKOzBd7FQA2SErKguC', 100, '2025-04-06 23:38:28.296826', '2025-04-06 23:38:28.296826', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:38:28.301580', '2025-04-06 23:38:28.301580', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:38:28.301580', '2025-04-06 23:38:28.301580', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:38:28.410970"], ["updated_at", "2025-04-06 23:38:28.410970"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:38:28.433684"], ["updated_at", "2025-04-06 23:38:28.433684"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:38:28.443509"], ["updated_at", "2025-04-06 23:38:28.443509"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
CoursesControllerTest - test_should_create_course: NameError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:38:59.349634', '2025-04-06 23:38:59.349634'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:38:59.349634', '2025-04-06 23:38:59.349634');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:38:59.351922', '2025-04-06 23:38:59.351922', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:38:59.351922', '2025-04-06 23:38:59.351922', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$NVc7CyAK2jlkwG.3.wmFweh7XsmZIWjbSldNpASID0LXqnDSHBhrO', 60, '2025-04-06 23:38:59.357838', '2025-04-06 23:38:59.357838', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$ceAOOYlxtMsRW8pWGeXlLesyCFYSeQTRZALqG0dYCgYpAjmZBBtxO', 100, '2025-04-06 23:38:59.357838', '2025-04-06 23:38:59.357838', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:38:59.362555', '2025-04-06 23:38:59.362555', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:38:59.362555', '2025-04-06 23:38:59.362555', NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:38:59.472184"], ["updated_at", "2025-04-06 23:38:59.472184"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:38:59.487129"], ["updated_at", "2025-04-06 23:38:59.487129"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.8ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.7ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
CoursesControllerTest - test_should_create_course: NameError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:39:25.678511', '2025-04-06 23:39:25.678511'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:39:25.678511', '2025-04-06 23:39:25.678511');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:39:25.680729', '2025-04-06 23:39:25.680729', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:39:25.680729', '2025-04-06 23:39:25.680729', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$4U140gm7mwXBMfLrpuNlP.GapB8mfmbZdU76KYWHqSWpIEqP68B3q', 60, '2025-04-06 23:39:25.686921', '2025-04-06 23:39:25.686921', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$IN9mmx74nncgFP1ZODgaSuLZx10yBoSEtJdZmnvtLOTZgskn.qCp2', 100, '2025-04-06 23:39:25.686921', '2025-04-06 23:39:25.686921', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:39:25.691871', '2025-04-06 23:39:25.691871', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:39:25.691871', '2025-04-06 23:39:25.691871', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.7ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (1.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:39:51.446125', '2025-04-06 23:39:51.446125'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:39:51.446125', '2025-04-06 23:39:51.446125');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:39:51.448577', '2025-04-06 23:39:51.448577', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:39:51.448577', '2025-04-06 23:39:51.448577', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$N5.7XMiuojqU0nNHjFaCee7V/e36tAHzCVeS9OLqUsvR86Wu9AnLW', 60, '2025-04-06 23:39:51.454715', '2025-04-06 23:39:51.454715', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$/t879SVJXHxLsrpwH6xhEuGllVf8QyvZue3iNOUPjMktgJkx2glI.', 100, '2025-04-06 23:39:51.454715', '2025-04-06 23:39:51.454715', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:39:51.459615', '2025-04-06 23:39:51.459615', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:39:51.459615', '2025-04-06 23:39:51.459615', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.6ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:40:10.569791', '2025-04-06 23:40:10.569791'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:40:10.569791', '2025-04-06 23:40:10.569791');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:40:10.572355', '2025-04-06 23:40:10.572355', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:40:10.572355', '2025-04-06 23:40:10.572355', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$pZdM896k8O4WkEA3suDCfOCH6cYCHO55f0DwMODlSUcUrZyZn4ZNm', 60, '2025-04-06 23:40:10.578365', '2025-04-06 23:40:10.578365', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$ZL6xE/chIj5q1gzpYBhPnuuDqrPt5OPwjVJTXS0euRgpr5T47BcOS', 100, '2025-04-06 23:40:10.578365', '2025-04-06 23:40:10.578365', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:40:10.583110', '2025-04-06 23:40:10.583110', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:40:10.583110', '2025-04-06 23:40:10.583110', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
CoursesControllerTest - test_should_create_course: NameError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:40:10.695878"], ["updated_at", "2025-04-06 23:40:10.695878"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:40:10.713532"], ["updated_at", "2025-04-06 23:40:10.713532"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:40:10.726447"], ["updated_at", "2025-04-06 23:40:10.726447"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:42:19.456213', '2025-04-06 23:42:19.456213'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:42:19.456213', '2025-04-06 23:42:19.456213');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:42:19.458431', '2025-04-06 23:42:19.458431', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:42:19.458431', '2025-04-06 23:42:19.458431', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$W97yU6dadh2XBZg6Dm00juvgUU2pZT1/v7KSnAPU0F5T9GJsFltDO', 60, '2025-04-06 23:42:19.464244', '2025-04-06 23:42:19.464244', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$9hxIQJUqKAUwRfFjMxwQF.IykzMkpEpX7wSLxafsI4wD0OgkfW5ee', 100, '2025-04-06 23:42:19.464244', '2025-04-06 23:42:19.464244', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:42:19.469351', '2025-04-06 23:42:19.469351', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:42:19.469351', '2025-04-06 23:42:19.469351', NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:42:19.578206"], ["updated_at", "2025-04-06 23:42:19.578206"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:42:19.593179"], ["updated_at", "2025-04-06 23:42:19.593179"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.8ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.7ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
CoursesControllerTest - test_should_create_course: NameError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:42:19.620281"], ["updated_at", "2025-04-06 23:42:19.620281"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:43:07.236255', '2025-04-06 23:43:07.236255'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:43:07.236255', '2025-04-06 23:43:07.236255');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:43:07.238875', '2025-04-06 23:43:07.238875', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:43:07.238875', '2025-04-06 23:43:07.238875', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$IJdxpZbHAsQlkrNZtXxY8.JLa08.vECua0uE.XnFzrttlDgtNexfa', 60, '2025-04-06 23:43:07.244852', '2025-04-06 23:43:07.244852', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$8UdKSmt3Q3xd/VZlKtGX4.2QfyqFCLqTzWbTrGcuFmker6u8Zt9WW', 100, '2025-04-06 23:43:07.244852', '2025-04-06 23:43:07.244852', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:43:07.249634', '2025-04-06 23:43:07.249634', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:43:07.249634', '2025-04-06 23:43:07.249634', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:43:07 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:43:07.412591"], ["updated_at", "2025-04-06 23:43:07.412591"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:43:07 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 13ms (ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:43:07 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:43:07.446927"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:43:07.449514"], ["updated_at", "2025-04-06 23:43:07.449514"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:43:07.452990"], ["updated_at", "2025-04-06 23:43:07.452990"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:43:07 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:99:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:98:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:43:07.590778"], ["updated_at", "2025-04-06 23:43:07.590778"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:43:07 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:43:34.353709', '2025-04-06 23:43:34.353709'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:43:34.353709', '2025-04-06 23:43:34.353709');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:43:34.355955', '2025-04-06 23:43:34.355955', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:43:34.355955', '2025-04-06 23:43:34.355955', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$WcTLlCswnmvnrYJEqzqoU.3X.NSNc65nZYN5vyCEJmdM2SiPU1TNK', 60, '2025-04-06 23:43:34.361978', '2025-04-06 23:43:34.361978', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$Eg0CjmXM5/JKeiBQYvKH6.Ig0Linsxk9WARMSxGNPEjFGxYK6SweS', 100, '2025-04-06 23:43:34.361978', '2025-04-06 23:43:34.361978', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:43:34.367021', '2025-04-06 23:43:34.367021', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:43:34.367021', '2025-04-06 23:43:34.367021', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:43:34 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:43:34.544078"], ["updated_at", "2025-04-06 23:43:34.544078"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 19ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:43:34 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:43:34.570377"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:43:34 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 8ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:43:34.585209"], ["updated_at", "2025-04-06 23:43:34.585209"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:43:34.589528"], ["updated_at", "2025-04-06 23:43:34.589528"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:43:34 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123458"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:82:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:81:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:43:34.861167"], ["updated_at", "2025-04-06 23:43:34.861167"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:43:34 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:49:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:48:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:45:03.925092', '2025-04-06 23:45:03.925092'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:45:03.925092', '2025-04-06 23:45:03.925092');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:45:03.927655', '2025-04-06 23:45:03.927655', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:45:03.927655', '2025-04-06 23:45:03.927655', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$AScTqTtsj5T8fJXJGlX2duShQ2oHeZVO6HiwKj2HBigeAzY.lSlJq', 60, '2025-04-06 23:45:03.933494', '2025-04-06 23:45:03.933494', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$zC.H9pYYsLUkLkr3V24j0eFtwge7FaRd3wKFTcMmrhZ9U//XC07i2', 100, '2025-04-06 23:45:03.933494', '2025-04-06 23:45:03.933494', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:45:03.938326', '2025-04-06 23:45:03.938326', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:45:03.938326', '2025-04-06 23:45:03.938326', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:45:04 -0400
CoursesControllerTest - test_should_create_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.6ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.6ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:45:04.100673"], ["updated_at", "2025-04-06 23:45:04.100673"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:45:04 -0400
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.7ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:45:04 -0400
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:45:04 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:45:04.139898"], ["updated_at", "2025-04-06 23:45:04.139898"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:45:04.144941"], ["updated_at", "2025-04-06 23:45:04.144941"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:45:04 -0400
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.8ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:45:11.672490', '2025-04-06 23:45:11.672490'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:45:11.672490', '2025-04-06 23:45:11.672490');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:45:11.675125', '2025-04-06 23:45:11.675125', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:45:11.675125', '2025-04-06 23:45:11.675125', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$VAnNl31sMjnUsbY6wMeIdeZw5A0UJTWcaMGpAaOT0pSrMe5xAFibe', 60, '2025-04-06 23:45:11.681193', '2025-04-06 23:45:11.681193', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$CkeOMUIsimAQJW5tWBgYS.6fnRDxdSWqt65c6/.QAROStY.e7PwP6', 100, '2025-04-06 23:45:11.681193', '2025-04-06 23:45:11.681193', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:45:11.686105', '2025-04-06 23:45:11.686105', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:45:11.686105', '2025-04-06 23:45:11.686105', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:45:11 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.6ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:45:11.838973"], ["updated_at", "2025-04-06 23:45:11.838973"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:45:11 -0400
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.8ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:45:11 -0400
CoursesControllerTest - test_should_create_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:45:11.872708"], ["updated_at", "2025-04-06 23:45:11.872708"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:45:11.877984"], ["updated_at", "2025-04-06 23:45:11.877984"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:45:11 -0400
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:45:11 -0400
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:45:24.493650', '2025-04-06 23:45:24.493650'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:45:24.493650', '2025-04-06 23:45:24.493650');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:45:24.496185', '2025-04-06 23:45:24.496185', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:45:24.496185', '2025-04-06 23:45:24.496185', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$.WuSPQhqzQc6PkAQJZ/qsuPZBL48LcDUhxWCSOFqBOc.PwYrK5a6O', 60, '2025-04-06 23:45:24.502395', '2025-04-06 23:45:24.502395', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$Oao9uBvET2JLKIQpZodXT.9rYOTnjY2iVyr3RsIS639ETcuemjGvK', 100, '2025-04-06 23:45:24.502395', '2025-04-06 23:45:24.502395', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:45:24.507375', '2025-04-06 23:45:24.507375', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:45:24.507375', '2025-04-06 23:45:24.507375', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:45:24.619581"], ["updated_at", "2025-04-06 23:45:24.619581"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:45:24.648544"], ["updated_at", "2025-04-06 23:45:24.648544"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:45:24 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:99:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:98:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:45:24 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:45:24.870166"], ["updated_at", "2025-04-06 23:45:24.870166"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 17ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.7ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:45:24 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.1ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:45:24.891608"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:45:24 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 16ms (ActiveRecord: 0.7ms (6 queries, 1 cached) | GC: 1.1ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:46:17.651585', '2025-04-06 23:46:17.651585'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:46:17.651585', '2025-04-06 23:46:17.651585');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:46:17.654169', '2025-04-06 23:46:17.654169', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:46:17.654169', '2025-04-06 23:46:17.654169', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Kt2a6GF73g7WK/F0JHYFdOXNF1/bxNCi67pOFreu4hkMoCmKLqnCa', 60, '2025-04-06 23:46:17.660379', '2025-04-06 23:46:17.660379', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$JGnaEg5DSQnL54JkBzlzM.TFO4WOoCzN.meJWcIOqz/RCeNyu2aIa', 100, '2025-04-06 23:46:17.660379', '2025-04-06 23:46:17.660379', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:46:17.665264', '2025-04-06 23:46:17.665264', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:46:17.665264', '2025-04-06 23:46:17.665264', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:46:17 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:46:17.824699"], ["updated_at", "2025-04-06 23:46:17.824699"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:46:17 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 13ms (ActiveRecord: 0.4ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:46:17.857668"], ["updated_at", "2025-04-06 23:46:17.857668"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:46:17.860347"], ["updated_at", "2025-04-06 23:46:17.860347"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:46:17 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:99:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:98:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:46:17 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:46:17.981345"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:46:17.994117"], ["updated_at", "2025-04-06 23:46:17.994117"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:46:18 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:66:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:65:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:49:53.841769', '2025-04-06 23:49:53.841769'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:49:53.841769', '2025-04-06 23:49:53.841769');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:49:53.844285', '2025-04-06 23:49:53.844285', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:49:53.844285', '2025-04-06 23:49:53.844285', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$rvUuNI/CaMKasb.g496u5u5dfOMkID3ZkVRb7XbsNiU3CJye.AE7K', 60, '2025-04-06 23:49:53.850062', '2025-04-06 23:49:53.850062', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$wuqtF.yAwocPp5R2HOhYTOMElDeN42iiEvmnD5Ay8el9/br9eGS2q', 100, '2025-04-06 23:49:53.850062', '2025-04-06 23:49:53.850062', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:49:53.855334', '2025-04-06 23:49:53.855334', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:49:53.855334', '2025-04-06 23:49:53.855334', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:49:53 -0400
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.6ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.5ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:49:54.017202"], ["updated_at", "2025-04-06 23:49:54.017202"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:49:54 -0400
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.6ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:49:54 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:49:54.054157"], ["updated_at", "2025-04-06 23:49:54.054157"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:49:54.059383"], ["updated_at", "2025-04-06 23:49:54.059383"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:49:54 -0400
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:49:54 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:49:54.087614"], ["updated_at", "2025-04-06 23:49:54.087614"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:50:18.590183', '2025-04-06 23:50:18.590183'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:50:18.590183', '2025-04-06 23:50:18.590183');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:50:18.592410', '2025-04-06 23:50:18.592410', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:50:18.592410', '2025-04-06 23:50:18.592410', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$RTG3JO9h3c2v4bttxF.oB.nySKQRGN3WvfO.ArUie1q7sZ1KmS/JS', 60, '2025-04-06 23:50:18.598577', '2025-04-06 23:50:18.598577', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$nmig2aJBsR3kuax3RfMcF.rKfhs3MNOGQik.m5XnMKmiKMX22sVa2', 100, '2025-04-06 23:50:18.598577', '2025-04-06 23:50:18.598577', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:50:18.603508', '2025-04-06 23:50:18.603508', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:50:18.603508', '2025-04-06 23:50:18.603508', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:50:18 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 26ms (ActiveRecord: 0.5ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:50:18.782625"], ["updated_at", "2025-04-06 23:50:18.782625"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:50:18 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:37:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:36:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:50:18 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:50:18.919073"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:50:18.923042"], ["updated_at", "2025-04-06 23:50:18.923042"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:50:18.927984"], ["updated_at", "2025-04-06 23:50:18.927984"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:50:18 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:70:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:69:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:50:19 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:50:19.051648"], ["updated_at", "2025-04-06 23:50:19.051648"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:51:56.697908', '2025-04-06 23:51:56.697908'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:51:56.697908', '2025-04-06 23:51:56.697908');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:51:56.700535', '2025-04-06 23:51:56.700535', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:51:56.700535', '2025-04-06 23:51:56.700535', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$NWLAaoE5Clzbzp8sPb7vv.ZVFcLoWiyZCkNywT8Bx35x87K9m0.Na', 60, '2025-04-06 23:51:56.706417', '2025-04-06 23:51:56.706417', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$cPoXi6R3svltU52xbuCyvuq1vV5xg15vTbkABPsExBXm2ojz2Vwau', 100, '2025-04-06 23:51:56.706417', '2025-04-06 23:51:56.706417', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:51:56.711146', '2025-04-06 23:51:56.711146', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:51:56.711146', '2025-04-06 23:51:56.711146', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:51:56 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 25ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:51:56 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:51:56.934183"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:51:56.940467"], ["updated_at", "2025-04-06 23:51:56.940467"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:51:56 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
Completed 404 Not Found in 0ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:32:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:31:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.7ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:51:57.229150"], ["updated_at", "2025-04-06 23:51:57.229150"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:51:57.232172"], ["updated_at", "2025-04-06 23:51:57.232172"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:51:57 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:65:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:64:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:52:38.233578', '2025-04-06 23:52:38.233578'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:52:38.233578', '2025-04-06 23:52:38.233578');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:52:38.235855', '2025-04-06 23:52:38.235855', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:52:38.235855', '2025-04-06 23:52:38.235855', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Z3ExB4ThjycwYR9SEca74.lA5b9rJqIwRazsiWOFDNzRI1A292QuC', 60, '2025-04-06 23:52:38.242046', '2025-04-06 23:52:38.242046', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$Gph8gA78rZChqYOCG60SH.EDud.d0pw6TXj5le6sU5XGntR3ijdCS', 100, '2025-04-06 23:52:38.242046', '2025-04-06 23:52:38.242046', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:52:38.247081', '2025-04-06 23:52:38.247081', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:52:38.247081', '2025-04-06 23:52:38.247081', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:52:38.379936"], ["updated_at", "2025-04-06 23:52:38.379936"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:52:38 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:34:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:33:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (1.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:52:38 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 20ms (ActiveRecord: 0.7ms (4 queries, 1 cached) | GC: 0.5ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:52:38 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:52:38.611640"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 1.2ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:52:38.617423"], ["updated_at", "2025-04-06 23:52:38.617423"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:52:38.620382"], ["updated_at", "2025-04-06 23:52:38.620382"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:52:38 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:67:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:66:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:53:22.565713', '2025-04-06 23:53:22.565713'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:53:22.565713', '2025-04-06 23:53:22.565713');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:53:22.568325', '2025-04-06 23:53:22.568325', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:53:22.568325', '2025-04-06 23:53:22.568325', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$RhH8lpUA0iSr4ZWQyvrKYuw.SpIzuOl9xXn7.1ke1.pUF1I/Uc.t2', 60, '2025-04-06 23:53:22.574239', '2025-04-06 23:53:22.574239', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$L5UrNRrJnqVBJJqVKE4vF.v00GQHdZ71f0dv1aCw64YO8kCW7sUEK', 100, '2025-04-06 23:53:22.574239', '2025-04-06 23:53:22.574239', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:53:22.579426', '2025-04-06 23:53:22.579426', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:53:22.579426', '2025-04-06 23:53:22.579426', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:53:22.712520"], ["updated_at", "2025-04-06 23:53:22.712520"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:53:22 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
Completed 404 Not Found in 5ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:32:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:31:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:53:23.020853"], ["updated_at", "2025-04-06 23:53:23.020853"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:53:23.024882"], ["updated_at", "2025-04-06 23:53:23.024882"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:53:23 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:66:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:65:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:53:23 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:53:23.125128"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 11ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.6ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:53:23 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:54:46.805936', '2025-04-06 23:54:46.805936'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:54:46.805936', '2025-04-06 23:54:46.805936');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:54:46.808225', '2025-04-06 23:54:46.808225', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:54:46.808225', '2025-04-06 23:54:46.808225', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$iqvfW/6ZdlCEA0JjZFEn/OoQ6hWGnQg0F82qWPSPVWCPWf9xQcdOK', 60, '2025-04-06 23:54:46.814267', '2025-04-06 23:54:46.814267', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$5vpfszoyuDSPjvAQd2jLf.rc6v2CjoA8XxqtOoDg2q5gkmca9oVha', 100, '2025-04-06 23:54:46.814267', '2025-04-06 23:54:46.814267', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:54:46.819990', '2025-04-06 23:54:46.819990', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:54:46.819990', '2025-04-06 23:54:46.819990', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:54:46 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:54:47.017806"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 26ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:54:47 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:54:47.038629"], ["updated_at", "2025-04-06 23:54:47.038629"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:54:47 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 10ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:54:47.058315"], ["updated_at", "2025-04-06 23:54:47.058315"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:54:47.062914"], ["updated_at", "2025-04-06 23:54:47.062914"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:54:47 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:54:47.195730"], ["updated_at", "2025-04-06 23:54:47.195730"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:54:47 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:56:10.125748', '2025-04-06 23:56:10.125748'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:56:10.125748', '2025-04-06 23:56:10.125748');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:56:10.128133', '2025-04-06 23:56:10.128133', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:56:10.128133', '2025-04-06 23:56:10.128133', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$qx.QHTbWkCVNncpKZcUI5.458WBlMpCNlDEfzQ2pRRk7lNsUWsCY6', 60, '2025-04-06 23:56:10.134047', '2025-04-06 23:56:10.134047', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$iQSri5zw0rWOUfDYmMJv0uqhaCNf63NI91dc3ABgCOWzbA7v1MdyG', 100, '2025-04-06 23:56:10.134047', '2025-04-06 23:56:10.134047', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:56:10.138725', '2025-04-06 23:56:10.138725', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:56:10.138725', '2025-04-06 23:56:10.138725', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:56:10 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.1ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:56:10.335646"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 29ms (ActiveRecord: 0.3ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:56:10 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 10ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:56:10.369627"], ["updated_at", "2025-04-06 23:56:10.369627"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:56:10.374809"], ["updated_at", "2025-04-06 23:56:10.374809"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:56:10 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.6ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:56:10.504624"], ["updated_at", "2025-04-06 23:56:10.504624"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:56:10 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:56:10 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:56:10.623222"], ["updated_at", "2025-04-06 23:56:10.623222"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:57:31.161473', '2025-04-06 23:57:31.161473'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:57:31.161473', '2025-04-06 23:57:31.161473');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:57:31.163660', '2025-04-06 23:57:31.163660', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:57:31.163660', '2025-04-06 23:57:31.163660', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$u8TOJWjJjc/4x6yFL1d0o.prCX4EmAUGsfbq0i4Fe0WnWlGnILsvq', 60, '2025-04-06 23:57:31.169790', '2025-04-06 23:57:31.169790', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$aomoOSg8/4441YAHlDUTIulWBh.pLEvvSk1TjTsCMQh19GsT48uK6', 100, '2025-04-06 23:57:31.169790', '2025-04-06 23:57:31.169790', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:57:31.174499', '2025-04-06 23:57:31.174499', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:57:31.174499', '2025-04-06 23:57:31.174499', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:57:31.315807"], ["updated_at", "2025-04-06 23:57:31.315807"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:57:31.329923"], ["updated_at", "2025-04-06 23:57:31.329923"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:57:31 -0400
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:57:31 -0400
CoursesControllerTest - test_should_create_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:57:31.366660"], ["updated_at", "2025-04-06 23:57:31.366660"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:57:31 -0400
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:57:31 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:57:31 -0400
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:57:38.693316', '2025-04-06 23:57:38.693316'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-06 23:57:38.693316', '2025-04-06 23:57:38.693316');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-06 23:57:38.695910', '2025-04-06 23:57:38.695910', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-06 23:57:38.695910', '2025-04-06 23:57:38.695910', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$EPEBtXddNYQzcoygkukLuOjHrlb3zRaOnv65HB0aP1CcePvwr/FWa', 60, '2025-04-06 23:57:38.701844', '2025-04-06 23:57:38.701844', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$o9o36sq6EVhdp1pximD6We.4MjSh1YguS190GT4eWEltjYtUSMRsO', 100, '2025-04-06 23:57:38.701844', '2025-04-06 23:57:38.701844', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-06 23:57:38.706611', '2025-04-06 23:57:38.706611', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-06 23:57:38.706611', '2025-04-06 23:57:38.706611', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:57:38.846516"], ["updated_at", "2025-04-06 23:57:38.846516"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.9ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-06 23:57:38.861083"], ["updated_at", "2025-04-06 23:57:38.861083"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 19:57:38 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.9ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-06 23:57:39.060835"], ["updated_at", "2025-04-06 23:57:39.060835"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 19:57:39 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 19:57:39 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 23ms (ActiveRecord: 0.7ms (4 queries, 1 cached) | GC: 1.3ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 19:57:39 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-06 23:57:39.247908"], ["updated_at", "2025-04-06 23:57:39.247908"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.9ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 19:57:39 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.4ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-06 23:57:39.256691"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.7ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:00:02.175531', '2025-04-07 00:00:02.175531'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:00:02.175531', '2025-04-07 00:00:02.175531');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:00:02.178093', '2025-04-07 00:00:02.178093', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:00:02.178093', '2025-04-07 00:00:02.178093', 'Computer Science', 'Closed', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$VchYFKKlySlbTYmNlpwVhOKUVBXSfQUnmKD09tSu5QfwlFDJ/E8DC', 60, '2025-04-07 00:00:02.184149', '2025-04-07 00:00:02.184149', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$eb43pkkg5cb1nQn0zW4iBONBD11JjXIJToWOP2Qg8v6s92qRCN0DG', 100, '2025-04-07 00:00:02.184149', '2025-04-07 00:00:02.184149', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:00:02.188912', '2025-04-07 00:00:02.188912', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 00:00:02.188912', '2025-04-07 00:00:02.188912', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:00:02.326603"], ["updated_at", "2025-04-07 00:00:02.326603"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 00:00:02.343358"], ["updated_at", "2025-04-07 00:00:02.343358"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 20:00:02 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.9ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.8ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:00:02.519782"], ["updated_at", "2025-04-07 00:00:02.519782"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 20:00:02 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 20:00:02 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 00:00:02.672073"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 23ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 20:00:02 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 11ms (ActiveRecord: 0.6ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 20:00:02 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:00:02.707557"], ["updated_at", "2025-04-07 00:00:02.707557"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:01:06.264459', '2025-04-07 00:01:06.264459'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:01:06.264459', '2025-04-07 00:01:06.264459');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:01:06.266991', '2025-04-07 00:01:06.266991', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:01:06.266991', '2025-04-07 00:01:06.266991', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$cXCn8aSZeMu14HkiovPOj.PbojqDBLgRjrLD1uZAAYlG2uzdAfIbG', 60, '2025-04-07 00:01:06.273027', '2025-04-07 00:01:06.273027', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$222U/yZ1J5M6xG.byVOvzuxBD75.d4WT5DaRNiFGsy/bNrdIuMA2K', 100, '2025-04-07 00:01:06.273027', '2025-04-07 00:01:06.273027', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:01:06.277919', '2025-04-07 00:01:06.277919', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 00:01:06.277919', '2025-04-07 00:01:06.277919', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:01:06.415681"], ["updated_at", "2025-04-07 00:01:06.415681"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.3ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 00:01:06.434205"], ["updated_at", "2025-04-07 00:01:06.434205"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 20:01:06 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.9ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.8ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 20:01:06 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:01:06.650273"], ["updated_at", "2025-04-07 00:01:06.650273"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 16ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 20:01:06 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.1ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 00:01:06.670146"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 20:01:06 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 10ms (ActiveRecord: 0.9ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:01:06.695940"], ["updated_at", "2025-04-07 00:01:06.695940"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 20:01:06 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:01:45.655832', '2025-04-07 00:01:45.655832'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:01:45.655832', '2025-04-07 00:01:45.655832');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:01:45.658592', '2025-04-07 00:01:45.658592', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:01:45.658592', '2025-04-07 00:01:45.658592', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$LI4vznM6e3SWIab1hvXzgOffIQf5VdNzKZ7W9iUIj5YzZnjQa7TK2', 60, '2025-04-07 00:01:45.664552', '2025-04-07 00:01:45.664552', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$W7Bc8hVxHQyc7TwacqQ8Fuor.AK6OdU1XtRDOXFA3tLT6ZaxleQtC', 100, '2025-04-07 00:01:45.664552', '2025-04-07 00:01:45.664552', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:01:45.669273', '2025-04-07 00:01:45.669273', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:01:45.669273', '2025-04-07 00:01:45.669273', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:01:45.815335"], ["updated_at", "2025-04-07 00:01:45.815335"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 00:01:45.832145"], ["updated_at", "2025-04-07 00:01:45.832145"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 20:01:45 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.9ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.9ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 20:01:46 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 00:01:46.044135"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 25ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.8ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 20:01:46 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:01:46.070583"], ["updated_at", "2025-04-07 00:01:46.070583"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.6ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 20:01:46 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.6ms (4 queries, 1 cached) | GC: 1.5ms)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:01:46.095543"], ["updated_at", "2025-04-07 00:01:46.095543"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 20:01:46 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:03:51.443098', '2025-04-07 00:03:51.443098'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:03:51.443098', '2025-04-07 00:03:51.443098');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:03:51.445722', '2025-04-07 00:03:51.445722', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:03:51.445722', '2025-04-07 00:03:51.445722', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$jd49XNUzJYcSJEsBeqysp.svRPW8xyS.E2FxftRlYhBsSxLEVb8v2', 60, '2025-04-07 00:03:51.451606', '2025-04-07 00:03:51.451606', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$x5Mp0Epi/k7YCdaPx.txOONnVAHBWh1nbJwxT3w5lZ5bxoZNM5uGC', 100, '2025-04-07 00:03:51.451606', '2025-04-07 00:03:51.451606', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:03:51.456586', '2025-04-07 00:03:51.456586', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:03:51.456586', '2025-04-07 00:03:51.456586', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:03:51.603563"], ["updated_at", "2025-04-07 00:03:51.603563"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.3ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 00:03:51.620051"], ["updated_at", "2025-04-07 00:03:51.620051"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 20:03:51 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (1.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.8ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 20:03:51 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 23ms (ActiveRecord: 0.6ms (4 queries, 1 cached) | GC: 0.6ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 20:03:51 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 00:03:51.857099"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.5ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 20:03:51 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:03:51.871985"], ["updated_at", "2025-04-07 00:03:51.871985"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.8ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.3ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:03:51.880162"], ["updated_at", "2025-04-07 00:03:51.880162"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 20:03:51 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:07:47.356409', '2025-04-07 00:07:47.356409'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:07:47.356409', '2025-04-07 00:07:47.356409');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:07:47.358912', '2025-04-07 00:07:47.358912', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:07:47.358912', '2025-04-07 00:07:47.358912', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$8nddIsn8oCzB5gvedNdlmOLa3Xfm0pU4zCrI6PvFg.q0PLMjqc.4i', 60, '2025-04-07 00:07:47.364706', '2025-04-07 00:07:47.364706', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$LeffrT7C4t6l89vBf6/alOEDbVtPGL8xW/y/WxupuKuUEvUM47ygW', 100, '2025-04-07 00:07:47.364706', '2025-04-07 00:07:47.364706', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:07:47.369404', '2025-04-07 00:07:47.369404', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:07:47.369404', '2025-04-07 00:07:47.369404', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:07:47.511583"], ["updated_at", "2025-04-07 00:07:47.511583"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.3ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-07 00:07:47.525308"], ["updated_at", "2025-04-07 00:07:47.525308"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 20:07:47 -0400
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 20:07:47 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:07:47.559407"], ["updated_at", "2025-04-07 00:07:47.559407"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 20:07:47 -0400
CoursesControllerTest - test_should_not_enroll_if_prerequisite_not_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 20:07:47 -0400
CoursesControllerTest - test_should_destroy_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 20:07:47 -0400
CoursesControllerTest - test_should_create_course: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:08:19.466633', '2025-04-07 00:08:19.466633'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:08:19.466633', '2025-04-07 00:08:19.466633');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:08:19.468913', '2025-04-07 00:08:19.468913', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:08:19.468913', '2025-04-07 00:08:19.468913', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$gDgYAKGXUz9EErsI5Lrg/.CoExMePrU72HwrngJB1HivgsvmstBua', 60, '2025-04-07 00:08:19.475064', '2025-04-07 00:08:19.475064', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$bDWCoLL246UzTTFM.zYB5ejXiWzm68p1zYg9UEGgx.WVkG60wgOXm', 100, '2025-04-07 00:08:19.475064', '2025-04-07 00:08:19.475064', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:08:19.479926', '2025-04-07 00:08:19.479926', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:08:19.479926', '2025-04-07 00:08:19.479926', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.5ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 20:08:19 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 00:08:19.692517"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 27ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 20:08:19 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 11ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:08:19.727436"], ["updated_at", "2025-04-07 00:08:19.727436"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 20:08:19 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.8ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 20:08:19 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:08:19.873438"], ["updated_at", "2025-04-07 00:08:19.873438"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:08:19.878576"], ["updated_at", "2025-04-07 00:08:19.878576"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 00:08:19.881678"], ["updated_at", "2025-04-07 00:08:19.881678"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 20:08:19 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:09:29.627852', '2025-04-07 00:09:29.627852'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:09:29.627852', '2025-04-07 00:09:29.627852');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:09:29.630114', '2025-04-07 00:09:29.630114', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:09:29.630114', '2025-04-07 00:09:29.630114', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$5ysy6rKLo9t6KMddfc8Q/ee1hMXRArdw.2J5ZCvhJ5JAiP60A0B3S', 60, '2025-04-07 00:09:29.636607', '2025-04-07 00:09:29.636607', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$XXSoBPOzrNONPdL8fxQKKuv1d4PvSxEWL033KWwiA2AYTtfJf6cku', 100, '2025-04-07 00:09:29.636607', '2025-04-07 00:09:29.636607', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:09:29.641536', '2025-04-07 00:09:29.641536', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:09:29.641536', '2025-04-07 00:09:29.641536', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 20:09:29 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:09:29.816649"], ["updated_at", "2025-04-07 00:09:29.816649"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 20ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:09:29.840340"], ["updated_at", "2025-04-07 00:09:29.840340"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 20:09:29 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 20:09:29 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 1.5ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.6ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:09:29.977558"], ["updated_at", "2025-04-07 00:09:29.977558"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 00:09:29.981290"], ["updated_at", "2025-04-07 00:09:29.981290"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 20:09:29 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123458"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/courses_controller.rb:35:in 'CoursesController#enroll'
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 20:09:30 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.1ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 00:09:30.253981"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:10:51.419506', '2025-04-07 00:10:51.419506'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:10:51.419506', '2025-04-07 00:10:51.419506');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:10:51.422165', '2025-04-07 00:10:51.422165', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:10:51.422165', '2025-04-07 00:10:51.422165', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$w2NruX9O95XcdHgZGcMusuMoz07rQWf4fMrNz3gKxb1.112jBi352', 60, '2025-04-07 00:10:51.428094', '2025-04-07 00:10:51.428094', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$xTMRwaivfkS5.ANlH5UJc.aPWpiVyU3J.KufwlWP63rglKUAiySxm', 100, '2025-04-07 00:10:51.428094', '2025-04-07 00:10:51.428094', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:10:51.432870', '2025-04-07 00:10:51.432870', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:10:51.432870', '2025-04-07 00:10:51.432870', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------
DashboardControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:11:25.394879', '2025-04-07 00:11:25.394879'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:11:25.394879', '2025-04-07 00:11:25.394879');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:11:25.397374', '2025-04-07 00:11:25.397374', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:11:25.397374', '2025-04-07 00:11:25.397374', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$btceMtS7TRmPBBR.jJ.5COF7utB4KovoESIRnDfABnWst4D.n2kie', 60, '2025-04-07 00:11:25.403552', '2025-04-07 00:11:25.403552', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$iQDTlU6HNBT5FIszZ6o/SOfnqcop2uCfUrohna/HQe076y53ewCMe', 100, '2025-04-07 00:11:25.403552', '2025-04-07 00:11:25.403552', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:11:25.408568', '2025-04-07 00:11:25.408568', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:11:25.408568', '2025-04-07 00:11:25.408568', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:11:25 -0400
Processing by ScheduleViewController#index as HTML
Completed 404 Not Found in 4ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/schedule_view_controller.rb:3:in 'ScheduleViewController#index'
test/controllers/schedule_view_controller_test.rb:5:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
ScheduleViewControllerTest: test_should_create_user_schedule
------------------------------------------------------------
  [1m[36mUserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/schedule_view" for 127.0.0.1 at 2025-04-06 20:11:25 -0400
  
ActionController::RoutingError (No route matches [POST] "/schedule_view"):
  
test/controllers/schedule_view_controller_test.rb:12:in 'block (2 levels) in <class:ScheduleViewControllerTest>'
test/controllers/schedule_view_controller_test.rb:11:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
ScheduleViewControllerTest: test_should_destroy_user_schedule
-------------------------------------------------------------
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
ScheduleViewControllerTest - test_should_destroy_user_schedule: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:13:26.482351', '2025-04-07 00:13:26.482351'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:13:26.482351', '2025-04-07 00:13:26.482351');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:13:26.484916', '2025-04-07 00:13:26.484916', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:13:26.484916', '2025-04-07 00:13:26.484916', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$AHbIICvakBk0FYiUrcIZl.kpo6J6L3dAvvC4O/v6Ec/d3bhBinXMK', 60, '2025-04-07 00:13:26.490909', '2025-04-07 00:13:26.490909', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$BT777uahkFm.ErJOIzTCIu5QKcLWek1RCBYVy7za27VKujd9vKwse', 100, '2025-04-07 00:13:26.490909', '2025-04-07 00:13:26.490909', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:13:26.495814', '2025-04-07 00:13:26.495814', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:13:26.495814', '2025-04-07 00:13:26.495814', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
ScheduleViewControllerTest: test_should_destroy_user_schedule
-------------------------------------------------------------
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
ScheduleViewControllerTest - test_should_destroy_user_schedule: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:13:26 -0400
Processing by ScheduleViewController#index as HTML
Completed 404 Not Found in 4ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/schedule_view_controller.rb:3:in 'ScheduleViewController#index'
test/controllers/schedule_view_controller_test.rb:5:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
ScheduleViewControllerTest: test_should_create_user_schedule
------------------------------------------------------------
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/schedule_view" for 127.0.0.1 at 2025-04-06 20:13:26 -0400
  
ActionController::RoutingError (No route matches [POST] "/schedule_view"):
  
test/controllers/schedule_view_controller_test.rb:12:in 'block (2 levels) in <class:ScheduleViewControllerTest>'
test/controllers/schedule_view_controller_test.rb:11:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:17:08.776933', '2025-04-07 00:17:08.776933'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:17:08.776933', '2025-04-07 00:17:08.776933');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:17:08.779449', '2025-04-07 00:17:08.779449', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:17:08.779449', '2025-04-07 00:17:08.779449', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$B3UWEowerVfYf4RFTSTa.O1qiVoiZnvsruQGtO53NI3ETefmbTHie', 60, '2025-04-07 00:17:08.785592', '2025-04-07 00:17:08.785592', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$5k5qyBO8NwvgQB0E0puCD..oRKJP5wu6jJWLKWzQzBx4A87OWBf9m', 100, '2025-04-07 00:17:08.785592', '2025-04-07 00:17:08.785592', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:17:08.790393', '2025-04-07 00:17:08.790393', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:17:08.790393', '2025-04-07 00:17:08.790393', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
ScheduleViewControllerTest: test_should_create_user_schedule
------------------------------------------------------------
  [1m[36mUserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/schedule_view" for 127.0.0.1 at 2025-04-06 20:17:08 -0400
  
ActionController::RoutingError (No route matches [POST] "/schedule_view"):
  
test/controllers/schedule_view_controller_test.rb:12:in 'block (2 levels) in <class:ScheduleViewControllerTest>'
test/controllers/schedule_view_controller_test.rb:11:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
ScheduleViewControllerTest: test_should_destroy_user_schedule
-------------------------------------------------------------
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
ScheduleViewControllerTest - test_should_destroy_user_schedule: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:18:46.506253', '2025-04-07 00:18:46.506253'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:18:46.506253', '2025-04-07 00:18:46.506253');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:18:46.508798', '2025-04-07 00:18:46.508798', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:18:46.508798', '2025-04-07 00:18:46.508798', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$7kDLVjFX3syU6CUAfRxQB.hc/SiFRzwHjPQMl0jf8YoIje4CV.KyS', 60, '2025-04-07 00:18:46.514630', '2025-04-07 00:18:46.514630', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$T1HCSTz41QI1aaaEvuRu9OBBF4fUZjpBKfkuO956WsHGGZxMlK3Bu', 100, '2025-04-07 00:18:46.514630', '2025-04-07 00:18:46.514630', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:18:46.519628', '2025-04-07 00:18:46.519628', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:18:46.519628', '2025-04-07 00:18:46.519628', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:18:46 -0400
Processing by ScheduleViewController#index as HTML
Completed 404 Not Found in 6ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/schedule_view_controller.rb:3:in 'ScheduleViewController#index'
test/controllers/schedule_view_controller_test.rb:5:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
ScheduleViewControllerTest: test_should_destroy_user_schedule
-------------------------------------------------------------
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
ScheduleViewControllerTest - test_should_destroy_user_schedule: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
ScheduleViewControllerTest: test_should_create_user_schedule
------------------------------------------------------------
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/schedule_view" for 127.0.0.1 at 2025-04-06 20:18:46 -0400
  
ActionController::RoutingError (No route matches [POST] "/schedule_view"):
  
test/controllers/schedule_view_controller_test.rb:12:in 'block (2 levels) in <class:ScheduleViewControllerTest>'
test/controllers/schedule_view_controller_test.rb:11:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:25:31.990421', '2025-04-07 00:25:31.990421'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:25:31.990421', '2025-04-07 00:25:31.990421');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:25:31.992937', '2025-04-07 00:25:31.992937', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:25:31.992937', '2025-04-07 00:25:31.992937', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Xh3k8G45.VEZ.fm6oqQhvOD.mgQXfJ28VwT562wak/QL4si2ykN0O', 60, '2025-04-07 00:25:31.999361', '2025-04-07 00:25:31.999361', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$sBdjpHoBeWDPaaP355ZfJObGvg7oGV5gp4D6AJKHRtWykzjlSCyQK', 100, '2025-04-07 00:25:31.999361', '2025-04-07 00:25:31.999361', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:25:32.004351', '2025-04-07 00:25:32.004351', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:25:32.004351', '2025-04-07 00:25:32.004351', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:25:32 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:26:54.701501', '2025-04-07 00:26:54.701501'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:26:54.701501', '2025-04-07 00:26:54.701501');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:26:54.703971', '2025-04-07 00:26:54.703971', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:26:54.703971', '2025-04-07 00:26:54.703971', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$ekbrwZr34wUjTU4xMM7kt.ekXIVyUetR51Y6Gvpf9pSozot8x0.w.', 60, '2025-04-07 00:26:54.709729', '2025-04-07 00:26:54.709729', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$9R2aSAUC7F9ZQ9hz95CrYuGLncvV7rhEq/NM70mgJeXtjnEUH/tXm', 100, '2025-04-07 00:26:54.709729', '2025-04-07 00:26:54.709729', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:26:54.714382', '2025-04-07 00:26:54.714382', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:26:54.714382', '2025-04-07 00:26:54.714382', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:26:54 -0400
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:28:41.314262', '2025-04-07 00:28:41.314262'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:28:41.314262', '2025-04-07 00:28:41.314262');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:28:41.316534', '2025-04-07 00:28:41.316534', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:28:41.316534', '2025-04-07 00:28:41.316534', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$kA3K6tjp9a1gv2OyPfxyE.hR1UTltA8WI8Yv0PgSvNrWREzjB4V4i', 60, '2025-04-07 00:28:41.322389', '2025-04-07 00:28:41.322389', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$fyvvq741pYxo17HoW.EUBO67v/GiLun3B00eEEsN9NOurj17LbC5.', 100, '2025-04-07 00:28:41.322389', '2025-04-07 00:28:41.322389', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:28:41.327556', '2025-04-07 00:28:41.327556', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:28:41.327556', '2025-04-07 00:28:41.327556', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:28:41 -0400
Processing by ScheduleViewController#index as HTML
Completed 404 Not Found in 6ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/schedule_view_controller.rb:3:in 'ScheduleViewController#index'
test/controllers/schedule_view_controller_test.rb:5:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:30:38.642980', '2025-04-07 00:30:38.642980'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:30:38.642980', '2025-04-07 00:30:38.642980');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:30:38.645250', '2025-04-07 00:30:38.645250', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:30:38.645250', '2025-04-07 00:30:38.645250', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$WnXGs/.4Hlx7gNuFyq6kMOH1LDnUD35MkI.DfVz.fna53E8fBcixG', 60, '2025-04-07 00:30:38.651166', '2025-04-07 00:30:38.651166', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$w5rZNFnxV0CUJWOwRokQjeGZA8odM.o4KNh3u0GuYoT7H0iAFf2W2', 100, '2025-04-07 00:30:38.651166', '2025-04-07 00:30:38.651166', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:30:38.655945', '2025-04-07 00:30:38.655945', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:30:38.655945', '2025-04-07 00:30:38.655945', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:30:38 -0400
Processing by ScheduleViewController#index as HTML
Completed 404 Not Found in 6ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/schedule_view_controller.rb:3:in 'ScheduleViewController#index'
test/controllers/schedule_view_controller_test.rb:5:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:31:04.519771', '2025-04-07 00:31:04.519771'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:31:04.519771', '2025-04-07 00:31:04.519771');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:31:04.521988', '2025-04-07 00:31:04.521988', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:31:04.521988', '2025-04-07 00:31:04.521988', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$1wen1btW70m1v3u/b2hNmOc7LHx98sj6Vh26DHmk0iR2M1Ed8wCPu', 60, '2025-04-07 00:31:04.528207', '2025-04-07 00:31:04.528207', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$TiIacGPz/EEDNZq2S2l30uWAYBsiuOZWoMnkzgmZBkJ8lLUtS3H.e', 100, '2025-04-07 00:31:04.528207', '2025-04-07 00:31:04.528207', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:31:04.533086', '2025-04-07 00:31:04.533086', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:31:04.533086', '2025-04-07 00:31:04.533086', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:31:04 -0400
Processing by ScheduleViewController#index as HTML
Completed 404 Not Found in 4ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/schedule_view_controller.rb:3:in 'ScheduleViewController#index'
test/controllers/schedule_view_controller_test.rb:5:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:32:03.602507', '2025-04-07 00:32:03.602507'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:32:03.602507', '2025-04-07 00:32:03.602507');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:32:03.604777', '2025-04-07 00:32:03.604777', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:32:03.604777', '2025-04-07 00:32:03.604777', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$up.wJm1kjH2ueOERUKSnYetX6CFsKhc9I/CTRkW.EUZS2h.tb7Es6', 60, '2025-04-07 00:32:03.611183', '2025-04-07 00:32:03.611183', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$TwTycQGQtkYTCXflFMgXPeauxOYjBtJalWhEdxhvv1U90NJ5lNjs6', 100, '2025-04-07 00:32:03.611183', '2025-04-07 00:32:03.611183', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:32:03.616227', '2025-04-07 00:32:03.616227', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:32:03.616227', '2025-04-07 00:32:03.616227', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:32:03 -0400
Processing by ScheduleViewController#index as HTML
Completed 404 Not Found in 4ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/schedule_view_controller.rb:3:in 'ScheduleViewController#index'
test/controllers/schedule_view_controller_test.rb:5:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:35:17.257155', '2025-04-07 00:35:17.257155'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:35:17.257155', '2025-04-07 00:35:17.257155');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:35:17.259414', '2025-04-07 00:35:17.259414', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:35:17.259414', '2025-04-07 00:35:17.259414', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$eAYhFYs9ILrPACoavZZ4y.OQD71bniCew.WvooN/4Q1ypPMPf34VW', 60, '2025-04-07 00:35:17.265455', '2025-04-07 00:35:17.265455', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$HYGRcxylESx8jUlOIo2tbeJa3OPWhG4UjJ9miiv9IarGWgSw12R4W', 100, '2025-04-07 00:35:17.265455', '2025-04-07 00:35:17.265455', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:35:17.270271', '2025-04-07 00:35:17.270271', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:35:17.270271', '2025-04-07 00:35:17.270271', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:35:17 -0400
Processing by ScheduleViewController#index as HTML
Completed 404 Not Found in 6ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ActiveRecord::RecordNotFound (Couldn't find Student without an ID):
  
app/controllers/schedule_view_controller.rb:3:in 'ScheduleViewController#index'
test/controllers/schedule_view_controller_test.rb:5:in 'block in <class:ScheduleViewControllerTest>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:36:22.139027', '2025-04-07 00:36:22.139027'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:36:22.139027', '2025-04-07 00:36:22.139027');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:36:22.141263', '2025-04-07 00:36:22.141263', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:36:22.141263', '2025-04-07 00:36:22.141263', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$6vTBuP3VvsQAYOpS7DXYmubrM.XB3cx3tPBLxZVsMmswEgKqJdiUy', 60, '2025-04-07 00:36:22.147081', '2025-04-07 00:36:22.147081', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$.CWIhxRamGRXtuQQgrlNBO10s7xJe7Q0cc/FVe661CXq49axq3/tC', 100, '2025-04-07 00:36:22.147081', '2025-04-07 00:36:22.147081', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:36:22.151866', '2025-04-07 00:36:22.151866', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:36:22.151866', '2025-04-07 00:36:22.151866', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-06 20:36:22 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 257ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:36:22 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 4.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | GC: 0.0ms)
Completed 200 OK in 50ms (Views: 12.9ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:36:51.797682', '2025-04-07 00:36:51.797682'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:36:51.797682', '2025-04-07 00:36:51.797682');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:36:51.799936', '2025-04-07 00:36:51.799936', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:36:51.799936', '2025-04-07 00:36:51.799936', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$G0Xsva.T05a/pgKRmAFyZuU2gyEQThBJU6UhpsbxoI1nmch33iwoq', 60, '2025-04-07 00:36:51.806077', '2025-04-07 00:36:51.806077', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$lSoFjwPEc2/IyiThqNk3EON9082dY0HM1aQ99h6IYXxzTxuUrVfUa', 100, '2025-04-07 00:36:51.806077', '2025-04-07 00:36:51.806077', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:36:51.811045', '2025-04-07 00:36:51.811045', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:36:51.811045', '2025-04-07 00:36:51.811045', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 20:36:51 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 10.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 20:36:51 -0400
Processing by StudentsController#update as HTML
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 00:36:52.002802"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:36:52 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x0000000129b1c310>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 4.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 20:36:52 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 8ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 20:36:52 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:39:07.144098', '2025-04-07 00:39:07.144098'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:39:07.144098', '2025-04-07 00:39:07.144098');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:39:07.146666', '2025-04-07 00:39:07.146666', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:39:07.146666', '2025-04-07 00:39:07.146666', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$v4V.x5bcDWteM0yX5qrsSOWt5T0e56GeN0.BQMXZyFyBlUmlYIuJG', 60, '2025-04-07 00:39:07.152762', '2025-04-07 00:39:07.152762', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$nzeLCAmtPH6Ou.3C95FZPOJ4MBjIPGrXLup0UnaW554lB2KANcnxi', 100, '2025-04-07 00:39:07.152762', '2025-04-07 00:39:07.152762', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:39:07.157739', '2025-04-07 00:39:07.157739', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:39:07.157739', '2025-04-07 00:39:07.157739', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 20:39:07 -0400
Processing by StudentsController#update as HTML
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 00:39:07.319616"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 20:39:07 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 9.4ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 20:39:07 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 7ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:39:07 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x0000000127fb24f8>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 4.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 20:39:07 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:40:40.118633', '2025-04-07 00:40:40.118633'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:40:40.118633', '2025-04-07 00:40:40.118633');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:40:40.121187', '2025-04-07 00:40:40.121187', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:40:40.121187', '2025-04-07 00:40:40.121187', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$bzxPfDxW5tSgqOSHcTQrE.9oP.L62lOy8m/PtrK6YElFLqBwklNlG', 60, '2025-04-07 00:40:40.127222', '2025-04-07 00:40:40.127222', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$PxQvh66o.xhNRua3aGBom.Ylegh5nKvForwqvSKhjUHctOgtsWYpC', 100, '2025-04-07 00:40:40.127222', '2025-04-07 00:40:40.127222', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:40:40.132180', '2025-04-07 00:40:40.132180', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:40:40.132180', '2025-04-07 00:40:40.132180', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 20:40:40 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 21ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:40:40 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x00000001286cff10>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:40:40.332072"], ["updated_at", "2025-04-07 00:40:40.332072"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY "students"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 20:40:40 -0400
Processing by StudentsController#update as HTML
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 00:40:40.340665"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 20:40:40 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 10.7ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 20:40:40 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:41:56.068214', '2025-04-07 00:41:56.068214'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:41:56.068214', '2025-04-07 00:41:56.068214');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:41:56.070673', '2025-04-07 00:41:56.070673', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:41:56.070673', '2025-04-07 00:41:56.070673', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$oPQa7ZiV4xN2cWwP5xces.8XgHUPQWpn6scarSi0C0EOdq1c/zZCq', 60, '2025-04-07 00:41:56.076574', '2025-04-07 00:41:56.076574', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$xmwKwlHkzVLHL3Pd6HWDweUB/j5vEgmQd4KKI8DSB.qR6C17RO/vu', 100, '2025-04-07 00:41:56.076574', '2025-04-07 00:41:56.076574', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:41:56.081407', '2025-04-07 00:41:56.081407', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:41:56.081407', '2025-04-07 00:41:56.081407', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 20:41:56 -0400
Processing by StudentsController#update as HTML
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 00:41:56.243001"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:41:56 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x0000000130499a68>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:41:56.254420"], ["updated_at", "2025-04-07 00:41:56.254420"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 20:41:56 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 10.2ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 20:41:56 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 20:41:56 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:42:16.261984', '2025-04-07 00:42:16.261984'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:42:16.261984', '2025-04-07 00:42:16.261984');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:42:16.264305', '2025-04-07 00:42:16.264305', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:42:16.264305', '2025-04-07 00:42:16.264305', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$B8CoRD52IfB/cOkc57D4XuX8hAimwdopxgWM/0LUwbBZ9vCusrwDu', 60, '2025-04-07 00:42:16.270678', '2025-04-07 00:42:16.270678', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$JyEsoTMlVuj6qhhhxGh2ce7tfp7oEzjflc6AkPNhFDnZlsubGHCky', 100, '2025-04-07 00:42:16.270678', '2025-04-07 00:42:16.270678', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:42:16.275587', '2025-04-07 00:42:16.275587', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:42:16.275587', '2025-04-07 00:42:16.275587', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 20:42:16 -0400
Processing by StudentsController#update as HTML
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 00:42:16.430328"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:42:16 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x000000012a3d0830>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:42:16.441843"], ["updated_at", "2025-04-07 00:42:16.441843"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 20:42:16 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 20:42:16 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.0ms)
Completed 200 OK in 18ms (Views: 8.8ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 20:42:16 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:43:21.111604', '2025-04-07 00:43:21.111604'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:43:21.111604', '2025-04-07 00:43:21.111604');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:43:21.113880', '2025-04-07 00:43:21.113880', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:43:21.113880', '2025-04-07 00:43:21.113880', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$dOZJHut0.31Y6ndPW/apaOzvY1hDj0PMsYGuaBXKMtPs.SgW35UIq', 60, '2025-04-07 00:43:21.119825', '2025-04-07 00:43:21.119825', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$xE6aCvGj4Fc4N2HcGJ4LW.1pAk0R1Aa9i1CG/wIJgqGaZj5XrG1EC', 100, '2025-04-07 00:43:21.119825', '2025-04-07 00:43:21.119825', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:43:21.124530', '2025-04-07 00:43:21.124530', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:43:21.124530', '2025-04-07 00:43:21.124530', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 20:43:21 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 14.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.6ms | GC: 0.0ms)
Completed 200 OK in 36ms (Views: 22.3ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 20:43:21 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:43:21 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x000000011ede0340>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:43:21.307934"], ["updated_at", "2025-04-07 00:43:21.307934"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 20:43:21 -0400
Processing by StudentsController#update as HTML
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 00:43:21.323491"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 20:43:21 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:45:37.752468', '2025-04-07 00:45:37.752468'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:45:37.752468', '2025-04-07 00:45:37.752468');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:45:37.754983', '2025-04-07 00:45:37.754983', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:45:37.754983', '2025-04-07 00:45:37.754983', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$8TAEEnyKFjbc.rlyAp2vJuz8TOX92HaeDDn1Fps4tAmCg2Ud0UKCe', 60, '2025-04-07 00:45:37.760811', '2025-04-07 00:45:37.760811', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$cNcM1NUlfF3hJjFeabo0peee383iqtPa5O27SpKStnJ7to0J5c0Ii', 100, '2025-04-07 00:45:37.760811', '2025-04-07 00:45:37.760811', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:45:37.765526', '2025-04-07 00:45:37.765526', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:45:37.765526', '2025-04-07 00:45:37.765526', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 20:45:37 -0400
Processing by StudentsController#update as HTML
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 00:45:37.936946"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 20:45:37 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 14.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 20:45:37 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 7ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:45:37 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x000000010f9d00c0>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:45:38.000702"], ["updated_at", "2025-04-07 00:45:38.000702"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 20:45:38 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:47:24.028561', '2025-04-07 00:47:24.028561'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:47:24.028561', '2025-04-07 00:47:24.028561');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:47:24.030894', '2025-04-07 00:47:24.030894', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:47:24.030894', '2025-04-07 00:47:24.030894', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$K6Fp23RNI/f1EC1fc7iS/OetK7/ewCPG0dj4XDWiCxtWTINb7i6qW', 60, '2025-04-07 00:47:24.036726', '2025-04-07 00:47:24.036726', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$GIT3yWgFkTjVLd8zuBcpweWG9hYuFjyxdLgdhsVDFHdsXF0s8.qOS', 100, '2025-04-07 00:47:24.036726', '2025-04-07 00:47:24.036726', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:47:24.041443', '2025-04-07 00:47:24.041443', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:47:24.041443', '2025-04-07 00:47:24.041443', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 20:47:24 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 12.5ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 20:47:24 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 20:47:24 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 00:47:24.245750"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.4ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 20:47:24 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 8ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:47:24 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x000000012a7c3988>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:47:24.278587"], ["updated_at", "2025-04-07 00:47:24.278587"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:47:55.767747', '2025-04-07 00:47:55.767747'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:47:55.767747', '2025-04-07 00:47:55.767747');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:47:55.770017', '2025-04-07 00:47:55.770017', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:47:55.770017', '2025-04-07 00:47:55.770017', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$xpvYQ7sf9avCDFraQ9rOleF6OmG8sDz0pNaT/mv09sTVfOrLUgdE2', 60, '2025-04-07 00:47:55.775930', '2025-04-07 00:47:55.775930', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$62uX3kpnXe7ZRLs9TyfWB.zJqaaTUMZXYzzFvWdPp/lcgXqMu7HLi', 100, '2025-04-07 00:47:55.775930', '2025-04-07 00:47:55.775930', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:47:55.780706', '2025-04-07 00:47:55.780706', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:47:55.780706', '2025-04-07 00:47:55.780706', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-06 20:47:55 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | GC: 0.0ms)
Completed 200 OK in 36ms (Views: 13.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:47:55 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:47:55.944736"], ["updated_at", "2025-04-07 00:47:55.944736"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 21ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-06 20:47:55 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 15.3ms | GC: 12.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | GC: 12.0ms)
Completed 200 OK in 17ms (Views: 16.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 12.0ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:47:55.998009"], ["updated_at", "2025-04-07 00:47:55.998009"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 00:47:56.001482"], ["updated_at", "2025-04-07 00:47:56.001482"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 00:47:56.132175"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.6ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:47:56.140239"], ["updated_at", "2025-04-07 00:47:56.140239"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:47:56.276157"], ["updated_at", "2025-04-07 00:47:56.276157"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 9ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.6ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 1.3ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.7ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 11.0ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | GC: 0.7ms)
Completed 200 OK in 14ms (Views: 11.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.9ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 00:47:56.399150"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 0.5ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.6ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x0000000121e1a6f0>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:47:56.419216"], ["updated_at", "2025-04-07 00:47:56.419216"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 243ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:47:56 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 1.7ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.8ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:48:32.555264', '2025-04-07 00:48:32.555264'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:48:32.555264', '2025-04-07 00:48:32.555264');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:48:32.558466', '2025-04-07 00:48:32.558466', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:48:32.558466', '2025-04-07 00:48:32.558466', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$.MMrkydff95vLBTPn.t8w.VtUJVYJowoGnfc5Fk8HrZV/26.ckcgi', 60, '2025-04-07 00:48:32.564586', '2025-04-07 00:48:32.564586', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$.pozkjanPnsdrDtlqfRUU.bJa/frIcH.Z.7Ji7jpd40OiGKl21dPe', 100, '2025-04-07 00:48:32.564586', '2025-04-07 00:48:32.564586', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:48:32.569589', '2025-04-07 00:48:32.569589', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:48:32.569589', '2025-04-07 00:48:32.569589', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:49:38.836528', '2025-04-07 00:49:38.836528'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:49:38.836528', '2025-04-07 00:49:38.836528');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:49:38.839971', '2025-04-07 00:49:38.839971', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:49:38.839971', '2025-04-07 00:49:38.839971', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Xa6Ft3y72v3N3YyMyUp2Ju1ylS7l3A6SK9ts4KRrk.P.G1xgsuhkS', 60, '2025-04-07 00:49:38.846107', '2025-04-07 00:49:38.846107', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$6j4AtDi5tyQGuAAHs0la7OnFk103nUBEKNC1ZewhA3q2LO/YGorrm', 100, '2025-04-07 00:49:38.846107', '2025-04-07 00:49:38.846107', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:49:38.850892', '2025-04-07 00:49:38.850892', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:49:38.850892', '2025-04-07 00:49:38.850892', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 00:49:38.914349"], ["updated_at", "2025-04-07 00:49:38.914349"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 00:49:38.930754"], ["updated_at", "2025-04-07 00:49:38.930754"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 00:49:38.939616"], ["updated_at", "2025-04-07 00:49:38.939616"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:49:50.464434', '2025-04-07 00:49:50.464434'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:49:50.464434', '2025-04-07 00:49:50.464434');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:49:50.466817', '2025-04-07 00:49:50.466817', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:49:50.466817', '2025-04-07 00:49:50.466817', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$YdX7lEZAkzUgx.BgSdFIauIQRM69IFg2Dpfl4yTA2IhUKCGKq2DIi', 60, '2025-04-07 00:49:50.472654', '2025-04-07 00:49:50.472654', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$vwyvR/imBJ04k1Ua2QHPFuUgrFPwchn3gysnqykQ4nfuLm9ecnAMC', 100, '2025-04-07 00:49:50.472654', '2025-04-07 00:49:50.472654', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:49:50.477359', '2025-04-07 00:49:50.477359', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:49:50.477359', '2025-04-07 00:49:50.477359', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-06 20:49:50 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 10.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:49:50 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:49:50.640088"], ["updated_at", "2025-04-07 00:49:50.640088"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 19ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-06 20:49:50 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 20:49:50 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 00:49:50.701057"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 20ms (Views: 0.9ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 20:49:50 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:49:50 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x0000000123643678>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:49:50.725495"], ["updated_at", "2025-04-07 00:49:50.725495"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 20:49:50 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 20:49:50 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-06 20:49:50 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 243ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:49:50 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.2ms)
Completed 200 OK in 12ms (Views: 2.6ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 20:49:51 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 00:49:51.022795"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:49:51.035264"], ["updated_at", "2025-04-07 00:49:51.035264"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 20:49:51 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (1.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 20:49:51 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:49:51.185120"], ["updated_at", "2025-04-07 00:49:51.185120"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:49:51.193070"], ["updated_at", "2025-04-07 00:49:51.193070"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 00:49:51.199773"], ["updated_at", "2025-04-07 00:49:51.199773"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 20:49:51 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 20:49:51 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 8ms (ActiveRecord: 0.7ms (4 queries, 1 cached) | GC: 0.8ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 00:49:51.324386"], ["updated_at", "2025-04-07 00:49:51.324386"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.4ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 00:49:51.336986"], ["updated_at", "2025-04-07 00:49:51.336986"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 00:49:51.340791"], ["updated_at", "2025-04-07 00:49:51.340791"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:50:06.200402', '2025-04-07 00:50:06.200402'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:50:06.200402', '2025-04-07 00:50:06.200402');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:50:06.203648', '2025-04-07 00:50:06.203648', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:50:06.203648', '2025-04-07 00:50:06.203648', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$PADwQYuxnrttscWS9zgfJ.CH15kCVVnBPkwHQ.j9nRNeH4W8YyfR.', 60, '2025-04-07 00:50:06.209791', '2025-04-07 00:50:06.209791', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$JVWDcxsF8RO7aIh03U3X.umOE5FtWtTH0.d9JiD.S4fyUXYCIsc6i', 100, '2025-04-07 00:50:06.209791', '2025-04-07 00:50:06.209791', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:50:06.214810', '2025-04-07 00:50:06.214810', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:50:06.214810', '2025-04-07 00:50:06.214810', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:51:23.875739', '2025-04-07 00:51:23.875739'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:51:23.875739', '2025-04-07 00:51:23.875739');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:51:23.879104', '2025-04-07 00:51:23.879104', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:51:23.879104', '2025-04-07 00:51:23.879104', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Suq/lHSAHf9PoE9vte.oour4mzKb.AcKUnLuu//SNOdHu/uWxtxHi', 60, '2025-04-07 00:51:23.885421', '2025-04-07 00:51:23.885421', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$8kIH4hNQuLLgCyl73wIThOfzf8oDxBaCcHt/tDGJdfzSshz1Hx/ki', 100, '2025-04-07 00:51:23.885421', '2025-04-07 00:51:23.885421', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:51:23.890355', '2025-04-07 00:51:23.890355', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:51:23.890355', '2025-04-07 00:51:23.890355', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:53:41.787969', '2025-04-07 00:53:41.787969'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:53:41.787969', '2025-04-07 00:53:41.787969');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:53:41.790725', '2025-04-07 00:53:41.790725', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:53:41.790725', '2025-04-07 00:53:41.790725', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$nEAmdd3X/9r6cWoB5dpbTehhd8sLS0nIgT8I1mNhs5u/CQVY8peOW', 60, '2025-04-07 00:53:41.797230', '2025-04-07 00:53:41.797230', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$6t/11d4v13bIiky64Y7ZuOh6vFZDC.H70n4Nxs/fu3zObUxBinLY.', 100, '2025-04-07 00:53:41.797230', '2025-04-07 00:53:41.797230', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:53:41.801982', '2025-04-07 00:53:41.801982', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:53:41.801982', '2025-04-07 00:53:41.801982', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:56:52.674849', '2025-04-07 00:56:52.674849'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:56:52.674849', '2025-04-07 00:56:52.674849');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:56:52.677958', '2025-04-07 00:56:52.677958', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:56:52.677958', '2025-04-07 00:56:52.677958', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$z3FoRbX6kFoXqqaymYpQMu3HvweXRwA7alwomQSWvQ/77EJNKwI/2', 60, '2025-04-07 00:56:52.684134', '2025-04-07 00:56:52.684134', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$Nzm7f0rE/ByenrR9ic0oa.sZQMzwg7lOU49j.hwkE4Ptlh5oeYnmu', 100, '2025-04-07 00:56:52.684134', '2025-04-07 00:56:52.684134', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:56:52.689462', '2025-04-07 00:56:52.689462', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:56:52.689462', '2025-04-07 00:56:52.689462', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 00:56:52.770929"], ["updated_at", "2025-04-07 00:56:52.770929"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:56:58.953984', '2025-04-07 00:56:58.953984'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:56:58.953984', '2025-04-07 00:56:58.953984');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:56:58.956258', '2025-04-07 00:56:58.956258', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:56:58.956258', '2025-04-07 00:56:58.956258', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$pYkSLmWIpEj.Fvx4FRPRv.b/0YLRDS6bnzaHwXafylRhwe/oSQ4VC', 60, '2025-04-07 00:56:58.962388', '2025-04-07 00:56:58.962388', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$06WtlWL/Ft2HmoDqs2HC0O.88z94zlEtlJmjRMUMRnQ4.TyGYYRCG', 100, '2025-04-07 00:56:58.962388', '2025-04-07 00:56:58.962388', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:56:58.967161', '2025-04-07 00:56:58.967161', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:56:58.967161', '2025-04-07 00:56:58.967161', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 14.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:56:59.145662"], ["updated_at", "2025-04-07 00:56:59.145662"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x000000011fcd9f68>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:56:59.169689"], ["updated_at", "2025-04-07 00:56:59.169689"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 4.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 00:56:59.180848"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 1.6ms | ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 15.6ms | GC: 12.4ms)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | GC: 12.4ms)
Completed 200 OK in 17ms (Views: 16.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 12.4ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 00:56:59.235912"], ["updated_at", "2025-04-07 00:56:59.235912"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 00:56:59.246816"], ["updated_at", "2025-04-07 00:56:59.246816"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 00:56:59.254453"], ["updated_at", "2025-04-07 00:56:59.254453"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 00:56:59.280036"], ["updated_at", "2025-04-07 00:56:59.280036"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:56:59.310421"], ["updated_at", "2025-04-07 00:56:59.310421"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:56:59.320811"], ["updated_at", "2025-04-07 00:56:59.320811"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 00:56:59.475518"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.6ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 00:56:59.488137"], ["updated_at", "2025-04-07 00:56:59.488137"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 00:56:59.495764"], ["updated_at", "2025-04-07 00:56:59.495764"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 8ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 243ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 20:56:59 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 2.0ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:57:11.074493', '2025-04-07 00:57:11.074493'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:57:11.074493', '2025-04-07 00:57:11.074493');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:57:11.077622', '2025-04-07 00:57:11.077622', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:57:11.077622', '2025-04-07 00:57:11.077622', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$1uDfnTQGtI45vW.D9y.5S.Z.BRpcuancPSfAE6qeVNUP4qa8XazFO', 60, '2025-04-07 00:57:11.084032', '2025-04-07 00:57:11.084032', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$shUFYhiDNNnW6D6gETgkqeWp/MRa4v6PIGTUVfft48k5G3Ig6dIJy', 100, '2025-04-07 00:57:11.084032', '2025-04-07 00:57:11.084032', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:57:11.089112', '2025-04-07 00:57:11.089112', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:57:11.089112', '2025-04-07 00:57:11.089112', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:58:21.141369', '2025-04-07 00:58:21.141369'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 00:58:21.141369', '2025-04-07 00:58:21.141369');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 00:58:21.144945', '2025-04-07 00:58:21.144945', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 00:58:21.144945', '2025-04-07 00:58:21.144945', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$u1B2eerOkht//5L8f9E9SelEg/HDQTKHnlfXThcMnUffqnfO0F7I6', 60, '2025-04-07 00:58:21.150952', '2025-04-07 00:58:21.150952', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$8DHmmYHR4BNj7uw/tI1VkeVLr0q4qpVl2ap7L67zljCo9oHPUqEN6', 100, '2025-04-07 00:58:21.150952', '2025-04-07 00:58:21.150952', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 00:58:21.156005', '2025-04-07 00:58:21.156005', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 00:58:21.156005', '2025-04-07 00:58:21.156005', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:58:21.203193"], ["updated_at", "2025-04-07 00:58:21.203193"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:58:21.217853"], ["updated_at", "2025-04-07 00:58:21.217853"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (1.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.4ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:58:21.242683"], ["updated_at", "2025-04-07 00:58:21.242683"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:58:21.254426"], ["updated_at", "2025-04-07 00:58:21.254426"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 00:58:21.273035"], ["updated_at", "2025-04-07 00:58:21.273035"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 00:58:21.275911"], ["updated_at", "2025-04-07 00:58:21.275911"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 01:01:12.036466', '2025-04-07 01:01:12.036466'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 01:01:12.036466', '2025-04-07 01:01:12.036466');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 01:01:12.039403', '2025-04-07 01:01:12.039403', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 01:01:12.039403', '2025-04-07 01:01:12.039403', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$qCmClG/oyFxbIR/TrXVMWulUPkXpcceS2ph0ja/Kw.HOeoKiOHexu', 60, '2025-04-07 01:01:12.045866', '2025-04-07 01:01:12.045866', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$9QgqeZ3pjLCApN9mIQM4h.RTW8EGCzRIOKy.juhOX8XH7NfeNEbM6', 100, '2025-04-07 01:01:12.045866', '2025-04-07 01:01:12.045866', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 01:01:12.050671', '2025-04-07 01:01:12.050671', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 01:01:12.050671', '2025-04-07 01:01:12.050671', NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 01:01:12.132462"], ["updated_at", "2025-04-07 01:01:12.132462"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 01:01:12.147841"], ["updated_at", "2025-04-07 01:01:12.147841"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.3ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 01:01:12.162558"], ["updated_at", "2025-04-07 01:01:12.162558"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 01:01:12.176963"], ["updated_at", "2025-04-07 01:01:12.176963"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 01:01:12.186113"], ["updated_at", "2025-04-07 01:01:12.186113"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 01:01:12.191066"], ["updated_at", "2025-04-07 01:01:12.191066"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 01:01:12.197620"], ["updated_at", "2025-04-07 01:01:12.197620"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 01:01:12.199221"], ["updated_at", "2025-04-07 01:01:12.199221"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 01:01:12.200414"], ["updated_at", "2025-04-07 01:01:12.200414"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 01:01:32.657768', '2025-04-07 01:01:32.657768'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 01:01:32.657768', '2025-04-07 01:01:32.657768');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 01:01:32.659999', '2025-04-07 01:01:32.659999', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 01:01:32.659999', '2025-04-07 01:01:32.659999', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$OKTjoyQ/3q7jem4/G.8HXesRP5UczmEoAopstVA0xIcs9ZoYcRipS', 60, '2025-04-07 01:01:32.665984', '2025-04-07 01:01:32.665984', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$0mdVrvmWAIf7tNE.AyqLzepWyyYW5xMP9HY7tVq8cO8FZkeOckQSa', 100, '2025-04-07 01:01:32.665984', '2025-04-07 01:01:32.665984', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 01:01:32.670818', '2025-04-07 01:01:32.670818', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 01:01:32.670818', '2025-04-07 01:01:32.670818', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-06 21:01:32 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 01:01:32.853224"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 17ms (ActiveRecord: 0.3ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-06 21:01:32 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 01:01:32.880462"], ["updated_at", "2025-04-07 01:01:32.880462"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-06 21:01:32 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.6ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 01:01:33.040435"], ["updated_at", "2025-04-07 01:01:33.040435"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 11ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.7ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 01:01:33.049772"], ["updated_at", "2025-04-07 01:01:33.049772"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 01:01:33.056263"], ["updated_at", "2025-04-07 01:01:33.056263"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 244ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.3ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 12.0ms | GC: 5.1ms)
  Rendered layout layouts/application.html.erb (Duration: 18.7ms | GC: 7.2ms)
Completed 200 OK in 36ms (Views: 21.3ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 10.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 6.8ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 1.2ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.6ms)
Started POST "/students" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.2ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 01:01:33.464078"], ["updated_at", "2025-04-07 01:01:33.464078"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.5ms)
Started GET "/" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.9ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.9ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.2ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 01:01:33.484863"], ["updated_at", "2025-04-07 01:01:33.484863"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 01:01:33.488252"], ["updated_at", "2025-04-07 01:01:33.488252"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 01:01:33.490814"], ["updated_at", "2025-04-07 01:01:33.490814"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 01:01:33.494696"], ["updated_at", "2025-04-07 01:01:33.494696"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 01:01:33.496466"], ["updated_at", "2025-04-07 01:01:33.496466"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 01:01:33.497502"], ["updated_at", "2025-04-07 01:01:33.497502"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 01:01:33.500226"], ["updated_at", "2025-04-07 01:01:33.500226"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 01:01:33.506496"], ["updated_at", "2025-04-07 01:01:33.506496"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 01:01:33.510594"], ["updated_at", "2025-04-07 01:01:33.510594"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 01:01:33.519274"], ["updated_at", "2025-04-07 01:01:33.519274"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 01:01:33.527443"], ["updated_at", "2025-04-07 01:01:33.527443"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 01:01:33.535705"], ["updated_at", "2025-04-07 01:01:33.535705"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.7ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 01:01:33.545989"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 0.5ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.6ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x0000000121b50f00>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 01:01:33.571178"], ["updated_at", "2025-04-07 01:01:33.571178"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 1.1ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-06 21:01:33 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 3.4ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.9ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.9ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 01:01:33.589596"], ["updated_at", "2025-04-07 01:01:33.589596"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 12:40:37.101350', '2025-04-07 12:40:37.101350'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 12:40:37.101350', '2025-04-07 12:40:37.101350');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 12:40:37.103636', '2025-04-07 12:40:37.103636', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 12:40:37.103636', '2025-04-07 12:40:37.103636', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$D96.MxwwvFEQG8kQOxsSE.B0NUvTiQc0w.MOMJ6TwWXjOCUcTxZKm', 60, '2025-04-07 12:40:37.109650', '2025-04-07 12:40:37.109650', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$Nf7Tj3P7mda2dvyLvWnqa.qWDKvkgSiOQE/G1Kqbap9xwagXL5Lzm', 100, '2025-04-07 12:40:37.109650', '2025-04-07 12:40:37.109650', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 12:40:37.114521', '2025-04-07 12:40:37.114521', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 12:40:37.114521', '2025-04-07 12:40:37.114521', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 08:40:37 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 12:40:37.321210"], ["updated_at", "2025-04-07 12:40:37.321210"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 21ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 08:40:37 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 12:40:37.348656"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 12:40:37.351907"], ["updated_at", "2025-04-07 12:40:37.351907"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-07 08:40:37 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 08:40:37 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 11ms (ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 12:40:37.503818"], ["updated_at", "2025-04-07 12:40:37.503818"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 12:40:37.506425"], ["updated_at", "2025-04-07 12:40:37.506425"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-07 08:40:37 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 12:44:09.245885', '2025-04-07 12:44:09.245885'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 12:44:09.245885', '2025-04-07 12:44:09.245885');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 12:44:09.248098', '2025-04-07 12:44:09.248098', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 12:44:09.248098', '2025-04-07 12:44:09.248098', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$iBJnyTyykjkwILsXYYfKy.9W3frPli9EGqvk40.t5uh5ie60ZLN6y', 60, '2025-04-07 12:44:09.253882', '2025-04-07 12:44:09.253882', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$Nf5Vo2Sj/Ume8hiK8duXmu0XHnSiSBOJFPUgOEkVLYqmXdBm5EtFS', 100, '2025-04-07 12:44:09.253882', '2025-04-07 12:44:09.253882', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 12:44:09.258586', '2025-04-07 12:44:09.258586', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 12:44:09.258586', '2025-04-07 12:44:09.258586', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 08:44:09 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 12:44:09.463495"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 26ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 12:44:09.482525"], ["updated_at", "2025-04-07 12:44:09.482525"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 08:44:09 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 10ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 08:44:09 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 12:44:09.503484"], ["updated_at", "2025-04-07 12:44:09.503484"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 12:44:09.507326"], ["updated_at", "2025-04-07 12:44:09.507326"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-07 08:44:09 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.8ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.8ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 12:48:40.096298', '2025-04-07 12:48:40.096298'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 12:48:40.096298', '2025-04-07 12:48:40.096298');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 12:48:40.098507', '2025-04-07 12:48:40.098507', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 12:48:40.098507', '2025-04-07 12:48:40.098507', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$UUFzvqXr7ltrAI2uu189Xer4Y.GzrctJefiqsNo4Tw8m.bMGjf1WC', 60, '2025-04-07 12:48:40.104323', '2025-04-07 12:48:40.104323', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$QeM/mk8ZmwBni3v90P4TlOxaCq1ojxhMtHulzLRAf2F1n1YgzwB66', 100, '2025-04-07 12:48:40.104323', '2025-04-07 12:48:40.104323', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 12:48:40.110497', '2025-04-07 12:48:40.110497', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 12:48:40.110497', '2025-04-07 12:48:40.110497', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.5ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 08:48:40 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 12:48:40.316266"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 26ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 08:48:40 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 10ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 12:48:40.348801"], ["updated_at", "2025-04-07 12:48:40.348801"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-07 08:48:40 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.6ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 12:48:40.490146"], ["updated_at", "2025-04-07 12:48:40.490146"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 08:48:40 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 12:48:40.495272"], ["updated_at", "2025-04-07 12:48:40.495272"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.6ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 12:49:40.683528', '2025-04-07 12:49:40.683528'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 12:49:40.683528', '2025-04-07 12:49:40.683528');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 12:49:40.685899', '2025-04-07 12:49:40.685899', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 12:49:40.685899', '2025-04-07 12:49:40.685899', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$HNXFkAgRYtaYtarkYpIVA.2utsFs78OJLIYbYg0TimgUoHegtaUOK', 60, '2025-04-07 12:49:40.691814', '2025-04-07 12:49:40.691814', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$moKMTi71AJ2bCIlfPTLpNe4jiSyI9SSoraSRTscCL2sVSWb9wmuUW', 100, '2025-04-07 12:49:40.691814', '2025-04-07 12:49:40.691814', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 12:49:40.696643', '2025-04-07 12:49:40.696643', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 12:49:40.696643', '2025-04-07 12:49:40.696643', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.5ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 08:49:40 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 24ms (ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 12:49:40.903487"], ["updated_at", "2025-04-07 12:49:40.903487"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-07 08:49:40 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 12:49:41.030070"], ["updated_at", "2025-04-07 12:49:41.030070"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 12:49:41.033307"], ["updated_at", "2025-04-07 12:49:41.033307"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-07 08:49:41 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 08:49:41 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 12:49:41.151082"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 08:49:41 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 12:49:41.157499"], ["updated_at", "2025-04-07 12:49:41.157499"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.8ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 12:54:11.542382', '2025-04-07 12:54:11.542382'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 12:54:11.542382', '2025-04-07 12:54:11.542382');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 12:54:11.544654', '2025-04-07 12:54:11.544654', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 12:54:11.544654', '2025-04-07 12:54:11.544654', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$gesi6Yd5f8n.caGS9WqUSu5rOJGGuqu7qRyoN1cXKwlY3QDsQQZN2', 60, '2025-04-07 12:54:11.550418', '2025-04-07 12:54:11.550418', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$fIvmUgeG9xp3pnbCFQtZA.mnzSpDsRHcFEZ2ztBGNdyDNOvZuGsGK', 100, '2025-04-07 12:54:11.550418', '2025-04-07 12:54:11.550418', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 12:54:11.555102', '2025-04-07 12:54:11.555102', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 12:54:11.555102', '2025-04-07 12:54:11.555102', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 08:54:11 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 12:54:11.756010"], ["updated_at", "2025-04-07 12:54:11.756010"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 19ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 08:54:11 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 12:54:11.782623"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 08:54:11 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 9ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 12:54:11.799426"], ["updated_at", "2025-04-07 12:54:11.799426"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 12:54:11.802773"], ["updated_at", "2025-04-07 12:54:11.802773"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
CoursesControllerTest - test_should_enroll_if_prerequisite_met: NoMethodError raised.
If you expected this exception, use `assert_raises` as near to the code that raises as possible.
Other block based assertions (e.g. `assert_difference`) can be used, as long as `assert_raises` is inside their block.

  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 12:54:11.806117"], ["updated_at", "2025-04-07 12:54:11.806117"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-07 08:54:11 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 12:55:36.600702', '2025-04-07 12:55:36.600702'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 12:55:36.600702', '2025-04-07 12:55:36.600702');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 12:55:36.602868', '2025-04-07 12:55:36.602868', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 12:55:36.602868', '2025-04-07 12:55:36.602868', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$c6iD/3UO.P6oEKCHYpfbGuSb5xY8wqvnfisNKl//tX.sJnh6yaPKi', 60, '2025-04-07 12:55:36.608694', '2025-04-07 12:55:36.608694', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$hIscmAo6pP2wTJwH5Olzqe7M6406F5Gr6DFTuqyjjV..r6Ntzbs..', 100, '2025-04-07 12:55:36.608694', '2025-04-07 12:55:36.608694', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 12:55:36.613648', '2025-04-07 12:55:36.613648', NULL), (298486374, 298486374, 102, 'Taken', '2025-04-07 12:55:36.613648', '2025-04-07 12:55:36.613648', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.4ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 12:55:36.763545"], ["updated_at", "2025-04-07 12:55:36.763545"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-07 08:55:36 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (1.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 08:55:36 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 12:55:37.002415"], ["updated_at", "2025-04-07 12:55:37.002415"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 16ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 1.3ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 08:55:37 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 12:55:37.020285"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.9ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 08:55:37 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 11ms (ActiveRecord: 0.6ms (4 queries, 1 cached) | GC: 1.9ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 12:55:37.039648"], ["updated_at", "2025-04-07 12:55:37.039648"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 12:55:37.043257"], ["updated_at", "2025-04-07 12:55:37.043257"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-07 08:55:37 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:75:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.7ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 12:57:28.970777', '2025-04-07 12:57:28.970777'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 12:57:28.970777', '2025-04-07 12:57:28.970777');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 12:57:28.972987', '2025-04-07 12:57:28.972987', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 12:57:28.972987', '2025-04-07 12:57:28.972987', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$13ZTmN/BmlW2Yk8k/lYsfu/ZV7sqscxitbGr5feioqfCFdkLQn3L6', 60, '2025-04-07 12:57:28.978908', '2025-04-07 12:57:28.978908', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$5vDJGaUDu7Ba5h5zTNLsZuHdqJw.BqxsNW1zAzhPwSSytztVN1MUC', 100, '2025-04-07 12:57:28.978908', '2025-04-07 12:57:28.978908', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'None', '2025-04-07 12:57:28.984094', '2025-04-07 12:57:28.984094', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 12:57:28.984094', '2025-04-07 12:57:28.984094', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 08:57:29 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 12:57:29.187809"], ["updated_at", "2025-04-07 12:57:29.187809"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 20ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 08:57:29 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 12:57:29.215189"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 08:57:29 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 8ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 12:57:29.231704"], ["updated_at", "2025-04-07 12:57:29.231704"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-07 08:57:29 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 12:57:29.372393"], ["updated_at", "2025-04-07 12:57:29.372393"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 12:57:29.375754"], ["updated_at", "2025-04-07 12:57:29.375754"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-07 08:57:29 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:75:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 13:03:16.817494', '2025-04-07 13:03:16.817494'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 13:03:16.817494', '2025-04-07 13:03:16.817494');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 13:03:16.819692', '2025-04-07 13:03:16.819692', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 13:03:16.819692', '2025-04-07 13:03:16.819692', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$zH.i4JD8Niy7ezIosv3xmuaRI9Z99B30SwVZzKMiM3zuDWH745KdG', 60, '2025-04-07 13:03:16.825624', '2025-04-07 13:03:16.825624', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$WEoQUKWQeILajqxRCKQfDObNRRE8CeXmhdsbZpvuSzhs3u7hC54r6', 100, '2025-04-07 13:03:16.825624', '2025-04-07 13:03:16.825624', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 13:03:16.830293', '2025-04-07 13:03:16.830293', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 13:03:16.830293', '2025-04-07 13:03:16.830293', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.5ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 13:03:16.970578"], ["updated_at", "2025-04-07 13:03:16.970578"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-07 09:03:16 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (1.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 09:03:17 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 20ms (ActiveRecord: 0.6ms (4 queries, 1 cached) | GC: 0.3ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 09:03:17 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.2ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 13:03:17.226777"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.3ms (3 queries, 0 cached) | GC: 0.6ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 09:03:17 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 13:03:17.235698"], ["updated_at", "2025-04-07 13:03:17.235698"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.7ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 13:03:17.241615"], ["updated_at", "2025-04-07 13:03:17.241615"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 13:03:17.244878"], ["updated_at", "2025-04-07 13:03:17.244878"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-07 09:03:17 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:75:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 15:21:56.230552', '2025-04-07 15:21:56.230552'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 15:21:56.230552', '2025-04-07 15:21:56.230552');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 15:21:56.232765', '2025-04-07 15:21:56.232765', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 15:21:56.232765', '2025-04-07 15:21:56.232765', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$x/ZVIF6OFsfoegccFtciZO2MWlxWT35dU.AMDBKQENDjRwSKRHGXy', 60, '2025-04-07 15:21:56.238571', '2025-04-07 15:21:56.238571', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$YwW6Rw0Szy2uDuj/w5pBgeuWGBQJ4oMbMR29NCoUI5JDiLLEiDITe', 100, '2025-04-07 15:21:56.238571', '2025-04-07 15:21:56.238571', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 15:21:56.243678', '2025-04-07 15:21:56.243678', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 15:21:56.243678', '2025-04-07 15:21:56.243678', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 11:21:56 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 15:21:56.439428"], ["updated_at", "2025-04-07 15:21:56.439428"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 21ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 11:21:56 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 15:21:56.466953"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 15:21:56.470145"], ["updated_at", "2025-04-07 15:21:56.470145"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 15:21:56.476464"], ["updated_at", "2025-04-07 15:21:56.476464"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-07 11:21:56 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:75:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 11:21:56 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 7ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 15:21:56.619896"], ["updated_at", "2025-04-07 15:21:56.619896"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-07 11:21:56 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 15:22:06.750842', '2025-04-07 15:22:06.750842'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 15:22:06.750842', '2025-04-07 15:22:06.750842');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 15:22:06.753169', '2025-04-07 15:22:06.753169', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 15:22:06.753169', '2025-04-07 15:22:06.753169', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$r3XD.pC4hgvHe/Y3ORYXAeVWaE7JnmH0sk5QTDLJFEq8zBQrCFlBC', 60, '2025-04-07 15:22:06.759414', '2025-04-07 15:22:06.759414', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$zXpsdMR9/I/EfpkUZ4WHd.HZkgfO2XzDrFQSOFKozGwNXiz/xHItG', 100, '2025-04-07 15:22:06.759414', '2025-04-07 15:22:06.759414', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 15:22:06.764242', '2025-04-07 15:22:06.764242', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 15:22:06.764242', '2025-04-07 15:22:06.764242', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 15:22:06.911596"], ["updated_at", "2025-04-07 15:22:06.911596"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 15:22:06.928359"], ["updated_at", "2025-04-07 15:22:06.928359"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-07 11:22:06 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:75:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.9ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.8ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 11:22:07 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 24ms (ActiveRecord: 0.6ms (4 queries, 1 cached) | GC: 0.6ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 11:22:07 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 15:22:07.181097"], ["updated_at", "2025-04-07 15:22:07.181097"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.6ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 15:22:07.188605"], ["updated_at", "2025-04-07 15:22:07.188605"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-07 11:22:07 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 11:22:07 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.1ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 15:22:07.293993"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 13ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 1.2ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 15:22:22.131875', '2025-04-07 15:22:22.131875'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 15:22:22.131875', '2025-04-07 15:22:22.131875');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 15:22:22.134113', '2025-04-07 15:22:22.134113', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 15:22:22.134113', '2025-04-07 15:22:22.134113', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$/QEcv19sO66HHabqll0xuuPg3S6T0FLVNAnN4aZoeQgFwB7DSmgwa', 60, '2025-04-07 15:22:22.140228', '2025-04-07 15:22:22.140228', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$.pqgPnVV1RReWpcomffIM.GFBX1mQgZMmlJIW2LwxBV8DtDHSJBhm', 100, '2025-04-07 15:22:22.140228', '2025-04-07 15:22:22.140228', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 15:22:22.145682', '2025-04-07 15:22:22.145682', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 15:22:22.145682', '2025-04-07 15:22:22.145682', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 11:22:22 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 15:22:22.296781"], ["updated_at", "2025-04-07 15:22:22.296781"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 18ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 11:22:22 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 15:22:22.318632"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 15:22:22.321490"], ["updated_at", "2025-04-07 15:22:22.321490"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 11:22:22 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 9ms (ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 15:22:22.339177"], ["updated_at", "2025-04-07 15:22:22.339177"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 15:22:22.354467"], ["updated_at", "2025-04-07 15:22:22.354467"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-07 11:22:22 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:75:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 15:25:32.374479', '2025-04-07 15:25:32.374479'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 15:25:32.374479', '2025-04-07 15:25:32.374479');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 15:25:32.376719', '2025-04-07 15:25:32.376719', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 15:25:32.376719', '2025-04-07 15:25:32.376719', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$v5byqtBdxCnKvN/viMXjWuLL.7ajfaJZYybkRrjf5q22mNBAQwjO2', 60, '2025-04-07 15:25:32.382839', '2025-04-07 15:25:32.382839', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$5QtV8dKqZxOpprnEMdP8xuFlWtvqrQRKiiP/pgZ9HqybG7ysxPvW.', 100, '2025-04-07 15:25:32.382839', '2025-04-07 15:25:32.382839', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 15:25:32.387678', '2025-04-07 15:25:32.387678', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 15:25:32.387678', '2025-04-07 15:25:32.387678', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 11:25:32 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 19ms (ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 15:25:32.591439"], ["updated_at", "2025-04-07 15:25:32.591439"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-07 11:25:32 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 11:25:32 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 15:25:32.747766"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 1.0ms)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.6ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 15:25:32.760334"], ["updated_at", "2025-04-07 15:25:32.760334"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 15:25:32.770450"], ["updated_at", "2025-04-07 15:25:32.770450"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-07 11:25:32 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:75:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 11:25:32 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 15:25:32.872674"], ["updated_at", "2025-04-07 15:25:32.872674"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 15:25:32.893010"], ["updated_at", "2025-04-07 15:25:32.893010"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 15:25:32.901207"], ["updated_at", "2025-04-07 15:25:32.901207"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 15:25:32.905743"], ["updated_at", "2025-04-07 15:25:32.905743"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-07 11:25:32 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-07 11:25:32 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 4.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.7ms | GC: 5.5ms)
Completed 200 OK in 22ms (Views: 20.2ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 5.5ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-07 11:25:32 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 15:25:32.947368"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 14ms (Views: 0.6ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.8ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-07 11:25:32 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 7.3ms | GC: 1.6ms)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | GC: 1.9ms)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 2.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-07 11:25:32 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x00000001516755a0>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 15:25:32.983899"], ["updated_at", "2025-04-07 15:25:32.983899"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.8ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-07 11:25:32 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 244ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.3ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-07 11:25:33 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 2.6ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 1.2ms)
Completed 200 OK in 18ms (Views: 3.6ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 4.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-07 11:25:33 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 4.4ms | GC: 1.5ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 1.5ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.5ms)
Started POST "/students" for 127.0.0.1 at 2025-04-07 11:25:33 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 15:25:33.268982"], ["updated_at", "2025-04-07 15:25:33.268982"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-07 11:25:33 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 15:25:33.286800"], ["updated_at", "2025-04-07 15:25:33.286800"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 15:25:33.295477"], ["updated_at", "2025-04-07 15:25:33.295477"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 15:25:33.297813"], ["updated_at", "2025-04-07 15:25:33.297813"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 15:25:33.301029"], ["updated_at", "2025-04-07 15:25:33.301029"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 15:25:33.305423"], ["updated_at", "2025-04-07 15:25:33.305423"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 15:25:33.306396"], ["updated_at", "2025-04-07 15:25:33.306396"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 15:25:33.307532"], ["updated_at", "2025-04-07 15:25:33.307532"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (1.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 15:25:33.311397"], ["updated_at", "2025-04-07 15:25:33.311397"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 15:25:33.313748"], ["updated_at", "2025-04-07 15:25:33.313748"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 15:25:33.314388"], ["updated_at", "2025-04-07 15:25:33.314388"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 15:26:37.739747', '2025-04-07 15:26:37.739747'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 15:26:37.739747', '2025-04-07 15:26:37.739747');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 15:26:37.741969', '2025-04-07 15:26:37.741969', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 15:26:37.741969', '2025-04-07 15:26:37.741969', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$74oKpBxtS8BOZgVOwHlLIepOXAqXIvW1KfK9BSMlj./yRACHVMM/6', 60, '2025-04-07 15:26:37.747869', '2025-04-07 15:26:37.747869', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$2iKyvL2R/wgriLACTK2Y8.RrM29mo4OoOeMl52M6mPrjebEn.IA9q', 100, '2025-04-07 15:26:37.747869', '2025-04-07 15:26:37.747869', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 15:26:37.752617', '2025-04-07 15:26:37.752617', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 15:26:37.752617', '2025-04-07 15:26:37.752617', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 15:26:37.879898"], ["updated_at", "2025-04-07 15:26:37.879898"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-07 11:26:37 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 15:26:38.033912"], ["updated_at", "2025-04-07 15:26:38.033912"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 15:26:38.039268"], ["updated_at", "2025-04-07 15:26:38.039268"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-07 11:26:38 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:75:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 11:26:38 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 15:26:38.188495"], ["updated_at", "2025-04-07 15:26:38.188495"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 1.2ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.6ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 11:26:38 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.7ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 11:26:38 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 15:26:38.233234"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 8ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.3ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-07 11:26:38 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | GC: 1.4ms)
Completed 200 OK in 17ms (Views: 16.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 1.4ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-07 11:26:38 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 3.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 1.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-07 11:26:38 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x0000000129663170>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 15:26:38.284013"], ["updated_at", "2025-04-07 15:26:38.284013"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-07 11:26:38 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.3ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 2ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-07 11:26:38 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.9ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 15:26:38.300127"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.5ms | ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-07 11:26:38 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 3.2ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.6ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.6ms)
Started POST "/students" for 127.0.0.1 at 2025-04-07 11:26:38 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 15:26:38.320341"], ["updated_at", "2025-04-07 15:26:38.320341"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-07 11:26:38 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 4.2ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 0.7ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.7ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 15:26:38.335694"], ["updated_at", "2025-04-07 15:26:38.335694"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 15:26:38.337685"], ["updated_at", "2025-04-07 15:26:38.337685"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 15:26:38.339606"], ["updated_at", "2025-04-07 15:26:38.339606"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 15:26:38.343096"], ["updated_at", "2025-04-07 15:26:38.343096"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 15:26:38.343974"], ["updated_at", "2025-04-07 15:26:38.343974"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.4ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 15:26:38.347954"], ["updated_at", "2025-04-07 15:26:38.347954"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 15:26:38.355220"], ["updated_at", "2025-04-07 15:26:38.355220"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 15:26:38.358931"], ["updated_at", "2025-04-07 15:26:38.358931"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 15:26:38.360482"], ["updated_at", "2025-04-07 15:26:38.360482"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 15:26:38.366991"], ["updated_at", "2025-04-07 15:26:38.366991"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 15:26:38.376683"], ["updated_at", "2025-04-07 15:26:38.376683"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 15:26:38.381725"], ["updated_at", "2025-04-07 15:26:38.381725"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 15:26:38.383554"], ["updated_at", "2025-04-07 15:26:38.383554"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-07 11:26:38 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.7ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 244ms (ActiveRecord: 0.7ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-07 11:26:38 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 1.9ms | ActiveRecord: 0.2ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (15.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:02:36.121755', '2025-04-07 16:02:36.121755'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:02:36.121755', '2025-04-07 16:02:36.121755');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:02:36.130100', '2025-04-07 16:02:36.130100', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:02:36.130100', '2025-04-07 16:02:36.130100', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$aOpQvmsJieFIZgPil5X2puKrP91yEzYb/hjOHJMN4EhTawsNdZa0S', 60, '2025-04-07 16:02:36.133828', '2025-04-07 16:02:36.133828', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$h0fB/OBbz6Yc72/KKsmrz.6rNx6mXqAT.PWOE2hLgwdu4cGXqtIom', 100, '2025-04-07 16:02:36.133828', '2025-04-07 16:02:36.133828', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 16:02:36.136854', '2025-04-07 16:02:36.136854', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:02:36.136854', '2025-04-07 16:02:36.136854', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (4.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:08:55.787189', '2025-04-07 16:08:55.787189'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:08:55.787189', '2025-04-07 16:08:55.787189');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:08:55.795584', '2025-04-07 16:08:55.795584', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:08:55.795584', '2025-04-07 16:08:55.795584', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$nsN4a6n4jMqZIJ5oV4D0LOif/teQe6prnXEeqqZal6za9nRO2Fl4C', 60, '2025-04-07 16:08:55.799412', '2025-04-07 16:08:55.799412', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$yknJijyd9AiX.H52ELOMMONV8g/YazfVciXdUv.p1Fq3mDpF7MURq', 100, '2025-04-07 16:08:55.799412', '2025-04-07 16:08:55.799412', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 16:08:55.802528', '2025-04-07 16:08:55.802528', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:08:55.802528', '2025-04-07 16:08:55.802528', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:08:59.661352', '2025-04-07 16:08:59.661352'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:08:59.661352', '2025-04-07 16:08:59.661352');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:08:59.663828', '2025-04-07 16:08:59.663828', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:08:59.663828', '2025-04-07 16:08:59.663828', 'Computer Science', 'Open', 'None');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$X1W10dLho.1XEquIxXDbHOsAajPf9MiiHYJQYfF5RF4weWUclOEiS', 60, '2025-04-07 16:08:59.669823', '2025-04-07 16:08:59.669823', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$MHLunRrikhI8vfYcKbxMLOKu6As347Tggm.8MwlyKgHuz9AdX8Vo6', 100, '2025-04-07 16:08:59.669823', '2025-04-07 16:08:59.669823', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 16:08:59.674574', '2025-04-07 16:08:59.674574', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:08:59.674574', '2025-04-07 16:08:59.674574', NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 16:08:59.775057"], ["updated_at", "2025-04-07 16:08:59.775057"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-07 12:08:59 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | GC: 0.0ms)
Completed 200 OK in 32ms (Views: 14.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:08:59 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:08:59.971996"], ["updated_at", "2025-04-07 16:08:59.971996"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 19ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-07 12:08:59 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (1.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-07 12:09:00 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.5ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-07 12:09:00 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 16:09:00.060056"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.5ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:09:00 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x00000001208360f0>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:09:00.075538"], ["updated_at", "2025-04-07 16:09:00.075538"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-07 12:09:00 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-07 12:09:00 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:09:00.091449"], ["updated_at", "2025-04-07 16:09:00.091449"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:09:00.092926"], ["updated_at", "2025-04-07 16:09:00.092926"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:09:00.097563"], ["updated_at", "2025-04-07 16:09:00.097563"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:09:00.104308"], ["updated_at", "2025-04-07 16:09:00.104308"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:09:00.105033"], ["updated_at", "2025-04-07 16:09:00.105033"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:09:00.106587"], ["updated_at", "2025-04-07 16:09:00.106587"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:09:00.112006"], ["updated_at", "2025-04-07 16:09:00.112006"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:09:00.112681"], ["updated_at", "2025-04-07 16:09:00.112681"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:09:00.113405"], ["updated_at", "2025-04-07 16:09:00.113405"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:09:00 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 243ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.3ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-07 12:09:00 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 2.8ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 12:09:00 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 7ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.1ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 12:09:00 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 16:09:00.401908"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 12:09:00 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:09:00.411216"], ["updated_at", "2025-04-07 16:09:00.411216"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.1ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 16:09:00.416614"], ["updated_at", "2025-04-07 16:09:00.416614"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 16:09:00.420403"], ["updated_at", "2025-04-07 16:09:00.420403"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-07 12:09:00 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:88:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:87:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 16:09:00.571396"], ["updated_at", "2025-04-07 16:09:00.571396"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-07 12:09:00 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:54:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:53:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:09:00.672885"], ["updated_at", "2025-04-07 16:09:00.672885"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:09:00.686726"], ["updated_at", "2025-04-07 16:09:00.686726"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 16:09:00.696726"], ["updated_at", "2025-04-07 16:09:00.696726"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:12:49.940567', '2025-04-07 16:12:49.940567'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:12:49.940567', '2025-04-07 16:12:49.940567');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:12:49.942838', '2025-04-07 16:12:49.942838', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:12:49.942838', '2025-04-07 16:12:49.942838', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$.HUN68zuDkgK93qhYwy2GOulFzL6cZBYbs2P8XHYkGwKm.QrtKNWa', 60, '2025-04-07 16:12:49.948651', '2025-04-07 16:12:49.948651', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$ed3pZFA8w9rjDWw5F/.FwuByFTutH3NXktZm8yVzlxoLXkncRPkrG', 100, '2025-04-07 16:12:49.948651', '2025-04-07 16:12:49.948651', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 16:12:49.953356', '2025-04-07 16:12:49.953356', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:12:49.953356', '2025-04-07 16:12:49.953356', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 16:12:50.062054"], ["updated_at", "2025-04-07 16:12:50.062054"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 16:12:50.095756"], ["updated_at", "2025-04-07 16:12:50.095756"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:12:50.115635"], ["updated_at", "2025-04-07 16:12:50.115635"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:12:50.125654"], ["updated_at", "2025-04-07 16:12:50.125654"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:12:50.135163"], ["updated_at", "2025-04-07 16:12:50.135163"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:12:50.137906"], ["updated_at", "2025-04-07 16:12:50.137906"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:12:50.151047"], ["updated_at", "2025-04-07 16:12:50.151047"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:12:50.161353"], ["updated_at", "2025-04-07 16:12:50.161353"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:12:50.165205"], ["updated_at", "2025-04-07 16:12:50.165205"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.4ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:12:50.167398"], ["updated_at", "2025-04-07 16:12:50.167398"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:12:50.171599"], ["updated_at", "2025-04-07 16:12:50.171599"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:12:50.173929"], ["updated_at", "2025-04-07 16:12:50.173929"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:12:50.174701"], ["updated_at", "2025-04-07 16:12:50.174701"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-07 12:12:50 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 13.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:12:50 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:12:50.307937"], ["updated_at", "2025-04-07 16:12:50.307937"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-07 12:12:50 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 15.6ms | GC: 12.1ms)
  Rendered layout layouts/application.html.erb (Duration: 16.2ms | GC: 12.1ms)
Completed 200 OK in 17ms (Views: 16.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 12.1ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (1.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-07 12:12:50 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 16:12:50.356758"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 15ms (Views: 0.7ms | ActiveRecord: 0.3ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-07 12:12:50 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-07 12:12:50 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 2.7ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.3ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-07 12:12:50 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.2ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:12:50 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x0000000123812260>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:12:50.399017"], ["updated_at", "2025-04-07 16:12:50.399017"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 12:12:50 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 16:12:50.407760"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 12:12:50 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 10ms (ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.1ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/102/enroll" for 127.0.0.1 at 2025-04-07 12:12:50 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/102/enroll"):
  
test/controllers/courses_controller_test.rb:64:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:63:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ?[0m  [["student_id", 980190962], ["course_id", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/102/enroll" for 127.0.0.1 at 2025-04-07 12:12:50 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/102/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 12:12:50 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:12:50.709798"], ["updated_at", "2025-04-07 16:12:50.709798"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:12:50 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 243ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-07 12:12:50 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 1.9ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.8ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:14:24.013702', '2025-04-07 16:14:24.013702'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:14:24.013702', '2025-04-07 16:14:24.013702');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:14:24.015999', '2025-04-07 16:14:24.015999', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:14:24.015999', '2025-04-07 16:14:24.015999', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$rWOxVKpARa8UITYqknuJGO25PA6pURX8BidwPUx5t/IN6wKcf0bPq', 60, '2025-04-07 16:14:24.021840', '2025-04-07 16:14:24.021840', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$o31jmqrLZ5dnZhMq4Q5gjOPKFUM.Qv/TRGYODuHlAIwnW7Vp0lSsK', 100, '2025-04-07 16:14:24.021840', '2025-04-07 16:14:24.021840', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 16:14:24.026538', '2025-04-07 16:14:24.026538', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:14:24.026538', '2025-04-07 16:14:24.026538', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 12:14:24 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 17ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 16:14:24.222677"], ["updated_at", "2025-04-07 16:14:24.222677"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 16:14:24.228643"], ["updated_at", "2025-04-07 16:14:24.228643"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-07 12:14:24 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 12:14:24 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:14:24.376253"], ["updated_at", "2025-04-07 16:14:24.376253"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 16:14:24.385838"], ["updated_at", "2025-04-07 16:14:24.385838"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-07 12:14:24 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 12:14:24 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 16:14:24.491731"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 7ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 16:14:24.503226"], ["updated_at", "2025-04-07 16:14:24.503226"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.5ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:14:24.524417"], ["updated_at", "2025-04-07 16:14:24.524417"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:14:24.529563"], ["updated_at", "2025-04-07 16:14:24.529563"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:14:24.534542"], ["updated_at", "2025-04-07 16:14:24.534542"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:14:24.540907"], ["updated_at", "2025-04-07 16:14:24.540907"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:14:24.541567"], ["updated_at", "2025-04-07 16:14:24.541567"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:14:24.542100"], ["updated_at", "2025-04-07 16:14:24.542100"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:14:24.544187"], ["updated_at", "2025-04-07 16:14:24.544187"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:14:24.545710"], ["updated_at", "2025-04-07 16:14:24.545710"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:14:24.546475"], ["updated_at", "2025-04-07 16:14:24.546475"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.7ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:14:24 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 244ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-07 12:14:24 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 8.4ms | GC: 1.5ms)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | GC: 2.2ms)
Completed 200 OK in 28ms (Views: 15.9ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 2.9ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-07 12:14:24 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-07 12:14:24 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 4.8ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 0.5ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:14:24 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x000000012a0f80e0>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:14:24.857032"], ["updated_at", "2025-04-07 16:14:24.857032"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.3ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-07 12:14:24 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.4ms)
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 1.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-07 12:14:24 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 16:14:24.871086"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 1.0ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.9ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-07 12:14:24 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 3.0ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.9ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.5ms)
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:14:24 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:14:24.893008"], ["updated_at", "2025-04-07 16:14:24.893008"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.5ms)
Started GET "/" for 127.0.0.1 at 2025-04-07 12:14:24 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.7ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.0ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:14:24.908910"], ["updated_at", "2025-04-07 16:14:24.908910"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:14:24.914790"], ["updated_at", "2025-04-07 16:14:24.914790"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.3ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 16:14:24.922805"], ["updated_at", "2025-04-07 16:14:24.922805"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:16:25.856431', '2025-04-07 16:16:25.856431'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:16:25.856431', '2025-04-07 16:16:25.856431');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:16:25.858644', '2025-04-07 16:16:25.858644', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:16:25.858644', '2025-04-07 16:16:25.858644', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$zxAzHP4OrZk.oVwGimEDJOW0CLLOyMQEdbb5LB6x1xMC4KxBda5RK', 60, '2025-04-07 16:16:25.864787', '2025-04-07 16:16:25.864787', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$W0Ts.t1GUFAjCBHWLSnFUuw9U7H0EEtNqtFPsdWHHIVcuk6y5N/z2', 100, '2025-04-07 16:16:25.864787', '2025-04-07 16:16:25.864787', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 16:16:25.869640', '2025-04-07 16:16:25.869640', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:16:25.869640', '2025-04-07 16:16:25.869640', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 12:16:25 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 23ms (ActiveRecord: 0.6ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 12:16:26 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 16:16:26.056540"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/102/enroll" for 127.0.0.1 at 2025-04-07 12:16:26 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/102/enroll"):
  
test/controllers/courses_controller_test.rb:63:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:62:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 12:16:26 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:16:26.210927"], ["updated_at", "2025-04-07 16:16:26.210927"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ?[0m  [["student_id", 980190962], ["course_id", 101]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.7ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/102/enroll" for 127.0.0.1 at 2025-04-07 12:16:26 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/102/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:16:26 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 246ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-07 12:16:26 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 8.1ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | GC: 1.4ms)
Completed 200 OK in 30ms (Views: 15.5ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 2.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 16:16:26.611054"], ["updated_at", "2025-04-07 16:16:26.611054"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:16:26.615889"], ["updated_at", "2025-04-07 16:16:26.615889"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:16:26.625201"], ["updated_at", "2025-04-07 16:16:26.625201"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.3ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:16:26.636737"], ["updated_at", "2025-04-07 16:16:26.636737"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:16:26.640282"], ["updated_at", "2025-04-07 16:16:26.640282"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (1.5ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:16:26.642638"], ["updated_at", "2025-04-07 16:16:26.642638"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:16:26.649944"], ["updated_at", "2025-04-07 16:16:26.649944"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:16:26.655667"], ["updated_at", "2025-04-07 16:16:26.655667"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:16:26.658293"], ["updated_at", "2025-04-07 16:16:26.658293"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:16:26.664534"], ["updated_at", "2025-04-07 16:16:26.664534"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:16:26.666108"], ["updated_at", "2025-04-07 16:16:26.666108"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:16:26.667384"], ["updated_at", "2025-04-07 16:16:26.667384"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 16:16:26.675997"], ["updated_at", "2025-04-07 16:16:26.675997"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-07 12:16:26 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 5.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:16:26 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:16:26.695928"], ["updated_at", "2025-04-07 16:16:26.695928"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-07 12:16:26 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.7ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-07 12:16:26 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-07 12:16:26 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 16:16:26.722804"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 13ms (Views: 0.8ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-07 12:16:26 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:16:26 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x000000011fa3c800>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:16:26.744311"], ["updated_at", "2025-04-07 16:16:26.744311"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-07 12:16:26 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:37.573144', '2025-04-07 16:23:37.573144'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:37.573144', '2025-04-07 16:23:37.573144');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:37.575459', '2025-04-07 16:23:37.575459', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:37.575459', '2025-04-07 16:23:37.575459', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Vwbmud3ILMnoTnpee2XmaeMr7EhU8Fu/BkVRs1wHutQQs3ICcgkKy', 60, '2025-04-07 16:23:37.581835', '2025-04-07 16:23:37.581835', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$EGvXe7TMmMzyFYCVmdorbu1F.SRl7Krl8Xddc9rqIC5KvfyhJwTwG', 100, '2025-04-07 16:23:37.581835', '2025-04-07 16:23:37.581835', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:37.586095', '2025-04-07 16:23:37.586095', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:37.586095', '2025-04-07 16:23:37.586095', NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:38.105188', '2025-04-07 16:23:38.105188'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:38.105188', '2025-04-07 16:23:38.105188');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:38.105406', '2025-04-07 16:23:38.105406', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:38.105406', '2025-04-07 16:23:38.105406', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Lo5p4nCW5fadqlTkEAdDD.mrsB.frBkj4kKg3dq6r8ruy0rj/mzX2', 60, '2025-04-07 16:23:38.105442', '2025-04-07 16:23:38.105442', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$H.p/Ro2YKyPmGMZ7Ua72OOwkS/.mucKz3mEwqeq8Dqem9kkJq5epe', 100, '2025-04-07 16:23:38.105442', '2025-04-07 16:23:38.105442', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:38.105522', '2025-04-07 16:23:38.105522', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:38.105522', '2025-04-07 16:23:38.105522', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:38.597256', '2025-04-07 16:23:38.597256'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:38.597256', '2025-04-07 16:23:38.597256');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:38.597370', '2025-04-07 16:23:38.597370', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:38.597370', '2025-04-07 16:23:38.597370', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Fu6Zki9ayLnjV3SCe4KBLu01MEc7L2R07.SWqM0FsjykHC8CEQETG', 60, '2025-04-07 16:23:38.597585', '2025-04-07 16:23:38.597585', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$6MsgaSWFdkB7YHiO2kT5N.FD9LJeYNkYy4kxi9hWU50M/4lnrj.LK', 100, '2025-04-07 16:23:38.597585', '2025-04-07 16:23:38.597585', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:38.598411', '2025-04-07 16:23:38.598411', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:38.598411', '2025-04-07 16:23:38.598411', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:39.583403', '2025-04-07 16:23:39.583403'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:39.583403', '2025-04-07 16:23:39.583403');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:39.583708', '2025-04-07 16:23:39.583708', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:39.583708', '2025-04-07 16:23:39.583708', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$VEaRQfqDNlpqTHshEcbXo.BaZGy633Z9x40nZBIDnzckSkMPqZYcy', 60, '2025-04-07 16:23:39.583753', '2025-04-07 16:23:39.583753', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$rjGB568qIOdhrDbP8pthheS6tOUyaLRaO.8pg8vbN.tU0Oag0jcDa', 100, '2025-04-07 16:23:39.583753', '2025-04-07 16:23:39.583753', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:39.585879', '2025-04-07 16:23:39.585879', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:39.585879', '2025-04-07 16:23:39.585879', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:40.578087', '2025-04-07 16:23:40.578087'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:40.578087', '2025-04-07 16:23:40.578087');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:40.578456', '2025-04-07 16:23:40.578456', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:40.578456', '2025-04-07 16:23:40.578456', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$/qp4Ss656CUbDA9iffEjyO7xlFZhN9On3r2.UvbbEO.v4.hEFiXPq', 60, '2025-04-07 16:23:40.578696', '2025-04-07 16:23:40.578696', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$jfHNsYhuUsW6BtYQqgkthOaJV.NNp3DmxihDf3uuh2ULE6J29IfS6', 100, '2025-04-07 16:23:40.578696', '2025-04-07 16:23:40.578696', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:40.578870', '2025-04-07 16:23:40.578870', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:40.578870', '2025-04-07 16:23:40.578870', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:41.551014', '2025-04-07 16:23:41.551014'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:41.551014', '2025-04-07 16:23:41.551014');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:41.551673', '2025-04-07 16:23:41.551673', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:41.551673', '2025-04-07 16:23:41.551673', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$1we51duD.97458ps3b7R3OmI0MRIU6erMOGmfPOtA6PbhOEUi7/Je', 60, '2025-04-07 16:23:41.551691', '2025-04-07 16:23:41.551691', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$bJmM8RFndo/GP1J2YZRuTOutnhTzZ05PxoEAB4/gahVRIgp.LTXmu', 100, '2025-04-07 16:23:41.551691', '2025-04-07 16:23:41.551691', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:41.551702', '2025-04-07 16:23:41.551702', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:41.551702', '2025-04-07 16:23:41.551702', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:42.569800', '2025-04-07 16:23:42.569800'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:42.569800', '2025-04-07 16:23:42.569800');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:42.569976', '2025-04-07 16:23:42.569976', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:42.569976', '2025-04-07 16:23:42.569976', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$cvMZsoqDJYzOdK12G0GMleamXJPGnEb3X5DRtLHvjs7BW43pFZBPS', 60, '2025-04-07 16:23:42.569999', '2025-04-07 16:23:42.569999', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$6CsRx9FpVsTvZ8rEf61FYOv8YpuTmD0h7rwJs4cKi0lkZYyWgCvMK', 100, '2025-04-07 16:23:42.569999', '2025-04-07 16:23:42.569999', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:42.570010', '2025-04-07 16:23:42.570010', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:42.570010', '2025-04-07 16:23:42.570010', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:43.538629', '2025-04-07 16:23:43.538629'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:43.538629', '2025-04-07 16:23:43.538629');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:43.539523', '2025-04-07 16:23:43.539523', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:43.539523', '2025-04-07 16:23:43.539523', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$1DbztvWiuf2erf9TI8sHE.25Tr6BNyOxvYR6niP7hMcLPOAIqY4Oi', 60, '2025-04-07 16:23:43.540175', '2025-04-07 16:23:43.540175', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$gZXkf2hQel.if2S8sLCnf.exWe3C.76DluFHlp9NJ1iCDHhPqfxLO', 100, '2025-04-07 16:23:43.540175', '2025-04-07 16:23:43.540175', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:43.540189', '2025-04-07 16:23:43.540189', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:43.540189', '2025-04-07 16:23:43.540189', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:44.525080', '2025-04-07 16:23:44.525080'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:44.525080', '2025-04-07 16:23:44.525080');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:44.525107', '2025-04-07 16:23:44.525107', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:44.525107', '2025-04-07 16:23:44.525107', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$45Boqm5NoyxI/gXe/Z1rWuVMWEn/T8kkltKnmiYICFrKwhvw2TOye', 60, '2025-04-07 16:23:44.525124', '2025-04-07 16:23:44.525124', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$/NcQvXbr8hPzRlsifrjJIe8btKBitA/Y9v0LK72XT429d69PDPIru', 100, '2025-04-07 16:23:44.525124', '2025-04-07 16:23:44.525124', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:44.525134', '2025-04-07 16:23:44.525134', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:44.525134', '2025-04-07 16:23:44.525134', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:45.493326', '2025-04-07 16:23:45.493326'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:45.493326', '2025-04-07 16:23:45.493326');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:45.493360', '2025-04-07 16:23:45.493360', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:45.493360', '2025-04-07 16:23:45.493360', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$nBr9Fsmg3UUVvnOpAtli/unUUrKd1eCfPVLrnQVsX6cWCHoWcJb3y', 60, '2025-04-07 16:23:45.493379', '2025-04-07 16:23:45.493379', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$QRaxWS5jWSq1RT4G5jZHaOqimIeaA96RZY3x9QzJj3a9MfYGT1.DC', 100, '2025-04-07 16:23:45.493379', '2025-04-07 16:23:45.493379', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:45.493390', '2025-04-07 16:23:45.493390', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:45.493390', '2025-04-07 16:23:45.493390', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:46.463078', '2025-04-07 16:23:46.463078'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:46.463078', '2025-04-07 16:23:46.463078');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:46.463111', '2025-04-07 16:23:46.463111', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:46.463111', '2025-04-07 16:23:46.463111', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$eJ2jYYJmOHm9L0GrcRrdwueGptwTvYIVB6h8amHl7pM3lQbiUFQ0K', 60, '2025-04-07 16:23:46.463139', '2025-04-07 16:23:46.463139', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$B5VEU4XA3UlH1KZtoU9SM.K.lRLVrdlOJ3Jz6tvD7.FM0QuZRyZMu', 100, '2025-04-07 16:23:46.463139', '2025-04-07 16:23:46.463139', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:46.463150', '2025-04-07 16:23:46.463150', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:46.463150', '2025-04-07 16:23:46.463150', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:47.430958', '2025-04-07 16:23:47.430958'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:47.430958', '2025-04-07 16:23:47.430958');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:47.431002', '2025-04-07 16:23:47.431002', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:47.431002', '2025-04-07 16:23:47.431002', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$VsdXGEEq19roNISbqF3qGeRHuZQn3vlSHLlMjr4S8Nk4thF.g/4QK', 60, '2025-04-07 16:23:47.431025', '2025-04-07 16:23:47.431025', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$QfMObZnij//2ugyw27ksmeOJjS3GOLdEzqa8Oh5kVXvyQrvz21WdC', 100, '2025-04-07 16:23:47.431025', '2025-04-07 16:23:47.431025', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:47.431036', '2025-04-07 16:23:47.431036', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:47.431036', '2025-04-07 16:23:47.431036', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:48.396739', '2025-04-07 16:23:48.396739'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:48.396739', '2025-04-07 16:23:48.396739');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:48.396780', '2025-04-07 16:23:48.396780', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:48.396780', '2025-04-07 16:23:48.396780', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$M4SYrf4U7SL4sTUE9W/Uo.GRSmy0LrsZTmhHY2mDf.c0fpsrBMGtG', 60, '2025-04-07 16:23:48.396803', '2025-04-07 16:23:48.396803', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$aiT4De1.Za03fGS0tcevI.Gsg.hkwpjzHp8M60bHzgG5y2m0UvfdW', 100, '2025-04-07 16:23:48.396803', '2025-04-07 16:23:48.396803', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:48.396815', '2025-04-07 16:23:48.396815', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:48.396815', '2025-04-07 16:23:48.396815', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:48.884379', '2025-04-07 16:23:48.884379'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:48.884379', '2025-04-07 16:23:48.884379');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:48.884410', '2025-04-07 16:23:48.884410', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:48.884410', '2025-04-07 16:23:48.884410', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$xb297tltY38i2eLYgdKe9ewtVXn66yfr83gy0bAMLtsqqS6jiLs8K', 60, '2025-04-07 16:23:48.884428', '2025-04-07 16:23:48.884428', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$gX4wrNwd/qkkivqntPhfiuDpE9qTCtmhjRzgw3jQ0DNUEP75Ok0hy', 100, '2025-04-07 16:23:48.884428', '2025-04-07 16:23:48.884428', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:48.884438', '2025-04-07 16:23:48.884438', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:48.884438', '2025-04-07 16:23:48.884438', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:49.371835', '2025-04-07 16:23:49.371835'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:49.371835', '2025-04-07 16:23:49.371835');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:49.371871', '2025-04-07 16:23:49.371871', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:49.371871', '2025-04-07 16:23:49.371871', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$2XVusxXaEDXatWhz4ZsbQem5JjR8QvFpr6vRVrhFNbWWqJ1xFy1ja', 60, '2025-04-07 16:23:49.371892', '2025-04-07 16:23:49.371892', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$.PnaeInblYsrH3CVAVX54uP6CqLHKb0L/ixVeFJoK0rlN4Rh.yYbm', 100, '2025-04-07 16:23:49.371892', '2025-04-07 16:23:49.371892', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:49.371954', '2025-04-07 16:23:49.371954', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:49.371954', '2025-04-07 16:23:49.371954', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:49.860423', '2025-04-07 16:23:49.860423'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:49.860423', '2025-04-07 16:23:49.860423');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:49.860458', '2025-04-07 16:23:49.860458', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:49.860458', '2025-04-07 16:23:49.860458', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$EUUdnOJvGHv99M0Atzh7qO6Yj75UHjz5oVKoF/O.p.HrXpEsID56W', 60, '2025-04-07 16:23:49.860477', '2025-04-07 16:23:49.860477', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$FHhH2cqUrspA4si294k5K.mXI.CfbUDDr1qUWbBsbcxvfzxU41bFS', 100, '2025-04-07 16:23:49.860477', '2025-04-07 16:23:49.860477', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:49.860488', '2025-04-07 16:23:49.860488', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:49.860488', '2025-04-07 16:23:49.860488', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:50.344811', '2025-04-07 16:23:50.344811'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:50.344811', '2025-04-07 16:23:50.344811');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:50.344846', '2025-04-07 16:23:50.344846', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:50.344846', '2025-04-07 16:23:50.344846', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Ikmdjb4oFfyIM3qLAEBxX.EpE7H.BV6SNYaPLvv4EnvWUp4eIHria', 60, '2025-04-07 16:23:50.344866', '2025-04-07 16:23:50.344866', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$yn8G1cX5SM1jHxbul1xjYueh04w7dEppnO8ZfNN6Zkc371rl2JwuS', 100, '2025-04-07 16:23:50.344866', '2025-04-07 16:23:50.344866', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:50.344877', '2025-04-07 16:23:50.344877', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:50.344877', '2025-04-07 16:23:50.344877', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:50.829324', '2025-04-07 16:23:50.829324'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:50.829324', '2025-04-07 16:23:50.829324');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:50.829358', '2025-04-07 16:23:50.829358', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:50.829358', '2025-04-07 16:23:50.829358', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$kAKpFoaCOhjOGfJwPgF2Ku0DZorGpaj28OOasH8CarNpN1fwAyKLq', 60, '2025-04-07 16:23:50.829377', '2025-04-07 16:23:50.829377', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$v8RlibYkCCPpdV6HCyv73OWvfz.LYIHIBKvnhVsdngvG/Xr2ZBffC', 100, '2025-04-07 16:23:50.829377', '2025-04-07 16:23:50.829377', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:50.829388', '2025-04-07 16:23:50.829388', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:50.829388', '2025-04-07 16:23:50.829388', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:51.313427', '2025-04-07 16:23:51.313427'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:51.313427', '2025-04-07 16:23:51.313427');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:51.313471', '2025-04-07 16:23:51.313471', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:51.313471', '2025-04-07 16:23:51.313471', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$S7Isrtm8pqcvqN3Pfr6.n.9GFrqtTuVmsuT.TOcb0cjajthzL5he.', 60, '2025-04-07 16:23:51.313492', '2025-04-07 16:23:51.313492', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$nPiufgLEFVCSUBe/ewPQMeu/88vkZjC4VaFKlfYgVy51xF0mZB7ni', 100, '2025-04-07 16:23:51.313492', '2025-04-07 16:23:51.313492', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:51.313505', '2025-04-07 16:23:51.313505', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:51.313505', '2025-04-07 16:23:51.313505', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:51.798738', '2025-04-07 16:23:51.798738'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:51.798738', '2025-04-07 16:23:51.798738');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:51.798771', '2025-04-07 16:23:51.798771', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:51.798771', '2025-04-07 16:23:51.798771', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$GaN1OfqoUR9L5TWzbbK78.duUEFSMMNF5tU/crLnu8AKiH5N0N1Fe', 60, '2025-04-07 16:23:51.798789', '2025-04-07 16:23:51.798789', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$hUIRrh8EJmv5Cswji99HcOr4T96I.7Mxp1dKNnaP2LwE.ZER8q7AK', 100, '2025-04-07 16:23:51.798789', '2025-04-07 16:23:51.798789', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:51.798800', '2025-04-07 16:23:51.798800', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:51.798800', '2025-04-07 16:23:51.798800', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:52.765990', '2025-04-07 16:23:52.765990'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:52.765990', '2025-04-07 16:23:52.765990');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:52.766031', '2025-04-07 16:23:52.766031', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:52.766031', '2025-04-07 16:23:52.766031', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Oermar2/Qo8oR3zuPd1Kh.fyMzX8sk.q0kKc26mqBBJdAWZnNkROu', 60, '2025-04-07 16:23:52.766053', '2025-04-07 16:23:52.766053', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$epktLJ5m.XzMe5XAsRuVyeQijwKNILGzV2Ez90U47CcLsaV5lgY1K', 100, '2025-04-07 16:23:52.766053', '2025-04-07 16:23:52.766053', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:52.766065', '2025-04-07 16:23:52.766065', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:52.766065', '2025-04-07 16:23:52.766065', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:53.252417', '2025-04-07 16:23:53.252417'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:53.252417', '2025-04-07 16:23:53.252417');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:53.252453', '2025-04-07 16:23:53.252453', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:53.252453', '2025-04-07 16:23:53.252453', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$/a88z09PIfLGIMpPr2z9l.jSzIyvwc/XN/bBSXcAlTvH.yBIBA.Wi', 60, '2025-04-07 16:23:53.252472', '2025-04-07 16:23:53.252472', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$EASjj/mgnP/vIgDksqmSXuWRDa7kh5Op.uZf3I9duEYrxE65/247u', 100, '2025-04-07 16:23:53.252472', '2025-04-07 16:23:53.252472', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:53.252537', '2025-04-07 16:23:53.252537', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:53.252537', '2025-04-07 16:23:53.252537', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:53.736935', '2025-04-07 16:23:53.736935'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:53.736935', '2025-04-07 16:23:53.736935');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:53.736972', '2025-04-07 16:23:53.736972', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:53.736972', '2025-04-07 16:23:53.736972', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$DS3ifmslbb0F7omXK5lXH.iP4XLltdg65xPcRbfbnFi8glXOpGO5i', 60, '2025-04-07 16:23:53.736992', '2025-04-07 16:23:53.736992', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$lcGv6VZLUl6wXiPKkG3Y3ejF4DzXNoIveJXGTfHWsuUMj87aztE2i', 100, '2025-04-07 16:23:53.736992', '2025-04-07 16:23:53.736992', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:53.737003', '2025-04-07 16:23:53.737003', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:53.737003', '2025-04-07 16:23:53.737003', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:54.221293', '2025-04-07 16:23:54.221293'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:54.221293', '2025-04-07 16:23:54.221293');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:54.221329', '2025-04-07 16:23:54.221329', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:54.221329', '2025-04-07 16:23:54.221329', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$DL2CDYi0/6XERzQwlwk1Su9BFBAUDZ/v6GEwcwIDx4KGTMPvZzqBm', 60, '2025-04-07 16:23:54.221348', '2025-04-07 16:23:54.221348', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$jpzPYF.xe7R9QUzM4DmQOOYFTMoCWN1Qt2dIW0Vmn8vLFTNh5MAUK', 100, '2025-04-07 16:23:54.221348', '2025-04-07 16:23:54.221348', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:54.221359', '2025-04-07 16:23:54.221359', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:54.221359', '2025-04-07 16:23:54.221359', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:54.705151', '2025-04-07 16:23:54.705151'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:54.705151', '2025-04-07 16:23:54.705151');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:54.705185', '2025-04-07 16:23:54.705185', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:54.705185', '2025-04-07 16:23:54.705185', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$CuHBIDnvzsypCnEm8YCJyO91EkC4TXGtysXZKGroEIK6/nhcdZVnW', 60, '2025-04-07 16:23:54.705204', '2025-04-07 16:23:54.705204', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$WdHgAbRpx3PtIIhJY8jO7eOuyha1v5X4mkVDRz7o2.drjsQy0yk8m', 100, '2025-04-07 16:23:54.705204', '2025-04-07 16:23:54.705204', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:54.705215', '2025-04-07 16:23:54.705215', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:54.705215', '2025-04-07 16:23:54.705215', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:55.189523', '2025-04-07 16:23:55.189523'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:55.189523', '2025-04-07 16:23:55.189523');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:55.189569', '2025-04-07 16:23:55.189569', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:55.189569', '2025-04-07 16:23:55.189569', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$TwByRKX0uwxYM4hiwAFbie0ihO3qC8g3bvvJkDHksS5bsiVPSnUtK', 60, '2025-04-07 16:23:55.189592', '2025-04-07 16:23:55.189592', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$1NW8HezhCBsZEZ9DRBGMAOXBQ.mwJ4E1PBXVfDsnOKoNzjnSzXux6', 100, '2025-04-07 16:23:55.189592', '2025-04-07 16:23:55.189592', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:55.189605', '2025-04-07 16:23:55.189605', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:55.189605', '2025-04-07 16:23:55.189605', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:55.673824', '2025-04-07 16:23:55.673824'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:55.673824', '2025-04-07 16:23:55.673824');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:55.673860', '2025-04-07 16:23:55.673860', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:55.673860', '2025-04-07 16:23:55.673860', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$mnBY89nx9eOeSTXanI2J6uqBklK6B07RZFTAm6jOCO7Vs0b4ZKy6q', 60, '2025-04-07 16:23:55.673880', '2025-04-07 16:23:55.673880', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$RJOUuZuFfr6lo8UYItp0Tuscua8Uo4/45vyRLQHUs/O.ltKLz/nc6', 100, '2025-04-07 16:23:55.673880', '2025-04-07 16:23:55.673880', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:55.673891', '2025-04-07 16:23:55.673891', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:55.673891', '2025-04-07 16:23:55.673891', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:56.159048', '2025-04-07 16:23:56.159048'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:56.159048', '2025-04-07 16:23:56.159048');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:56.159084', '2025-04-07 16:23:56.159084', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:56.159084', '2025-04-07 16:23:56.159084', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$2Tf0MHczu3V/ehpJ3/FKDOkcsLuFKNvaYdybLQpNfHw76E5R51k82', 60, '2025-04-07 16:23:56.159157', '2025-04-07 16:23:56.159157', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$x2gMCe4ts9yTL0A4w0nu7.lWNz2gPqBnS/D3Ib9Mgf62DQZWdfkBW', 100, '2025-04-07 16:23:56.159157', '2025-04-07 16:23:56.159157', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:56.159171', '2025-04-07 16:23:56.159171', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:56.159171', '2025-04-07 16:23:56.159171', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:56.643950', '2025-04-07 16:23:56.643950'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:56.643950', '2025-04-07 16:23:56.643950');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:56.643978', '2025-04-07 16:23:56.643978', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:56.643978', '2025-04-07 16:23:56.643978', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$ZCB4yAt8o5zgckwHtjqDD.JreX8A/RLFLnvU6iMxH.Z6AvrUNJTWi', 60, '2025-04-07 16:23:56.643995', '2025-04-07 16:23:56.643995', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$ppTaARm.YmdVGwseAo.pzeSjddx.DJQDhaP07..qqZOpyJ8o1nLe2', 100, '2025-04-07 16:23:56.643995', '2025-04-07 16:23:56.643995', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:56.644006', '2025-04-07 16:23:56.644006', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:56.644006', '2025-04-07 16:23:56.644006', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:57.613601', '2025-04-07 16:23:57.613601'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:23:57.613601', '2025-04-07 16:23:57.613601');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:57.613658', '2025-04-07 16:23:57.613658', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:23:57.613658', '2025-04-07 16:23:57.613658', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$s5dypwDh6NWAS0b9cpORr.Ur3HMOyicRrsnyYv.N7YTuP2yXXTbbW', 60, '2025-04-07 16:23:57.613678', '2025-04-07 16:23:57.613678', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$MGMLMwJlsNMAODhlBRR8QOCwFqoSHZ6RjCSKylEO7SL8p6kejpJRC', 100, '2025-04-07 16:23:57.613678', '2025-04-07 16:23:57.613678', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:23:57.613689', '2025-04-07 16:23:57.613689', NULL), (298486374, 298486374, 298486374, 'Planned', '2025-04-07 16:23:57.613689', '2025-04-07 16:23:57.613689', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:24:08.571174', '2025-04-07 16:24:08.571174'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:24:08.571174', '2025-04-07 16:24:08.571174');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:24:08.573639', '2025-04-07 16:24:08.573639', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:24:08.573639', '2025-04-07 16:24:08.573639', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$PM7kF.vD6a1KJjDvg8Sfge7h6.ypZr1fVg5/VKvSve26HM2f.O2gW', 60, '2025-04-07 16:24:08.579709', '2025-04-07 16:24:08.579709', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$.iWepfNCNCla3u1T70Dm6O00d6mFBvgW73P/uC/ZdWOMsYkB3PKme', 100, '2025-04-07 16:24:08.579709', '2025-04-07 16:24:08.579709', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 16:24:08.584670', '2025-04-07 16:24:08.584670', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:24:08.584670', '2025-04-07 16:24:08.584670', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-07 12:24:08 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | GC: 0.0ms)
Completed 200 OK in 36ms (Views: 14.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:24:08 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:24:08.765581"], ["updated_at", "2025-04-07 16:24:08.765581"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 20ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-07 12:24:08 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:24:08.793417"], ["updated_at", "2025-04-07 16:24:08.793417"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 16:24:08.800232"], ["updated_at", "2025-04-07 16:24:08.800232"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:24:08.804890"], ["updated_at", "2025-04-07 16:24:08.804890"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-07 12:24:08 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 5.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-07 12:24:08 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 3.8ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:24:08 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x000000012c05fbe0>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:24:08.843853"], ["updated_at", "2025-04-07 16:24:08.843853"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-07 12:24:08 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-07 12:24:08 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 16:24:08.877901"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 14ms (Views: 0.5ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:24:08 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 243ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-07 12:24:09 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.1ms)
Completed 200 OK in 21ms (Views: 2.8ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.7ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mStudent Load (1.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:24:09.172785"], ["updated_at", "2025-04-07 16:24:09.172785"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:24:09.180483"], ["updated_at", "2025-04-07 16:24:09.180483"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:24:09.183998"], ["updated_at", "2025-04-07 16:24:09.183998"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:24:09.190128"], ["updated_at", "2025-04-07 16:24:09.190128"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:24:09.195362"], ["updated_at", "2025-04-07 16:24:09.195362"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:24:09.197759"], ["updated_at", "2025-04-07 16:24:09.197759"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:24:09.203969"], ["updated_at", "2025-04-07 16:24:09.203969"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:24:09.205524"], ["updated_at", "2025-04-07 16:24:09.205524"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:24:09.206121"], ["updated_at", "2025-04-07 16:24:09.206121"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 16:24:09.210239"], ["updated_at", "2025-04-07 16:24:09.210239"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:24:30.904792', '2025-04-07 16:24:30.904792'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:24:30.904792', '2025-04-07 16:24:30.904792');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:24:30.907059', '2025-04-07 16:24:30.907059', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:24:30.907059', '2025-04-07 16:24:30.907059', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$eL6Y9272xtCsVN.8rQO41uvnXWz0AEqOO8AN2JpJ0Djsv/YpTLiT6', 60, '2025-04-07 16:24:30.912863', '2025-04-07 16:24:30.912863', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$BKJ1mpb31AU9dY7G659e3uL8zZ2aigqmg8lV7EDbZgBY/DPSztGIW', 100, '2025-04-07 16:24:30.912863', '2025-04-07 16:24:30.912863', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 16:24:30.917611', '2025-04-07 16:24:30.917611', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:24:30.917611', '2025-04-07 16:24:30.917611', NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:24:30.967052"], ["updated_at", "2025-04-07 16:24:30.967052"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:24:30.981918"], ["updated_at", "2025-04-07 16:24:30.981918"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.3ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:24:30.995903"], ["updated_at", "2025-04-07 16:24:30.995903"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:24:31.010032"], ["updated_at", "2025-04-07 16:24:31.010032"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:24:31.019627"], ["updated_at", "2025-04-07 16:24:31.019627"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:24:31.024162"], ["updated_at", "2025-04-07 16:24:31.024162"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:24:31.030627"], ["updated_at", "2025-04-07 16:24:31.030627"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:24:31.032018"], ["updated_at", "2025-04-07 16:24:31.032018"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:24:31.033328"], ["updated_at", "2025-04-07 16:24:31.033328"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mStudent Load (1.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 12:24:31 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 31ms (ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 12:24:31 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:24:31.177552"], ["updated_at", "2025-04-07 16:24:31.177552"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ?[0m  [["student_id", 980190962], ["course_id", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/102/enroll" for 127.0.0.1 at 2025-04-07 12:24:31 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/102/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 12:24:31 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.1ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 16:24:31.327272"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.4ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/102/enroll" for 127.0.0.1 at 2025-04-07 12:24:31 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/102/enroll"):
  
test/controllers/courses_controller_test.rb:63:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:62:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 16:24:31.435827"], ["updated_at", "2025-04-07 16:24:31.435827"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:24:31.446770"], ["updated_at", "2025-04-07 16:24:31.446770"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:24:31.454621"], ["updated_at", "2025-04-07 16:24:31.454621"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.3ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 16:24:31.459131"], ["updated_at", "2025-04-07 16:24:31.459131"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:24:31 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 244ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 1.2ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-07 12:24:31 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 8.7ms | GC: 1.3ms)
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | GC: 2.2ms)
Completed 200 OK in 29ms (Views: 16.9ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 3.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-07 12:24:31 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:24:31 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x000000012c2f7b28>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:24:31.753180"], ["updated_at", "2025-04-07 16:24:31.753180"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-07 12:24:31 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-07 12:24:31 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 16:24:31.765582"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 1.4ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.8ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-07 12:24:31 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 7.2ms | GC: 1.7ms)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | GC: 2.1ms)
Completed 200 OK in 8ms (Views: 8.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 2.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-07 12:24:31 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 3.1ms | GC: 1.1ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 1.3ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.6ms)
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:24:31 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:24:31.793620"], ["updated_at", "2025-04-07 16:24:31.793620"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.7ms)
Started GET "/" for 127.0.0.1 at 2025-04-07 12:24:31 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.6ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.8ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:24:42.181422', '2025-04-07 16:24:42.181422'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:24:42.181422', '2025-04-07 16:24:42.181422');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:24:42.183821', '2025-04-07 16:24:42.183821', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:24:42.183821', '2025-04-07 16:24:42.183821', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$62cJPUZNmdtKcq8lUVmXYO6bCs68CwSIpSLbogGLMy2BH77GuTSJ2', 60, '2025-04-07 16:24:42.189729', '2025-04-07 16:24:42.189729', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$8EBGRcBb3zdaL6Ssns1jZeiRxuNyrsh96wSyWs.3skafhNuIIqWJq', 100, '2025-04-07 16:24:42.189729', '2025-04-07 16:24:42.189729', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 16:24:42.194573', '2025-04-07 16:24:42.194573', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:24:42.194573', '2025-04-07 16:24:42.194573', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:24:42.272935"], ["updated_at", "2025-04-07 16:24:42.272935"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.7ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:24:42.296520"], ["updated_at", "2025-04-07 16:24:42.296520"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 16:24:42.313894"], ["updated_at", "2025-04-07 16:24:42.313894"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 16:24:42.356033"], ["updated_at", "2025-04-07 16:24:42.356033"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:24:42 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x000000012cede928>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:24:42.484213"], ["updated_at", "2025-04-07 16:24:42.484213"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 18ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (1.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-07 12:24:42 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-07 12:24:42 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 16:24:42.547442"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.8ms | ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-07 12:24:42 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 3.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | GC: 0.0ms)
Completed 200 OK in 20ms (Views: 15.8ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-07 12:24:42 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:24:42 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-07 12:24:42 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 2.0ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 13.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:24:42.874359"], ["updated_at", "2025-04-07 16:24:42.874359"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:24:42.875864"], ["updated_at", "2025-04-07 16:24:42.875864"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:24:42.878962"], ["updated_at", "2025-04-07 16:24:42.878962"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:24:42.885055"], ["updated_at", "2025-04-07 16:24:42.885055"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:24:42.886451"], ["updated_at", "2025-04-07 16:24:42.886451"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:24:42.886969"], ["updated_at", "2025-04-07 16:24:42.886969"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:24:42.890531"], ["updated_at", "2025-04-07 16:24:42.890531"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:24:42.891003"], ["updated_at", "2025-04-07 16:24:42.891003"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:24:42.891291"], ["updated_at", "2025-04-07 16:24:42.891291"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-07 12:24:42 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 4.3ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.2ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:24:42 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:24:42.917329"], ["updated_at", "2025-04-07 16:24:42.917329"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-07 12:24:42 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:26:45.949536', '2025-04-07 16:26:45.949536'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:26:45.949536', '2025-04-07 16:26:45.949536');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:26:45.951864', '2025-04-07 16:26:45.951864', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:26:45.951864', '2025-04-07 16:26:45.951864', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$ulFvUleJbmnQ1auKG38zqOvTkbCdNexK6RpbCFgG.b8p/UpLwjDPK', 60, '2025-04-07 16:26:45.957759', '2025-04-07 16:26:45.957759', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$3WRchZ6ywSaBwTjW/VSth.1QWwEBs2V.v0MTb07vO80JD3VeqNAui', 100, '2025-04-07 16:26:45.957759', '2025-04-07 16:26:45.957759', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 16:26:45.962472', '2025-04-07 16:26:45.962472', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:26:45.962472', '2025-04-07 16:26:45.962472', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 16:26:46.035839"], ["updated_at", "2025-04-07 16:26:46.035839"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.3ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:26:46.057173"], ["updated_at", "2025-04-07 16:26:46.057173"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.2ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:26:46.068163"], ["updated_at", "2025-04-07 16:26:46.068163"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.9ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-07 12:26:46 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | GC: 0.0ms)
Completed 200 OK in 32ms (Views: 14.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-07 12:26:46 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 16:26:46.260664"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 16ms (Views: 0.5ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-07 12:26:46 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 8ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:26:46 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x0000000120547e48>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:26:46.307430"], ["updated_at", "2025-04-07 16:26:46.307430"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-07 12:26:46 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:26:46 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 243ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-07 12:26:46 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 2.1ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 12.9ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:26:46.606852"], ["updated_at", "2025-04-07 16:26:46.606852"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:26:46.611504"], ["updated_at", "2025-04-07 16:26:46.611504"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:26:46.615866"], ["updated_at", "2025-04-07 16:26:46.615866"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:26:46.621578"], ["updated_at", "2025-04-07 16:26:46.621578"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:26:46.622490"], ["updated_at", "2025-04-07 16:26:46.622490"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:26:46.623023"], ["updated_at", "2025-04-07 16:26:46.623023"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:26:46.624965"], ["updated_at", "2025-04-07 16:26:46.624965"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:26:46.625474"], ["updated_at", "2025-04-07 16:26:46.625474"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:26:46.626353"], ["updated_at", "2025-04-07 16:26:46.626353"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-07 12:26:46 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 3.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.4ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:26:46 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:26:46.636343"], ["updated_at", "2025-04-07 16:26:46.636343"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-07 12:26:46 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 16:26:46.646468"], ["updated_at", "2025-04-07 16:26:46.646468"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.7ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.4ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:27:16.954498', '2025-04-07 16:27:16.954498'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:27:16.954498', '2025-04-07 16:27:16.954498');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:27:16.956842', '2025-04-07 16:27:16.956842', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:27:16.956842', '2025-04-07 16:27:16.956842', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$rXX4iKabqUQLt3akpdyzlOI7cNZbkGqq59o.iHDc5RG95VtNZBOZy', 60, '2025-04-07 16:27:16.962752', '2025-04-07 16:27:16.962752', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$5J1cf209eqnLPMOSkv320eWxAo.7djXlV.cnbz4SQ9uhz1JvpFMw2', 100, '2025-04-07 16:27:16.962752', '2025-04-07 16:27:16.962752', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 16:27:16.967696', '2025-04-07 16:27:16.967696', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:27:16.967696', '2025-04-07 16:27:16.967696', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.2ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:27:17.031663"], ["updated_at", "2025-04-07 16:27:17.031663"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.3ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:27:17.066783"], ["updated_at", "2025-04-07 16:27:17.066783"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 16:27:17.085481"], ["updated_at", "2025-04-07 16:27:17.085481"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 16:27:17.205449"], ["updated_at", "2025-04-07 16:27:17.205449"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123457/enroll" for 127.0.0.1 at 2025-04-07 12:27:17 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123457/enroll"):
  
test/controllers/courses_controller_test.rb:41:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:40:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 12:27:17 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 22ms (ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 3.1ms)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 12:27:17 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:27:17.428385"], ["updated_at", "2025-04-07 16:27:17.428385"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.6ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 12:27:17 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 16:27:17.435258"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.3ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 16:27:17.447435"], ["updated_at", "2025-04-07 16:27:17.447435"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Operating Systems"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 102], ["status", "Planned"], ["created_at", "2025-04-07 16:27:17.454986"], ["updated_at", "2025-04-07 16:27:17.454986"], ["term", "Fall 2023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/123458/enroll" for 127.0.0.1 at 2025-04-07 12:27:17 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/123458/enroll"):
  
test/controllers/courses_controller_test.rb:74:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:73:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:27:17.554616"], ["updated_at", "2025-04-07 16:27:17.554616"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:27:17.556223"], ["updated_at", "2025-04-07 16:27:17.556223"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:27:17.557723"], ["updated_at", "2025-04-07 16:27:17.557723"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:27:17.561641"], ["updated_at", "2025-04-07 16:27:17.561641"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:27:17.562787"], ["updated_at", "2025-04-07 16:27:17.562787"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:27:17.563594"], ["updated_at", "2025-04-07 16:27:17.563594"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:27:17.567904"], ["updated_at", "2025-04-07 16:27:17.567904"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:27:17.569695"], ["updated_at", "2025-04-07 16:27:17.569695"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.3ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:27:17.572483"], ["updated_at", "2025-04-07 16:27:17.572483"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-07 12:27:17 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 9.4ms | GC: 1.6ms)
  Rendered layout layouts/application.html.erb (Duration: 23.6ms | GC: 8.0ms)
Completed 200 OK in 28ms (Views: 26.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 8.5ms)
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:27:17 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:27:17.609396"], ["updated_at", "2025-04-07 16:27:17.609396"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.5ms)
Started GET "/" for 127.0.0.1 at 2025-04-07 12:27:17 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 4.8ms | GC: 1.3ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 1.3ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.7ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:27:17 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 244ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.6ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-07 12:27:17 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 1.6ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.8ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-07 12:27:17 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-07 12:27:17 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:27:17 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x00000001206efb60>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:27:17.894676"], ["updated_at", "2025-04-07 16:27:17.894676"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.2ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-07 12:27:17 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 16:27:17.898952"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-07 12:27:17 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 16:27:17.911514"], ["updated_at", "2025-04-07 16:27:17.911514"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:28:53.715339', '2025-04-07 16:28:53.715339'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:28:53.715339', '2025-04-07 16:28:53.715339');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:28:53.717565', '2025-04-07 16:28:53.717565', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:28:53.717565', '2025-04-07 16:28:53.717565', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$nb5pC0bJccp43.rCs9.2xOHJyvAGwMRMDosCF2bzL9z0YKQ46oQH2', 60, '2025-04-07 16:28:53.723483', '2025-04-07 16:28:53.723483', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$bjXVbzwjpSCNtLEwmb0Hm.tUhpQJe6Pgde2ppwrBu/xLI1XKDCv/y', 100, '2025-04-07 16:28:53.723483', '2025-04-07 16:28:53.723483', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 16:28:53.728289', '2025-04-07 16:28:53.728289', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:28:53.728289', '2025-04-07 16:28:53.728289', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:28:53 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x00000001293af140>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:28:53.886267"], ["updated_at", "2025-04-07 16:28:53.886267"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 29ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-07 12:28:53 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 16:28:53.911597"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-07 12:28:53 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 4.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 14.6ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-07 12:28:53 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-07 12:28:53 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2025-04-07 12:28:53 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 14.0ms | GC: 12.7ms)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | GC: 12.7ms)
Completed 200 OK in 16ms (Views: 14.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 12.7ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 12:28:53 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:28:53.988999"], ["updated_at", "2025-04-07 16:28:53.988999"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.5ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2025-04-07 12:28:53 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.4ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 12:28:53 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 16:28:54.001238"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2025-04-07 12:28:54 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mUserSchedule Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/102/enroll" for 127.0.0.1 at 2025-04-07 12:28:54 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/102/enroll"):
  
test/controllers/courses_controller_test.rb:63:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:62:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2025-04-07 12:28:54 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ?[0m  [["student_id", 980190962], ["course_id", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/102/enroll" for 127.0.0.1 at 2025-04-07 12:28:54 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/102/enroll"):
  
test/controllers/courses_controller_test.rb:42:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:41:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2025-04-07 12:28:54 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 12:28:54 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.6ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:28:54 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 244ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-07 12:28:54 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.1ms)
Completed 200 OK in 12ms (Views: 2.0ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:28:54.555296"], ["updated_at", "2025-04-07 16:28:54.555296"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:28:54.577782"], ["updated_at", "2025-04-07 16:28:54.577782"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 16:28:54.580807"], ["updated_at", "2025-04-07 16:28:54.580807"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-07 12:28:54 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:28:54 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:28:54.590929"], ["updated_at", "2025-04-07 16:28:54.590929"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-07 12:28:54 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:28:54.599179"], ["updated_at", "2025-04-07 16:28:54.599179"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:28:54.605245"], ["updated_at", "2025-04-07 16:28:54.605245"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:28:54.609121"], ["updated_at", "2025-04-07 16:28:54.609121"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:28:54.616576"], ["updated_at", "2025-04-07 16:28:54.616576"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:28:54.618299"], ["updated_at", "2025-04-07 16:28:54.618299"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:28:54.619524"], ["updated_at", "2025-04-07 16:28:54.619524"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:28:54.624483"], ["updated_at", "2025-04-07 16:28:54.624483"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:28:54.625391"], ["updated_at", "2025-04-07 16:28:54.625391"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:28:54.626356"], ["updated_at", "2025-04-07 16:28:54.626356"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 16:28:54.628615"], ["updated_at", "2025-04-07 16:28:54.628615"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:12.146558', '2025-04-07 16:32:12.146558'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:12.146558', '2025-04-07 16:32:12.146558');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:12.149042', '2025-04-07 16:32:12.149042', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:12.149042', '2025-04-07 16:32:12.149042', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$9ZDJMmujU4ZAg3KsczdVpO9lQ.NABDqCIMg0se3YtHX/tXbsGukve', 60, '2025-04-07 16:32:12.155022', '2025-04-07 16:32:12.155022', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$jVXi4371GQiSNWWBY8GXTO55SmAPLQhV9gGCY63qn27eZR8Ro7LOa', 100, '2025-04-07 16:32:12.155022', '2025-04-07 16:32:12.155022', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:32:12.159718', '2025-04-07 16:32:12.159718', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:32:12.159718', '2025-04-07 16:32:12.159718', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:13.179254', '2025-04-07 16:32:13.179254'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:13.179254', '2025-04-07 16:32:13.179254');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:13.179445', '2025-04-07 16:32:13.179445', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:13.179445', '2025-04-07 16:32:13.179445', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$bElXI/EckdA5o1sEDLJnB.O7cKQRfHLIOv1sHjLSTIC1Zzqu8GDVi', 60, '2025-04-07 16:32:13.179476', '2025-04-07 16:32:13.179476', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$wBNZCL5BZWclZepbNbFHZuFI4AMpK.Brft/A2KhCoZxM4wRavd75S', 100, '2025-04-07 16:32:13.179476', '2025-04-07 16:32:13.179476', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:32:13.179778', '2025-04-07 16:32:13.179778', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:32:13.179778', '2025-04-07 16:32:13.179778', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:14.177498', '2025-04-07 16:32:14.177498'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:14.177498', '2025-04-07 16:32:14.177498');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:14.177594', '2025-04-07 16:32:14.177594', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:14.177594', '2025-04-07 16:32:14.177594', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$ZApg8X0sBJDp1ZWM03I8PeQbCqWb1biFHCLcWcao4htM31VOcQxx6', 60, '2025-04-07 16:32:14.177802', '2025-04-07 16:32:14.177802', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$nOEeXKne5uy7c3sKpsEvF.igak4NG0DwmuIyGx9Gpbfin.ELUKak.', 100, '2025-04-07 16:32:14.177802', '2025-04-07 16:32:14.177802', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:32:14.178680', '2025-04-07 16:32:14.178680', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:32:14.178680', '2025-04-07 16:32:14.178680', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:15.153694', '2025-04-07 16:32:15.153694'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:15.153694', '2025-04-07 16:32:15.153694');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:15.153845', '2025-04-07 16:32:15.153845', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:15.153845', '2025-04-07 16:32:15.153845', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$CBGDBeA1tMYvuTCVq1jszOvdqjacEXX.hoDFVVvGnflJQQxbrolAS', 60, '2025-04-07 16:32:15.153890', '2025-04-07 16:32:15.153890', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$lSXpBLqXt6OnfG3gqCXj9OUaP4yi3U6YH7Xlp0XiwlxU1u9I48TJ.', 100, '2025-04-07 16:32:15.153890', '2025-04-07 16:32:15.153890', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:32:15.155982', '2025-04-07 16:32:15.155982', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:32:15.155982', '2025-04-07 16:32:15.155982', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:16.124574', '2025-04-07 16:32:16.124574'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:16.124574', '2025-04-07 16:32:16.124574');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:16.124986', '2025-04-07 16:32:16.124986', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:16.124986', '2025-04-07 16:32:16.124986', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$MJ3.DRV23fEPYU9uuZDq7uYdAs6oDntQT33iEsTwlB.EU/v4EA4PS', 60, '2025-04-07 16:32:16.125311', '2025-04-07 16:32:16.125311', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$U6BaHGwni3wrgsfT.c5kYO5uV9X4Dq59XcIPJ8YtU8yg.RIXn1uFu', 100, '2025-04-07 16:32:16.125311', '2025-04-07 16:32:16.125311', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:32:16.125494', '2025-04-07 16:32:16.125494', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:32:16.125494', '2025-04-07 16:32:16.125494', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:17.100770', '2025-04-07 16:32:17.100770'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:17.100770', '2025-04-07 16:32:17.100770');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:17.101518', '2025-04-07 16:32:17.101518', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:17.101518', '2025-04-07 16:32:17.101518', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$YGee6VbWUgU0FaDSFuohTOXDVmKLF/C/..Lb5PjmQJjxmk1JvUVeu', 60, '2025-04-07 16:32:17.101538', '2025-04-07 16:32:17.101538', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$p7rTemben7BrEFk9dLW94.unb5oKQwjj3uq3haSS7f2mPQSKPK0Mu', 100, '2025-04-07 16:32:17.101538', '2025-04-07 16:32:17.101538', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:32:17.101549', '2025-04-07 16:32:17.101549', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:32:17.101549', '2025-04-07 16:32:17.101549', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:17.594029', '2025-04-07 16:32:17.594029'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:17.594029', '2025-04-07 16:32:17.594029');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:17.594180', '2025-04-07 16:32:17.594180', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:17.594180', '2025-04-07 16:32:17.594180', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$RTBTAl6SFXwCdpoKuAY//u4yrdOfYNKRr7dKS9pZl4YKkmPGrTHAm', 60, '2025-04-07 16:32:17.594198', '2025-04-07 16:32:17.594198', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$QQH6HQwV7g64ariqORtJXeESsJ5UfgfkhRyp116diCzVLSgykl7e6', 100, '2025-04-07 16:32:17.594198', '2025-04-07 16:32:17.594198', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:32:17.594209', '2025-04-07 16:32:17.594209', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:32:17.594209', '2025-04-07 16:32:17.594209', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:18.087209', '2025-04-07 16:32:18.087209'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:18.087209', '2025-04-07 16:32:18.087209');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:18.088082', '2025-04-07 16:32:18.088082', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:18.088082', '2025-04-07 16:32:18.088082', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$g0Au/CgX30ww9FHQkIC/iuKOvwix43emfVvNFnwam92.e2uuFDQbi', 60, '2025-04-07 16:32:18.088677', '2025-04-07 16:32:18.088677', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$MOTfGxCBrUdnRbWZC5g2u.mqec1GZmle.t5q6GWDbBZ9YeEz9cjJu', 100, '2025-04-07 16:32:18.088677', '2025-04-07 16:32:18.088677', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:32:18.088691', '2025-04-07 16:32:18.088691', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:32:18.088691', '2025-04-07 16:32:18.088691', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:18.585810', '2025-04-07 16:32:18.585810'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:18.585810', '2025-04-07 16:32:18.585810');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:18.585842', '2025-04-07 16:32:18.585842', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:18.585842', '2025-04-07 16:32:18.585842', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$KloXxYde9YJVbMkS.aY51.rU01HcJe86kErOWADjvCd.WkuPlQ5EW', 60, '2025-04-07 16:32:18.585859', '2025-04-07 16:32:18.585859', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$c4cyX2.uBtfk6xDXOHKJV.L9G9Y8ryHqKQQMwT7Aahnxf0MQVTqJu', 100, '2025-04-07 16:32:18.585859', '2025-04-07 16:32:18.585859', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:32:18.585870', '2025-04-07 16:32:18.585870', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:32:18.585870', '2025-04-07 16:32:18.585870', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:19.072392', '2025-04-07 16:32:19.072392'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:19.072392', '2025-04-07 16:32:19.072392');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:19.072424', '2025-04-07 16:32:19.072424', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:19.072424', '2025-04-07 16:32:19.072424', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$eIOSftjiDOqFtp/3NvKwmeT2d0daJh7tQhG3KI8wF6FTzPxJ/pDsO', 60, '2025-04-07 16:32:19.072442', '2025-04-07 16:32:19.072442', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$Ws9Jslzh5EUT1gTzcR4.u.ZOOi2pxyKA8VPtG8WZuOO2qZSa.J6hy', 100, '2025-04-07 16:32:19.072442', '2025-04-07 16:32:19.072442', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:32:19.072452', '2025-04-07 16:32:19.072452', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:32:19.072452', '2025-04-07 16:32:19.072452', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:19.563775', '2025-04-07 16:32:19.563775'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:19.563775', '2025-04-07 16:32:19.563775');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:19.563804', '2025-04-07 16:32:19.563804', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:19.563804', '2025-04-07 16:32:19.563804', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$1jzUwZPcQdvfVbASL.MHief9kY4Xtcr/LeBnasf0cb4yPq113LDU.', 60, '2025-04-07 16:32:19.563822', '2025-04-07 16:32:19.563822', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$K2x7V0fCV4ELqDEj5nGJ5.D.s2MtH4swY3.PUdNA6kHiSB1rAj1.m', 100, '2025-04-07 16:32:19.563822', '2025-04-07 16:32:19.563822', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:32:19.563832', '2025-04-07 16:32:19.563832', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:32:19.563832', '2025-04-07 16:32:19.563832', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:20.050468', '2025-04-07 16:32:20.050468'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:20.050468', '2025-04-07 16:32:20.050468');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:20.050496', '2025-04-07 16:32:20.050496', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:20.050496', '2025-04-07 16:32:20.050496', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$8DNWlAt5KOKDe67Qd5ePIuvRnBRqdeYz1DvN1Qyrk8zjACc33pyP.', 60, '2025-04-07 16:32:20.050514', '2025-04-07 16:32:20.050514', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$NpWa.hp5gWxqeCm0ipgNxOqu7rxs8aXAQwKXlutgK04HjuW67HjUi', 100, '2025-04-07 16:32:20.050514', '2025-04-07 16:32:20.050514', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 980190962, 'Planned', '2025-04-07 16:32:20.050524', '2025-04-07 16:32:20.050524', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:32:20.050524', '2025-04-07 16:32:20.050524', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.1ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:20.537822', '2025-04-07 16:32:20.537822'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:20.537822', '2025-04-07 16:32:20.537822');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:20.537854', '2025-04-07 16:32:20.537854', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:20.537854', '2025-04-07 16:32:20.537854', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$jJ8LM58JhStCkO1q2L..KuudM7dLFvFSEXGBlhFGRANAwecX/OSdK', 60, '2025-04-07 16:32:20.537872', '2025-04-07 16:32:20.537872', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$4qUK9OyhgVM8EV26BsMUPOVXeF5jM8cyfweW.nh3cuzbzZ2jx7nD2', 100, '2025-04-07 16:32:20.537872', '2025-04-07 16:32:20.537872', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 16:32:20.537883', '2025-04-07 16:32:20.537883', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:32:20.537883', '2025-04-07 16:32:20.537883', NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 16:32:20.575524"], ["updated_at", "2025-04-07 16:32:20.575524"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 16:32:20.612204"], ["updated_at", "2025-04-07 16:32:20.612204"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (1.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-07 12:32:20 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 4.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 13.8ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-07 12:32:20 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 16:32:20.746906"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 18ms (Views: 0.5ms | ActiveRecord: 0.3ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:32:20 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x00000001242549d0>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:32:20.769832"], ["updated_at", "2025-04-07 16:32:20.769832"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 15ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-07 12:32:20 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-07 12:32:20 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:32:20.825504"], ["updated_at", "2025-04-07 16:32:20.825504"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:32:20.827395"], ["updated_at", "2025-04-07 16:32:20.827395"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:32:20.831970"], ["updated_at", "2025-04-07 16:32:20.831970"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:32:20.837836"], ["updated_at", "2025-04-07 16:32:20.837836"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:32:20.838519"], ["updated_at", "2025-04-07 16:32:20.838519"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:32:20.839020"], ["updated_at", "2025-04-07 16:32:20.839020"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:32:20.843255"], ["updated_at", "2025-04-07 16:32:20.843255"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:32:20.843946"], ["updated_at", "2025-04-07 16:32:20.843946"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:32:20.844453"], ["updated_at", "2025-04-07 16:32:20.844453"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-07 12:32:20 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 2.5ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.3ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:32:20 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:32:20.856403"], ["updated_at", "2025-04-07 16:32:20.856403"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-07 12:32:20 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.6ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:25.211735', '2025-04-07 16:32:25.211735'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:25.211735', '2025-04-07 16:32:25.211735');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:25.213996', '2025-04-07 16:32:25.213996', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:25.213996', '2025-04-07 16:32:25.213996', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$4xzUwDGzriZCD0BcLxgBbOQIheKUYrCnEfiZtalMARmUty9sVqJn6', 60, '2025-04-07 16:32:25.219847', '2025-04-07 16:32:25.219847', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$jhB.V3p1FerZdalC9ZG0H.BNpidW2JBC8pGbnyJPmhSim.tlHo4OK', 100, '2025-04-07 16:32:25.219847', '2025-04-07 16:32:25.219847', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 16:32:25.224534', '2025-04-07 16:32:25.224534', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:32:25.224534', '2025-04-07 16:32:25.224534', NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:32:25.272262"], ["updated_at", "2025-04-07 16:32:25.272262"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:32:25.287327"], ["updated_at", "2025-04-07 16:32:25.287327"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.3ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:32:25.300322"], ["updated_at", "2025-04-07 16:32:25.300322"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.2ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:32:25.314861"], ["updated_at", "2025-04-07 16:32:25.314861"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:32:25.324260"], ["updated_at", "2025-04-07 16:32:25.324260"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:32:25.328951"], ["updated_at", "2025-04-07 16:32:25.328951"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:32:25.337420"], ["updated_at", "2025-04-07 16:32:25.337420"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:32:25.338893"], ["updated_at", "2025-04-07 16:32:25.338893"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:32:25.340028"], ["updated_at", "2025-04-07 16:32:25.340028"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (1.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-07 12:32:25 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 12ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-07 12:32:25 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | GC: 0.0ms)
Completed 200 OK in 12ms (Views: 9.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-07 12:32:25 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 16:32:25.474902"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.4ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-07 12:32:25 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:32:25 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x0000000100eba018>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:32:25.494705"], ["updated_at", "2025-04-07 16:32:25.494705"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:32:25.500673"], ["updated_at", "2025-04-07 16:32:25.500673"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 16:32:25.507775"], ["updated_at", "2025-04-07 16:32:25.507775"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:32:25.509671"], ["updated_at", "2025-04-07 16:32:25.509671"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 16:32:25.516186"], ["updated_at", "2025-04-07 16:32:25.516186"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:32:25 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-07 12:32:25 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 1.9ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 13.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2025-04-07 12:32:25 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 12:32:25 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 10ms (ActiveRecord: 1.2ms (6 queries, 1 cached) | GC: 0.5ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2025-04-07 12:32:25 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.4ms)
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ?[0m  [["student_id", 980190962], ["course_id", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/102/enroll" for 127.0.0.1 at 2025-04-07 12:32:25 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/102/enroll"):
  
test/controllers/courses_controller_test.rb:42:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:41:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2025-04-07 12:32:25 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 12:32:25 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 16:32:25.957208"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.4ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2025-04-07 12:32:25 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/102/enroll" for 127.0.0.1 at 2025-04-07 12:32:25 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/102/enroll"):
  
test/controllers/courses_controller_test.rb:63:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:62:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
Started GET "/" for 127.0.0.1 at 2025-04-07 12:32:26 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.1ms)
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 12:32:26 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:32:26.098355"], ["updated_at", "2025-04-07 16:32:26.098355"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.7ms (2 queries, 0 cached) | GC: 1.2ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-07 12:32:26 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 2.8ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.7ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.7ms)
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:32:26 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:32:26.110952"], ["updated_at", "2025-04-07 16:32:26.110952"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-07 12:32:26 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:43.772305', '2025-04-07 16:32:43.772305'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:32:43.772305', '2025-04-07 16:32:43.772305');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:43.774546', '2025-04-07 16:32:43.774546', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:32:43.774546', '2025-04-07 16:32:43.774546', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$rljLiObH083iO8aS7yBwSOU8d42QAE.GIbLBxZonCLKCde7zZ7gF2', 60, '2025-04-07 16:32:43.780593', '2025-04-07 16:32:43.780593', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$gYwbDEdi5BLV7QjyXH4U3e9k7vsoWc5Lr6kfmZH9dLb/LGgFD7I.y', 100, '2025-04-07 16:32:43.780593', '2025-04-07 16:32:43.780593', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 16:32:43.785429', '2025-04-07 16:32:43.785429', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:32:43.785429', '2025-04-07 16:32:43.785429', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-07 12:32:43 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 13.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:32:43 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:32:43.963935"], ["updated_at", "2025-04-07 16:32:43.963935"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 20ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-07 12:32:43 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 16:32:43.988835"], ["updated_at", "2025-04-07 16:32:43.988835"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:32:44 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 245ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-07 12:32:44 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 1.4ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 1.5ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ?[0m  [["student_id", 980190962], ["course_id", 102]]
Started GET "/" for 127.0.0.1 at 2025-04-07 12:32:44 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 12:32:44 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:32:44.302903"], ["updated_at", "2025-04-07 16:32:44.302903"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 13ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ?[0m  [["student_id", 980190962], ["course_id", 102]]
Started GET "/" for 127.0.0.1 at 2025-04-07 12:32:44 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/102/enroll" for 127.0.0.1 at 2025-04-07 12:32:44 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/102/enroll"):
  
test/controllers/courses_controller_test.rb:66:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:65:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ?[0m  [["student_id", 980190962], ["course_id", 102]]
Started GET "/" for 127.0.0.1 at 2025-04-07 12:32:44 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 1.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ?[0m  [["student_id", 980190962], ["course_id", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/102/enroll" for 127.0.0.1 at 2025-04-07 12:32:44 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/102/enroll"):
  
test/controllers/courses_controller_test.rb:45:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:44:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ?[0m  [["student_id", 980190962], ["course_id", 102]]
Started GET "/" for 127.0.0.1 at 2025-04-07 12:32:44 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.2ms | GC: 0.0ms)
Completed 200 OK in 0ms (Views: 0.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 12:32:44 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.1ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 16:32:44.577366"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 17ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ?[0m  [["student_id", 980190962], ["course_id", 102]]
Started GET "/" for 127.0.0.1 at 2025-04-07 12:32:44 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | GC: 0.0ms)
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 12:32:44 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 11ms (ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:32:44 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x000000012c211ec0>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:32:44.615456"], ["updated_at", "2025-04-07 16:32:44.615456"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.9ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-07 12:32:44 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-07 12:32:44 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-07 12:32:44 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 16:32:44.636814"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.3ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-07 12:32:44 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.2ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:32:44.661641"], ["updated_at", "2025-04-07 16:32:44.661641"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:32:44.665369"], ["updated_at", "2025-04-07 16:32:44.665369"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 16:32:44.672074"], ["updated_at", "2025-04-07 16:32:44.672074"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.2ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:32:44.676703"], ["updated_at", "2025-04-07 16:32:44.676703"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:32:44.679969"], ["updated_at", "2025-04-07 16:32:44.679969"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:32:44.682806"], ["updated_at", "2025-04-07 16:32:44.682806"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:32:44.686789"], ["updated_at", "2025-04-07 16:32:44.686789"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:32:44.687968"], ["updated_at", "2025-04-07 16:32:44.687968"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:32:44.688787"], ["updated_at", "2025-04-07 16:32:44.688787"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:32:44.692358"], ["updated_at", "2025-04-07 16:32:44.692358"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:32:44.693619"], ["updated_at", "2025-04-07 16:32:44.693619"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:32:44.695130"], ["updated_at", "2025-04-07 16:32:44.695130"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:36:57.309363', '2025-04-07 16:36:57.309363'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:36:57.309363', '2025-04-07 16:36:57.309363');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:36:57.311695', '2025-04-07 16:36:57.311695', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:36:57.311695', '2025-04-07 16:36:57.311695', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$tWigMXvhQL4dGeNIw82lYOSoybXqAKF2ug0aRrqauML0IdP1CqFpu', 60, '2025-04-07 16:36:57.317580', '2025-04-07 16:36:57.317580', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$Aj9gsnPNoGLGOsiI8zGRfOFFCSXLzQt7ViBVHQOjLwKPjI8eXeR.q', 100, '2025-04-07 16:36:57.317580', '2025-04-07 16:36:57.317580', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 16:36:57.322322', '2025-04-07 16:36:57.322322', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:36:57.322322', '2025-04-07 16:36:57.322322', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-07 12:36:57 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 14.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:36:57 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:36:57.501495"], ["updated_at", "2025-04-07 16:36:57.501495"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 20ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-07 12:36:57 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-07 12:36:57 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-07 12:36:57 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.4ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:36:57 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x00000001292dcc68>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:36:57.566493"], ["updated_at", "2025-04-07 16:36:57.566493"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-07 12:36:57 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 16:36:57.573282"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 1.6ms | ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-07 12:36:57 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.6ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:36:57.584637"], ["updated_at", "2025-04-07 16:36:57.584637"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:36:57.590496"], ["updated_at", "2025-04-07 16:36:57.590496"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:36:57.598955"], ["updated_at", "2025-04-07 16:36:57.598955"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:36:57.603639"], ["updated_at", "2025-04-07 16:36:57.603639"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:36:57.605920"], ["updated_at", "2025-04-07 16:36:57.605920"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:36:57.607513"], ["updated_at", "2025-04-07 16:36:57.607513"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:36:57.611378"], ["updated_at", "2025-04-07 16:36:57.611378"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:36:57.615420"], ["updated_at", "2025-04-07 16:36:57.615420"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:36:57.616874"], ["updated_at", "2025-04-07 16:36:57.616874"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 16:36:57.618887"], ["updated_at", "2025-04-07 16:36:57.618887"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:36:57 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 244ms (ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-07 12:36:57 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 17ms (Views: 2.6ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 16:36:57.916640"], ["updated_at", "2025-04-07 16:36:57.916640"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:36:57.921892"], ["updated_at", "2025-04-07 16:36:57.921892"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:36:57.929956"], ["updated_at", "2025-04-07 16:36:57.929956"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (3.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:40:37.443391', '2025-04-07 16:40:37.443391'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:40:37.443391', '2025-04-07 16:40:37.443391');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:40:37.445725', '2025-04-07 16:40:37.445725', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:40:37.445725', '2025-04-07 16:40:37.445725', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$Z8zwv8ER3yJ6lxJPQMd84ObAhadedBUF1Bf2ak4wTdNinuNVipqey', 60, '2025-04-07 16:40:37.451547', '2025-04-07 16:40:37.451547', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$q2IZg19jiZndEoMliLM5Ke8m2PZQAmk/HVUhdpSmbpfoBbfxCPYxC', 100, '2025-04-07 16:40:37.451547', '2025-04-07 16:40:37.451547', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 16:40:37.456354', '2025-04-07 16:40:37.456354', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:40:37.456354', '2025-04-07 16:40:37.456354', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:40:37 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 259ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-07 12:40:37 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 4.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 22.8ms | GC: 12.7ms)
Completed 200 OK in 61ms (Views: 26.6ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 12.7ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:40:37.889768"], ["updated_at", "2025-04-07 16:40:37.889768"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 16:40:37.902268"], ["updated_at", "2025-04-07 16:40:37.902268"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:40:37.910451"], ["updated_at", "2025-04-07 16:40:37.910451"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:40:37 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x00000001278796a0>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:40:37.917684"], ["updated_at", "2025-04-07 16:40:37.917684"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-07 12:40:37 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 4.3ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.3ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-07 12:40:37 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-07 12:40:37 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 16:40:37.952649"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 15ms (Views: 0.5ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-07 12:40:37 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 16:40:37.969886"], ["updated_at", "2025-04-07 16:40:37.969886"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:40:37.993490"], ["updated_at", "2025-04-07 16:40:37.993490"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:40:37.999077"], ["updated_at", "2025-04-07 16:40:37.999077"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:40:38.003017"], ["updated_at", "2025-04-07 16:40:38.003017"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:40:38.008641"], ["updated_at", "2025-04-07 16:40:38.008641"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:40:38.009399"], ["updated_at", "2025-04-07 16:40:38.009399"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:40:38.009874"], ["updated_at", "2025-04-07 16:40:38.009874"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:40:38.013986"], ["updated_at", "2025-04-07 16:40:38.013986"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:40:38.014979"], ["updated_at", "2025-04-07 16:40:38.014979"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:40:38.015821"], ["updated_at", "2025-04-07 16:40:38.015821"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mStudent Load (0.8ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.4ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ?[0m  [["student_id", 980190962], ["course_id", 102]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 12:40:38 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:40:38.023447"], ["updated_at", "2025-04-07 16:40:38.023447"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.2ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ?[0m  [["student_id", 980190962], ["course_id", 102]]
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/102/enroll" for 127.0.0.1 at 2025-04-07 12:40:38 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/102/enroll"):
  
test/controllers/courses_controller_test.rb:67:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:66:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ?[0m  [["student_id", 980190962], ["course_id", 102]]
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 12:40:38 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."course_id" = ? AND "user_schedules"."student_id" = ?[0m  [["course_id", 101], ["student_id", 980190962]]
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 9ms (ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.5ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ?[0m  [["student_id", 980190962], ["course_id", 102]]
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 12:40:38 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 16:40:38.210730"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 102], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ?[0m  [["student_id", 980190962], ["course_id", 102]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ?[0m  [["student_id", 980190962], ["course_id", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started POST "/courses/102/enroll" for 127.0.0.1 at 2025-04-07 12:40:38 -0400
  
ActionController::RoutingError (No route matches [POST] "/courses/102/enroll"):
  
test/controllers/courses_controller_test.rb:46:in 'block (2 levels) in <class:CoursesControllerTest>'
test/controllers/courses_controller_test.rb:45:in 'block in <class:CoursesControllerTest>'
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-07 12:40:38 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 4.0ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.9ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.1ms)
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:40:38 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.2ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:40:38.322096"], ["updated_at", "2025-04-07 16:40:38.322096"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.5ms)
Started GET "/" for 127.0.0.1 at 2025-04-07 12:40:38 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.0ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.6ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.9ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:44:27.883313', '2025-04-07 16:44:27.883313'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:44:27.883313', '2025-04-07 16:44:27.883313');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:44:27.885793', '2025-04-07 16:44:27.885793', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:44:27.885793', '2025-04-07 16:44:27.885793', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$BGjKFyXrX09D0IwOLD9YHe.wzLUaGcaoqKJ5LU42ivpHwUC8wbjjC', 60, '2025-04-07 16:44:27.891793', '2025-04-07 16:44:27.891793', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$69iXhIgSIlslfWykm1LSX.sYfreq8i9AVmjVw.8GyZ14FeLbwPU/e', 100, '2025-04-07 16:44:27.891793', '2025-04-07 16:44:27.891793', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 16:44:27.896589', '2025-04-07 16:44:27.896589', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:44:27.896589', '2025-04-07 16:44:27.896589', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-07 12:44:28 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | GC: 0.0ms)
Completed 200 OK in 32ms (Views: 13.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-07 12:44:28 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 9ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-07 12:44:28 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-07 16:44:28.115352"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-07 12:44:28 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:44:28 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x00000001295daa00>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:44:28.126569"], ["updated_at", "2025-04-07 16:44:28.126569"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-07 12:44:28 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-07 12:44:28 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.4ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:44:28.136244"], ["updated_at", "2025-04-07 16:44:28.136244"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-07 12:44:28 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 16.3ms | GC: 12.6ms)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | GC: 12.6ms)
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 12.6ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:44:28.167739"], ["updated_at", "2025-04-07 16:44:28.167739"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-07 16:44:28.182220"], ["updated_at", "2025-04-07 16:44:28.182220"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-07 16:44:28.184621"], ["updated_at", "2025-04-07 16:44:28.184621"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:44:28 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 243ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-07 12:44:28 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 2.6ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:44:28 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 247ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 16:44:28.719414"], ["updated_at", "2025-04-07 16:44:28.719414"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-07 16:44:28.728818"], ["updated_at", "2025-04-07 16:44:28.728818"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-07 12:44:28 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123458"}
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" INNER JOIN "user_schedules" ON "courses"."CRN" = "user_schedules"."course_id" WHERE "user_schedules"."student_id" = ? AND "courses"."CRN" = ? LIMIT ?[0m  [["student_id", 980190962], ["CRN", 123458], ["LIMIT", 1]]
  [1m[36mUserSchedule Pluck (0.4ms)[0m  [1m[34mSELECT "user_schedules"."course_id" FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."status" = ?[0m  [["student_id", 980190962], ["status", "Planned"]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."class_name" = ? LIMIT ?[0m  [["class_name", "Database Design"], ["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 123458], ["status", "Planned"], ["created_at", "2025-04-07 16:44:28.744775"], ["updated_at", "2025-04-07 16:44:28.744775"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/courses
Completed 302 Found in 10ms (ActiveRecord: 2.0ms (8 queries, 1 cached) | GC: 0.1ms)
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:44:28 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 12:44:28 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 7ms (ActiveRecord: 0.5ms (4 queries, 1 cached) | GC: 0.3ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:44:29 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 12:44:29 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 16:44:29.253701"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 10ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:44:29 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 16:44:29.514450"], ["updated_at", "2025-04-07 16:44:29.514450"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-07 12:44:29 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" INNER JOIN "user_schedules" ON "courses"."CRN" = "user_schedules"."course_id" WHERE "user_schedules"."student_id" = ? AND "courses"."CRN" = ? LIMIT ?[0m  [["student_id", 980190962], ["CRN", 123457], ["LIMIT", 1]]
  [1m[36mUserSchedule Pluck (0.0ms)[0m  [1m[34mSELECT "user_schedules"."course_id" FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."status" = ?[0m  [["student_id", 980190962], ["status", "Planned"]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."class_name" = ? LIMIT ?[0m  [["class_name", "Database Design"], ["LIMIT", 1]]
Redirected to http://www.example.com/courses
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:44:29 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.3ms)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 12:44:29 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:44:29.769273"], ["updated_at", "2025-04-07 16:44:29.769273"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:44:29.774717"], ["updated_at", "2025-04-07 16:44:29.774717"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:44:29.776594"], ["updated_at", "2025-04-07 16:44:29.776594"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:44:29.778930"], ["updated_at", "2025-04-07 16:44:29.778930"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.2ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:44:29.785884"], ["updated_at", "2025-04-07 16:44:29.785884"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:44:29.787564"], ["updated_at", "2025-04-07 16:44:29.787564"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:44:29.789237"], ["updated_at", "2025-04-07 16:44:29.789237"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-07 16:44:29.792885"], ["updated_at", "2025-04-07 16:44:29.792885"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:44:29.793898"], ["updated_at", "2025-04-07 16:44:29.793898"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-07 16:44:29.794352"], ["updated_at", "2025-04-07 16:44:29.794352"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-07 16:44:29.799289"], ["updated_at", "2025-04-07 16:44:29.799289"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:44:48.070677', '2025-04-07 16:44:48.070677'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-07 16:44:48.070677', '2025-04-07 16:44:48.070677');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-07 16:44:48.072932', '2025-04-07 16:44:48.072932', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-07 16:44:48.072932', '2025-04-07 16:44:48.072932', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$2G0zIY409eBofRCf9ZbjOOPR3p1yCj1vsAB17SnZPfrhqi.JOXM8.', 60, '2025-04-07 16:44:48.078938', '2025-04-07 16:44:48.078938', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$dXRsQiRlKPQwRFWcDd6xVOq6KZMcZw2AS4WG0X4U6VIx5IvSzWKzS', 100, '2025-04-07 16:44:48.078938', '2025-04-07 16:44:48.078938', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-07 16:44:48.084075', '2025-04-07 16:44:48.084075', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-07 16:44:48.084075', '2025-04-07 16:44:48.084075', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:44:48 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 264ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 16:44:48.515102"], ["updated_at", "2025-04-07 16:44:48.515102"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-07 12:44:48 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" INNER JOIN "user_schedules" ON "courses"."CRN" = "user_schedules"."course_id" WHERE "user_schedules"."student_id" = ? AND "courses"."CRN" = ? LIMIT ?[0m  [["student_id", 980190962], ["CRN", 123457], ["LIMIT", 1]]
  [1m[36mUserSchedule Pluck (0.0ms)[0m  [1m[34mSELECT "user_schedules"."course_id" FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."status" = ?[0m  [["student_id", 980190962], ["status", "Planned"]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."class_name" = ? LIMIT ?[0m  [["class_name", "Database Design"], ["LIMIT", 1]]
Redirected to http://www.example.com/courses
Completed 302 Found in 12ms (ActiveRecord: 0.2ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCACHE UserSchedule Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:44:48 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-07 12:44:48 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-07 16:44:48.784293"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:44:48 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 245ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-07 16:44:49.034939"], ["updated_at", "2025-04-07 16:44:49.034939"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-07 16:44:49.038786"], ["updated_at", "2025-04-07 16:44:49.038786"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-07 12:44:49 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123458"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" INNER JOIN "user_schedules" ON "courses"."CRN" = "user_schedules"."course_id" WHERE "user_schedules"."student_id" = ? AND "courses"."CRN" = ? LIMIT ?[0m  [["student_id", 980190962], ["CRN", 123458], ["LIMIT", 1]]
  [1m[36mUserSchedule Pluck (0.0ms)[0m  [1m[34mSELECT "user_schedules"."course_id" FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."status" = ?[0m  [["student_id", 980190962], ["status", "Planned"]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."class_name" = ? LIMIT ?[0m  [["class_name", "Database Design"], ["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 123458], ["status", "Planned"], ["created_at", "2025-04-07 16:44:49.043933"], ["updated_at", "2025-04-07 16:44:49.043933"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/courses
Completed 302 Found in 7ms (ActiveRecord: 0.2ms (8 queries, 1 cached) | GC: 0.0ms)
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:44:49 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-07 12:44:49 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-07 16:44:49.297252"], ["updated_at", "2025-04-07 16:44:49.297252"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-07 12:44:49 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-07 12:44:49 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-08 21:34:53.326820', '2025-04-08 21:34:53.326820'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-08 21:34:53.326820', '2025-04-08 21:34:53.326820');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-08 21:34:53.331180', '2025-04-08 21:34:53.331180', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-08 21:34:53.331180', '2025-04-08 21:34:53.331180', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$NX3yATpWomfHgkU.NsE88e8YYFCRuSJFkd1ahZIrTTm99dvuImHjS', 60, '2025-04-08 21:34:53.339563', '2025-04-08 21:34:53.339563', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$JhBk5uJc7O2qBACBjSGD4uj9/DwwjU4h1vBgm/vtcUMXOeh3AJduO', 100, '2025-04-08 21:34:53.339563', '2025-04-08 21:34:53.339563', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-08 21:34:53.344713', '2025-04-08 21:34:53.344713', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-08 21:34:53.344713', '2025-04-08 21:34:53.344713', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.4ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-08 17:34:53 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 174ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-08 17:34:53 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 14ms (ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-08 17:34:53 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 156ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-08 17:34:53 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-08 21:34:53.903893"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.3ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-08 17:34:53 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 153ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-08 17:34:54 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-08 21:34:54.067124"], ["updated_at", "2025-04-08 21:34:54.067124"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-08 17:34:54 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 154ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-08 21:34:54.230053"], ["updated_at", "2025-04-08 21:34:54.230053"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-08 17:34:54 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" INNER JOIN "user_schedules" ON "courses"."CRN" = "user_schedules"."course_id" WHERE "user_schedules"."student_id" = ? AND "courses"."CRN" = ? LIMIT ?[0m  [["student_id", 980190962], ["CRN", 123457], ["LIMIT", 1]]
  [1m[36mUserSchedule Pluck (0.0ms)[0m  [1m[34mSELECT "user_schedules"."course_id" FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."status" = ?[0m  [["student_id", 980190962], ["status", "Planned"]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."class_name" = ? LIMIT ?[0m  [["class_name", "Database Design"], ["LIMIT", 1]]
Redirected to http://www.example.com/courses
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-08 17:34:54 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 157ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-08 21:34:54.400601"], ["updated_at", "2025-04-08 21:34:54.400601"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-08 21:34:54.409576"], ["updated_at", "2025-04-08 21:34:54.409576"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-08 17:34:54 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123458"}
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" INNER JOIN "user_schedules" ON "courses"."CRN" = "user_schedules"."course_id" WHERE "user_schedules"."student_id" = ? AND "courses"."CRN" = ? LIMIT ?[0m  [["student_id", 980190962], ["CRN", 123458], ["LIMIT", 1]]
  [1m[36mUserSchedule Pluck (0.0ms)[0m  [1m[34mSELECT "user_schedules"."course_id" FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."status" = ?[0m  [["student_id", 980190962], ["status", "Planned"]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."class_name" = ? LIMIT ?[0m  [["class_name", "Database Design"], ["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 123458], ["status", "Planned"], ["created_at", "2025-04-08 21:34:54.417257"], ["updated_at", "2025-04-08 21:34:54.417257"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/courses
Completed 302 Found in 5ms (ActiveRecord: 0.5ms (8 queries, 1 cached) | GC: 0.0ms)
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-08 21:34:54.425378"], ["updated_at", "2025-04-08 21:34:54.425378"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------
CoursesSearchTest: test_index_page_has_a_search_form
----------------------------------------------------
Started GET "/courses" for 127.0.0.1 at 2025-04-08 17:34:54 -0400
Processing by CoursesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering courses/index.html.erb within layouts/application
  [1m[36mCourse Load (0.9ms)[0m  [1m[34mSELECT "courses".* FROM "courses"[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered courses/index.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 14.7ms | ActiveRecord: 0.9ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-08 21:34:54.473034"], ["updated_at", "2025-04-08 21:34:54.473034"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-08 21:34:54.477440"], ["updated_at", "2025-04-08 21:34:54.477440"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-08 21:34:54.480427"], ["updated_at", "2025-04-08 21:34:54.480427"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-08 21:34:54.485272"], ["updated_at", "2025-04-08 21:34:54.485272"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-08 21:34:54.486234"], ["updated_at", "2025-04-08 21:34:54.486234"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-08 21:34:54.487051"], ["updated_at", "2025-04-08 21:34:54.487051"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-08 21:34:54.489300"], ["updated_at", "2025-04-08 21:34:54.489300"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-08 21:34:54.490915"], ["updated_at", "2025-04-08 21:34:54.490915"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-08 21:34:54.492386"], ["updated_at", "2025-04-08 21:34:54.492386"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-08 17:34:54 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 5.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-08 17:34:54 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-08 21:34:54.509093"], ["updated_at", "2025-04-08 21:34:54.509093"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-08 17:34:54 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-08 17:34:54 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-08 17:34:54 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-08 21:34:54.530499"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 1.8ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-08 17:34:54 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x00007f4533ff3528>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-08 21:34:54.545889"], ["updated_at", "2025-04-08 21:34:54.545889"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-08 17:34:54 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 6.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-08 17:34:54 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 4.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-08 17:34:54 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 156ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-08 17:34:54 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 2.2ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.2ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-08 21:34:54.737246"], ["updated_at", "2025-04-08 21:34:54.737246"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-08 21:34:54.743182"], ["updated_at", "2025-04-08 21:34:54.743182"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-08 21:34:54.760766"], ["updated_at", "2025-04-08 21:34:54.760766"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.8ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-08 21:35:35.978392', '2025-04-08 21:35:35.978392'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-08 21:35:35.978392', '2025-04-08 21:35:35.978392');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-08 21:35:35.981658', '2025-04-08 21:35:35.981658', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-08 21:35:35.981658', '2025-04-08 21:35:35.981658', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$dHxGoAtKaF3JI6JiU755SuEPcL.JTVovUXmrfLvPQRU.en7zDWtii', 60, '2025-04-08 21:35:35.988209', '2025-04-08 21:35:35.988209', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$2WmT.Sp8EJCyliIazbqO8OhlpA0tG0FtgSb2HSPhGBy55Kw36q2lC', 100, '2025-04-08 21:35:35.988209', '2025-04-08 21:35:35.988209', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-08 21:35:35.993454', '2025-04-08 21:35:35.993454', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-08 21:35:35.993454', '2025-04-08 21:35:35.993454', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-08 17:35:36 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 168ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-08 17:35:36 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 7ms (ActiveRecord: 0.4ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-08 17:35:36 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 154ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-08 21:35:36.513861"], ["updated_at", "2025-04-08 21:35:36.513861"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-08 21:35:36.519626"], ["updated_at", "2025-04-08 21:35:36.519626"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-08 17:35:36 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123458"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" INNER JOIN "user_schedules" ON "courses"."CRN" = "user_schedules"."course_id" WHERE "user_schedules"."student_id" = ? AND "courses"."CRN" = ? LIMIT ?[0m  [["student_id", 980190962], ["CRN", 123458], ["LIMIT", 1]]
  [1m[36mUserSchedule Pluck (0.0ms)[0m  [1m[34mSELECT "user_schedules"."course_id" FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."status" = ?[0m  [["student_id", 980190962], ["status", "Planned"]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."class_name" = ? LIMIT ?[0m  [["class_name", "Database Design"], ["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 123458], ["status", "Planned"], ["created_at", "2025-04-08 21:35:36.526418"], ["updated_at", "2025-04-08 21:35:36.526418"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/courses
Completed 302 Found in 5ms (ActiveRecord: 0.4ms (8 queries, 1 cached) | GC: 0.0ms)
  [1m[36mUserSchedule Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-08 17:35:36 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 154ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-08 17:35:36 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-08 21:35:36.701484"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.4ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-08 17:35:36 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 156ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-08 17:35:36 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-08 21:35:36.868455"], ["updated_at", "2025-04-08 21:35:36.868455"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-08 17:35:36 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 156ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-08 21:35:37.036158"], ["updated_at", "2025-04-08 21:35:37.036158"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-08 17:35:37 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" INNER JOIN "user_schedules" ON "courses"."CRN" = "user_schedules"."course_id" WHERE "user_schedules"."student_id" = ? AND "courses"."CRN" = ? LIMIT ?[0m  [["student_id", 980190962], ["CRN", 123457], ["LIMIT", 1]]
  [1m[36mUserSchedule Pluck (0.0ms)[0m  [1m[34mSELECT "user_schedules"."course_id" FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."status" = ?[0m  [["student_id", 980190962], ["status", "Planned"]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."class_name" = ? LIMIT ?[0m  [["class_name", "Database Design"], ["LIMIT", 1]]
Redirected to http://www.example.com/courses
Completed 302 Found in 6ms (ActiveRecord: 0.2ms (5 queries, 0 cached) | GC: 0.3ms)
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-08 21:35:37.053482"], ["updated_at", "2025-04-08 21:35:37.053482"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-08 21:35:37.056816"], ["updated_at", "2025-04-08 21:35:37.056816"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.3ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-08 21:35:37.059571"], ["updated_at", "2025-04-08 21:35:37.059571"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-08 21:35:37.064111"], ["updated_at", "2025-04-08 21:35:37.064111"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-08 21:35:37.065133"], ["updated_at", "2025-04-08 21:35:37.065133"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-08 21:35:37.065714"], ["updated_at", "2025-04-08 21:35:37.065714"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-08 21:35:37.068281"], ["updated_at", "2025-04-08 21:35:37.068281"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-08 21:35:37.071741"], ["updated_at", "2025-04-08 21:35:37.071741"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-08 21:35:37.075137"], ["updated_at", "2025-04-08 21:35:37.075137"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-08 17:35:37 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Destroy (0.1ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-08 17:35:37 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | GC: 0.3ms)
Completed 200 OK in 13ms (Views: 10.3ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.6ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-08 17:35:37 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-08 21:35:37.108553"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 13ms (Views: 0.8ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-08 17:35:37 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x00007f4a1da82780>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-08 21:35:37.121690"], ["updated_at", "2025-04-08 21:35:37.121690"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-08 17:35:37 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-08 17:35:37 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 156ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-08 17:35:37 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 2.5ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.3ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-08 21:35:37.303771"], ["updated_at", "2025-04-08 21:35:37.303771"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-08 17:35:37 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 8.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 8.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-08 17:35:37 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-08 21:35:37.325321"], ["updated_at", "2025-04-08 21:35:37.325321"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-08 17:35:37 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------
CoursesSearchTest: test_index_page_has_a_search_form
----------------------------------------------------
Started GET "/courses" for 127.0.0.1 at 2025-04-08 17:35:37 -0400
Processing by CoursesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering courses/index.html.erb within layouts/application
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses"[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered courses/index.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-08 21:35:37.339126"], ["updated_at", "2025-04-08 21:35:37.339126"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-08 21:35:37.344819"], ["updated_at", "2025-04-08 21:35:37.344819"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-08 21:35:37.362989"], ["updated_at", "2025-04-08 21:35:37.362989"], ["major", "Computer Science"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (3.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-08 21:36:00.674633', '2025-04-08 21:36:00.674633'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-08 21:36:00.674633', '2025-04-08 21:36:00.674633');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-08 21:36:00.677367', '2025-04-08 21:36:00.677367', 'Computer Science', 'Open', 'None'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-08 21:36:00.677367', '2025-04-08 21:36:00.677367', 'Computer Science', 'Open', 'Database Design');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$S2uVRZUjuHK01J8vgDPkIujTyYVtX4JFzMUutV/5K6x/N1euuwUa.', 60, '2025-04-08 21:36:00.684622', '2025-04-08 21:36:00.684622', 'Computer Science'), (298486374, 'two@student.com', 'Student Two', '$2a$12$OaemzcCIv8qv4YRmNNQRb.dbVCnF2ekrNi9wibxWIKEIldbXk1s0S', 100, '2025-04-08 21:36:00.684622', '2025-04-08 21:36:00.684622', 'Computer Science');
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-08 21:36:00.690647', '2025-04-08 21:36:00.690647', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-08 21:36:00.690647', '2025-04-08 21:36:00.690647', NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (3.4ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.6ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------
CoursesSearchTest: test_index_page_has_a_search_form
----------------------------------------------------
Started GET "/courses" for 127.0.0.1 at 2025-04-08 17:36:00 -0400
Processing by CoursesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering courses/index.html.erb within layouts/application
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses"[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.4ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered courses/index.html.erb within layouts/application (Duration: 26.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 37.9ms | GC: 0.0ms)
Completed 200 OK in 56ms (Views: 40.8ms | ActiveRecord: 0.3ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (1.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "admins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "password_digest" varchar, "role" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "courses"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "courses" ("CRN" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "class_name" varchar NOT NULL, "professor" varchar NOT NULL, "term" varchar NOT NULL, "credits" integer NOT NULL, "class_time" time, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "major" varchar, "status" varchar, "prerequisite" varchar, "mon" boolean DEFAULT 0, "tue" boolean DEFAULT 0, "wed" boolean DEFAULT 0, "thu" boolean DEFAULT 0, "fri" boolean DEFAULT 0, "end_time" time)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "notifications"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "student_id" integer NOT NULL, "message" varchar NOT NULL, "read" boolean DEFAULT 0 NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "title" varchar, "body" varchar)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_notifications_on_student_id" ON "notifications" ("student_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "students"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "students" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar, "name" varchar, "password_digest" varchar, "credits_earned" integer DEFAULT 0, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "major" varchar, "notifications" integer)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "user_schedules"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "user_schedules" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "student_id" integer NOT NULL, "course_id" integer NOT NULL, "status" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "term" varchar)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_user_schedules_on_course_id" ON "user_schedules" ("course_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_user_schedules_on_student_id" ON "user_schedules" ("student_id")[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (4.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "anotifications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "student_id" integer NOT NULL, "message" varchar NOT NULL, "read" boolean DEFAULT 0 NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "title" varchar, "body" varchar)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_anotifications_on_student_id" ON "anotifications" ("student_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "anotifications" ("id","student_id","message","read","created_at","updated_at","title","body")
                     SELECT "id","student_id","message","read","created_at","updated_at","title","body" FROM "notifications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "notifications"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "notifications" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "student_id" integer NOT NULL, "message" varchar NOT NULL, "read" boolean DEFAULT 0 NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "title" varchar, "body" varchar, CONSTRAINT "fk_rails_87d5b7488e"
FOREIGN KEY ("student_id")
  REFERENCES "students" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_notifications_on_student_id" ON "notifications" ("student_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "notifications" ("id","student_id","message","read","created_at","updated_at","title","body")
                     SELECT "id","student_id","message","read","created_at","updated_at","title","body" FROM "anotifications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "anotifications"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "auser_schedules" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "student_id" integer NOT NULL, "course_id" integer NOT NULL, "status" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "term" varchar)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_auser_schedules_on_student_id" ON "auser_schedules" ("student_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_auser_schedules_on_course_id" ON "auser_schedules" ("course_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "auser_schedules" ("id","student_id","course_id","status","created_at","updated_at","term")
                     SELECT "id","student_id","course_id","status","created_at","updated_at","term" FROM "user_schedules"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "user_schedules"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "user_schedules" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "student_id" integer NOT NULL, "course_id" integer NOT NULL, "status" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "term" varchar, CONSTRAINT "fk_rails_0a6fe67229"
FOREIGN KEY ("course_id")
  REFERENCES "courses" ("CRN")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_user_schedules_on_course_id" ON "user_schedules" ("course_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_user_schedules_on_student_id" ON "user_schedules" ("student_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("id","student_id","course_id","status","created_at","updated_at","term")
                     SELECT "id","student_id","course_id","status","created_at","updated_at","term" FROM "auser_schedules"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "auser_schedules"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "auser_schedules" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "student_id" integer NOT NULL, "course_id" integer NOT NULL, "status" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "term" varchar)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_auser_schedules_on_student_id" ON "auser_schedules" ("student_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_auser_schedules_on_course_id" ON "auser_schedules" ("course_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "auser_schedules" ("id","student_id","course_id","status","created_at","updated_at","term")
                     SELECT "id","student_id","course_id","status","created_at","updated_at","term" FROM "user_schedules"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "user_schedules"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "user_schedules" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "student_id" integer NOT NULL, "course_id" integer NOT NULL, "status" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "term" varchar, CONSTRAINT "fk_rails_0a6fe67229"
FOREIGN KEY ("course_id")
  REFERENCES "courses" ("CRN")
, CONSTRAINT "fk_rails_f7c5c03ee1"
FOREIGN KEY ("student_id")
  REFERENCES "students" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_user_schedules_on_course_id" ON "user_schedules" ("course_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_user_schedules_on_student_id" ON "user_schedules" ("student_id")[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("id","student_id","course_id","status","created_at","updated_at","term")
                     SELECT "id","student_id","course_id","status","created_at","updated_at","term" FROM "auser_schedules"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "auser_schedules"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250414152247)[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250414152022),
(20250414151346),
(20250409150009),
(20250403003229),
(20250402234319),
(20250330184452),
(20250329210254),
(20250329194919),
(20250309195056),
(20250309191103),
(20250308201943),
(20250308195034),
(20250308182627);[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-04-14 18:09:11.106171', '2025-04-14 18:09:11.106172') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'aa31e292a36e5a5fe5a08cf01bfc9b2be844d055', '2025-04-14 18:09:11.108524', '2025-04-14 18:09:11.108524') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-14 18:09:12.177269', '2025-04-14 18:09:12.177269'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-14 18:09:12.177269', '2025-04-14 18:09:12.177269');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-14 18:09:12.182201', '2025-04-14 18:09:12.182201', 'Computer Science', 'Open', 'None', '0', '0', '0', '0', '0', NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-14 18:09:12.182201', '2025-04-14 18:09:12.182201', 'Computer Science', 'Open', 'Database Design', '0', '0', '0', '0', '0', NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$OBffAHnq30YND/i4bdaWa.jk82v7VOuRDv9zmfxX2TiBaimW5xibe', 60, '2025-04-14 18:09:12.187420', '2025-04-14 18:09:12.187420', 'Computer Science', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$ZuC1A1AUyOBTj3NEe.q8wuxjXWMPeD23fYKmBaflXLKkG0XI3vZo6', 100, '2025-04-14 18:09:12.187420', '2025-04-14 18:09:12.187420', 'Computer Science', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-14 18:09:12.195376', '2025-04-14 18:09:12.195376', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-14 18:09:12.195376', '2025-04-14 18:09:12.195376', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:09:12 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 253ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-14 14:09:12 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/new.html.erb within layouts/application
  Rendered courses/new.html.erb within layouts/application (Duration: 7.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 18.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:09:12 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 269ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:09:12 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 241ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:09:13 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 246ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-14 14:09:13 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 7ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (1.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:09:13 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-14 14:09:13 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/edit.html.erb within layouts/application
  Rendered courses/edit.html.erb within layouts/application (Duration: 7.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 14ms (Views: 8.9ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-14 14:09:13 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x000000011e2491a8>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:09:13.710131"], ["updated_at", "2025-04-14 18:09:13.710131"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-14 14:09:13 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-14 14:09:13 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 10.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-14 14:09:13 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Load (0.0ms)[0m  [1m[34mSELECT "notifications".* FROM "notifications" WHERE "notifications"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 9ms (ActiveRecord: 0.3ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-14 14:09:13 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-14 18:09:13.753795"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNotification Load (1.0ms)[0m  [1m[34mSELECT "notifications".* FROM "notifications" WHERE "notifications"."student_id" = ?[0m  [["student_id", 980190962]]
Completed 200 OK in 12ms (Views: 0.7ms | ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-14 14:09:13 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-14 14:09:13 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:09:13.773209"], ["updated_at", "2025-04-14 18:09:13.773209"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-14 14:09:13 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:09:13.790071"], ["updated_at", "2025-04-14 18:09:13.790071"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:09:13.796054"], ["updated_at", "2025-04-14 18:09:13.796054"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:09:13.801563"], ["updated_at", "2025-04-14 18:09:13.801563"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------
CoursesSearchTest: test_index_page_has_a_search_form
----------------------------------------------------
Started GET "/courses" for 127.0.0.1 at 2025-04-14 14:09:13 -0400
Processing by CoursesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering courses/index.html.erb within layouts/application
  [1m[36mCourse Load (0.5ms)[0m  [1m[34mSELECT "courses".* FROM "courses"[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered courses/index.html.erb within layouts/application (Duration: 4.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 4.6ms | ActiveRecord: 0.5ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-14 18:09:13.825933"], ["updated_at", "2025-04-14 18:09:13.825933"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-14 18:09:13.831158"], ["updated_at", "2025-04-14 18:09:13.831158"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-14 18:09:13.838025"], ["updated_at", "2025-04-14 18:09:13.838025"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:09:13 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-14 14:09:14 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 6.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 6.8ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-14 18:10:41.871842', '2025-04-14 18:10:41.871842'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-14 18:10:41.871842', '2025-04-14 18:10:41.871842');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-14 18:10:41.873902', '2025-04-14 18:10:41.873902', 'Computer Science', 'Open', 'None', '0', '0', '0', '0', '0', NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-14 18:10:41.873902', '2025-04-14 18:10:41.873902', 'Computer Science', 'Open', 'Database Design', '0', '0', '0', '0', '0', NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$npk6PQig6GwyDFFO5TsC9OdEp2TGXRLFpO76B/q9haigGBO1kgbtO', 60, '2025-04-14 18:10:41.880895', '2025-04-14 18:10:41.880895', 'Computer Science', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$CyKqujd4Er7qKkLDQU3ArO1eV9YJ.15z8.x96OAODQ6aywXvpBo4m', 100, '2025-04-14 18:10:41.880895', '2025-04-14 18:10:41.880895', 'Computer Science', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-14 18:10:41.889257', '2025-04-14 18:10:41.889257', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-14 18:10:41.889257', '2025-04-14 18:10:41.889257', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:10:41 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 256ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-14 14:10:42 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 3.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | GC: 11.9ms)
Completed 200 OK in 51ms (Views: 21.7ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 11.9ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------
CoursesSearchTest: test_index_page_has_a_search_form
----------------------------------------------------
Started GET "/courses" for 127.0.0.1 at 2025-04-14 14:10:42 -0400
Processing by CoursesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering courses/index.html.erb within layouts/application
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses"[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered courses/index.html.erb within layouts/application (Duration: 3.5ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.5ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-14 14:10:42 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Load (0.0ms)[0m  [1m[34mSELECT "notifications".* FROM "notifications" WHERE "notifications"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 8ms (ActiveRecord: 0.3ms (3 queries, 0 cached) | GC: 0.3ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-14 14:10:42 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x000000011ee4a3d0>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:10:42.365671"], ["updated_at", "2025-04-14 18:10:42.365671"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.2ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-14 14:10:42 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 1.3ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.3ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-14 14:10:42 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 3.0ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.2ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-14 14:10:42 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-14 18:10:42.387320"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNotification Load (0.0ms)[0m  [1m[34mSELECT "notifications".* FROM "notifications" WHERE "notifications"."student_id" = ?[0m  [["student_id", 980190962]]
Completed 200 OK in 6ms (Views: 2.0ms | ActiveRecord: 1.4ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:10:42.394588"], ["updated_at", "2025-04-14 18:10:42.394588"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:10:42.408297"], ["updated_at", "2025-04-14 18:10:42.408297"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:10:42.416155"], ["updated_at", "2025-04-14 18:10:42.416155"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-14 18:10:42.427729"], ["updated_at", "2025-04-14 18:10:42.427729"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-14 18:10:42.432830"], ["updated_at", "2025-04-14 18:10:42.432830"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-14 18:10:42.447370"], ["updated_at", "2025-04-14 18:10:42.447370"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (1.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:10:42 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-14 14:10:42 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 10ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.1ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:10:42 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-14 14:10:42 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "2000-01-01 10:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/new.html.erb within layouts/application
  Rendered courses/new.html.erb within layouts/application (Duration: 7.5ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | GC: 0.1ms)
Completed 200 OK in 13ms (Views: 8.4ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:10:42 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:10:43 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:10:43 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 241ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-14 14:10:43 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/edit.html.erb within layouts/application
  Rendered courses/edit.html.erb within layouts/application (Duration: 8.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 12ms (Views: 9.4ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-14 14:10:43 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-14 14:10:43 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:10:43.771983"], ["updated_at", "2025-04-14 18:10:43.771983"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-14 14:10:43 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-14 18:13:04.251504', '2025-04-14 18:13:04.251504'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-14 18:13:04.251504', '2025-04-14 18:13:04.251504');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-14 18:13:04.253682', '2025-04-14 18:13:04.253682', 'Computer Science', 'Open', 'None', '0', '0', '0', '0', '0', NULL), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-14 18:13:04.253682', '2025-04-14 18:13:04.253682', 'Computer Science', 'Open', 'Database Design', '0', '0', '0', '0', '0', NULL);
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$dwVX5DfydybZk9vyf1xwHuCr84GVnvv/AsUNdSsmZlSp95LQgSDWe', 60, '2025-04-14 18:13:04.260365', '2025-04-14 18:13:04.260365', 'Computer Science', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$raF/uz8d.FedX8hSp7QlWOEmEn7pOK2QBy//13iyr2BUpcg0Lf3cm', 100, '2025-04-14 18:13:04.260365', '2025-04-14 18:13:04.260365', 'Computer Science', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-14 18:13:04.268329', '2025-04-14 18:13:04.268329', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-14 18:13:04.268329', '2025-04-14 18:13:04.268329', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.2ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:13:04.311740"], ["updated_at", "2025-04-14 18:13:04.311740"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.4ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:13:04.343627"], ["updated_at", "2025-04-14 18:13:04.343627"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:13:04.369077"], ["updated_at", "2025-04-14 18:13:04.369077"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (1.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:13:04 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 253ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-14 14:13:04 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.6ms | GC: 12.2ms)
Completed 200 OK in 45ms (Views: 20.9ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 12.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-14 18:13:04.772164"], ["updated_at", "2025-04-14 18:13:04.772164"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-14 18:13:04.775395"], ["updated_at", "2025-04-14 18:13:04.775395"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-14 18:13:04.779426"], ["updated_at", "2025-04-14 18:13:04.779426"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-14 14:13:04 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 3.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-14 14:13:04 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:13:04.793476"], ["updated_at", "2025-04-14 18:13:04.793476"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-14 14:13:04 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-14 14:13:04 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x00000001289bbe18>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:13:04.809740"], ["updated_at", "2025-04-14 18:13:04.809740"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-14 14:13:04 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-14 14:13:04 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-14 18:13:04.824275"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNotification Load (0.0ms)[0m  [1m[34mSELECT "notifications".* FROM "notifications" WHERE "notifications"."student_id" = ?[0m  [["student_id", 980190962]]
Completed 200 OK in 25ms (Views: 9.3ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-14 14:13:04 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Load (0.0ms)[0m  [1m[34mSELECT "notifications".* FROM "notifications" WHERE "notifications"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-14 14:13:04 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 3.0ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.2ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:13:04 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-14 14:13:05 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "10:00:00", "end_time" => "12:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-14 18:13:05.112062"], ["updated_at", "2025-04-14 18:13:05.112062"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY "students"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.1ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 298486374], ["message", "New course created: Test Course"], ["read", 0], ["created_at", "2025-04-14 18:13:05.122257"], ["updated_at", "2025-04-14 18:13:05.122257"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 298486374]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.1ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["message", "New course created: Test Course"], ["read", 0], ["created_at", "2025-04-14 18:13:05.125824"], ["updated_at", "2025-04-14 18:13:05.125824"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 980190962]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 16ms (ActiveRecord: 0.5ms (7 queries, 0 cached) | GC: 0.4ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:13:05 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 264ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-14 18:13:05.395084"], ["updated_at", "2025-04-14 18:13:05.395084"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-14 14:13:05 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" INNER JOIN "user_schedules" ON "courses"."CRN" = "user_schedules"."course_id" WHERE "user_schedules"."student_id" = ? AND "courses"."CRN" = ? LIMIT ?[0m  [["student_id", 980190962], ["CRN", 123457], ["LIMIT", 1]]
  [1m[36mUserSchedule Pluck (0.0ms)[0m  [1m[34mSELECT "user_schedules"."course_id" FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."status" = ?[0m  [["student_id", 980190962], ["status", "Planned"]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."class_name" = ? LIMIT ?[0m  [["class_name", "Database Design"], ["LIMIT", 1]]
Redirected to http://www.example.com/courses?term=Fall+2025
Completed 302 Found in 7ms (ActiveRecord: 0.2ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:13:05 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-14 14:13:05 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering courses/edit.html.erb within layouts/application
  Rendered courses/edit.html.erb within layouts/application (Duration: 9.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 14ms (Views: 10.7ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:13:05 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 241ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-14 14:13:05 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:13:05 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-14 18:13:06.165643"], ["updated_at", "2025-04-14 18:13:06.165643"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-14 18:13:06.170847"], ["updated_at", "2025-04-14 18:13:06.170847"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-14 14:13:06 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123458"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" INNER JOIN "user_schedules" ON "courses"."CRN" = "user_schedules"."course_id" WHERE "user_schedules"."student_id" = ? AND "courses"."CRN" = ? LIMIT ?[0m  [["student_id", 980190962], ["CRN", 123458], ["LIMIT", 1]]
  [1m[36mUserSchedule Pluck (0.0ms)[0m  [1m[34mSELECT "user_schedules"."course_id" FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."status" = ?[0m  [["student_id", 980190962], ["status", "Planned"]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."class_name" = ? LIMIT ?[0m  [["class_name", "Database Design"], ["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 123458], ["status", "Planned"], ["created_at", "2025-04-14 18:13:06.175223"], ["updated_at", "2025-04-14 18:13:06.175223"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/courses?term=Fall+2025
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (8 queries, 1 cached) | GC: 0.0ms)
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------
CoursesSearchTest: test_index_page_has_a_search_form
----------------------------------------------------
Started GET "/courses" for 127.0.0.1 at 2025-04-14 14:13:06 -0400
Processing by CoursesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering courses/index.html.erb within layouts/application
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses"[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered courses/index.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-14 18:13:51.827424', '2025-04-14 18:13:51.827424'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-14 18:13:51.827424', '2025-04-14 18:13:51.827424');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-14 18:13:51.829555', '2025-04-14 18:13:51.829555', 'Computer Science', 'Open', 'None', '0', '0', '0', '0', '0', '2000-01-01 12:00:00'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-14 18:13:51.829555', '2025-04-14 18:13:51.829555', 'Computer Science', 'Open', 'Database Design', '0', '0', '0', '0', '0', '2000-01-01 12:00:00');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$pfQ/riwxJ2DW2AD/b.cuueYZNz9C/GoZ5lyvs1IticTuLUvftwSwW', 60, '2025-04-14 18:13:51.836329', '2025-04-14 18:13:51.836329', 'Computer Science', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$BW0A6kC9oOeJ.r7.U2ZbguxSU95J0bDM1yyOros7EoUgwLxArSpuC', 100, '2025-04-14 18:13:51.836329', '2025-04-14 18:13:51.836329', 'Computer Science', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-14 18:13:51.844327', '2025-04-14 18:13:51.844327', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-14 18:13:51.844327', '2025-04-14 18:13:51.844327', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-14 14:13:51 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 10.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-14 14:13:51 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:13:51.994810"], ["updated_at", "2025-04-14 18:13:51.994810"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 19ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-14 14:13:52 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:13:52.018310"], ["updated_at", "2025-04-14 18:13:52.018310"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:13:52.027267"], ["updated_at", "2025-04-14 18:13:52.027267"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:13:52.032597"], ["updated_at", "2025-04-14 18:13:52.032597"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:13:52 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 246ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-14 14:13:52 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 1.3ms | ActiveRecord: 0.2ms (3 queries, 1 cached) | GC: 13.4ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.6ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:13:52 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-14 18:13:52.576042"], ["updated_at", "2025-04-14 18:13:52.576042"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-14 14:13:52 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" INNER JOIN "user_schedules" ON "courses"."CRN" = "user_schedules"."course_id" WHERE "user_schedules"."student_id" = ? AND "courses"."CRN" = ? LIMIT ?[0m  [["student_id", 980190962], ["CRN", 123457], ["LIMIT", 1]]
  [1m[36mUserSchedule Pluck (0.0ms)[0m  [1m[34mSELECT "user_schedules"."course_id" FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."status" = ?[0m  [["student_id", 980190962], ["status", "Planned"]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."class_name" = ? LIMIT ?[0m  [["class_name", "Database Design"], ["LIMIT", 1]]
Redirected to http://www.example.com/courses?term=Fall+2025
Completed 302 Found in 14ms (ActiveRecord: 0.2ms (5 queries, 0 cached) | GC: 0.2ms)
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:13:52 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-14 14:13:52 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-14 18:13:52.853057"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY "students"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.2ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 298486374], ["message", "Course updated: Updated Course"], ["read", 0], ["created_at", "2025-04-14 18:13:52.876703"], ["updated_at", "2025-04-14 18:13:52.876703"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 298486374]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.1ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["message", "Course updated: Updated Course"], ["read", 0], ["created_at", "2025-04-14 18:13:52.881440"], ["updated_at", "2025-04-14 18:13:52.881440"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 980190962]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 33ms (ActiveRecord: 0.8ms (8 queries, 0 cached) | GC: 0.3ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:13:52 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 243ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-14 14:13:53 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "10:00:00", "end_time" => "12:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-14 18:13:53.133358"], ["updated_at", "2025-04-14 18:13:53.133358"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY "students"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.1ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 298486374], ["message", "New course created: Test Course"], ["read", 0], ["created_at", "2025-04-14 18:13:53.135752"], ["updated_at", "2025-04-14 18:13:53.135752"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 298486374]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.6ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["message", "New course created: Test Course"], ["read", 0], ["created_at", "2025-04-14 18:13:53.136650"], ["updated_at", "2025-04-14 18:13:53.136650"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 980190962]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 1.1ms (7 queries, 0 cached) | GC: 0.1ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.7ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.6ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:13:53 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-14 14:13:53 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 10ms (ActiveRecord: 0.6ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:13:53 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 243ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-14 18:13:53.650021"], ["updated_at", "2025-04-14 18:13:53.650021"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-14 18:13:53.656659"], ["updated_at", "2025-04-14 18:13:53.656659"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-14 14:13:53 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123458"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" INNER JOIN "user_schedules" ON "courses"."CRN" = "user_schedules"."course_id" WHERE "user_schedules"."student_id" = ? AND "courses"."CRN" = ? LIMIT ?[0m  [["student_id", 980190962], ["CRN", 123458], ["LIMIT", 1]]
  [1m[36mUserSchedule Pluck (0.0ms)[0m  [1m[34mSELECT "user_schedules"."course_id" FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."status" = ?[0m  [["student_id", 980190962], ["status", "Planned"]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."class_name" = ? LIMIT ?[0m  [["class_name", "Database Design"], ["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 123458], ["status", "Planned"], ["created_at", "2025-04-14 18:13:53.665444"], ["updated_at", "2025-04-14 18:13:53.665444"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/courses?term=Fall+2025
Completed 302 Found in 5ms (ActiveRecord: 0.2ms (8 queries, 1 cached) | GC: 0.2ms)
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-14 18:13:53.679350"], ["updated_at", "2025-04-14 18:13:53.679350"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-14 18:13:53.685105"], ["updated_at", "2025-04-14 18:13:53.685105"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-14 18:13:53.687411"], ["updated_at", "2025-04-14 18:13:53.687411"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------
CoursesSearchTest: test_index_page_has_a_search_form
----------------------------------------------------
Started GET "/courses" for 127.0.0.1 at 2025-04-14 14:13:53 -0400
Processing by CoursesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering courses/index.html.erb within layouts/application
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses"[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered courses/index.html.erb within layouts/application (Duration: 11.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | GC: 0.0ms)
Completed 200 OK in 13ms (Views: 12.0ms | ActiveRecord: 0.2ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-14 14:13:53 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-14 14:13:53 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-14 18:13:53.722572"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNotification Load (0.0ms)[0m  [1m[34mSELECT "notifications".* FROM "notifications" WHERE "notifications"."student_id" = ?[0m  [["student_id", 980190962]]
Completed 200 OK in 9ms (Views: 4.5ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-14 14:13:53 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x000000012ccb2280>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:13:53.735220"], ["updated_at", "2025-04-14 18:13:53.735220"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-14 14:13:53 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Load (0.0ms)[0m  [1m[34mSELECT "notifications".* FROM "notifications" WHERE "notifications"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-14 14:13:53 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 4.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-14 18:15:47.439059', '2025-04-14 18:15:47.439059'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-14 18:15:47.439059', '2025-04-14 18:15:47.439059');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-14 18:15:47.441177', '2025-04-14 18:15:47.441177', 'Computer Science', 'Open', 'None', '0', '0', '0', '0', '0', '2000-01-01 12:00:00'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-14 18:15:47.441177', '2025-04-14 18:15:47.441177', 'Computer Science', 'Open', 'Database Design', '0', '0', '0', '0', '0', '2000-01-01 12:00:00');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$uBDq9aHEM4tbxWpucyWj8.3hzeMpDY45iWNEI4uWx8r.J8hUl8lq2', 60, '2025-04-14 18:15:47.448186', '2025-04-14 18:15:47.448186', 'Computer Science', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$MPbziSFht0mCOQQiqaFcoe9I3yMzC8Vuk171PDk3QfxTCpXytHpOm', 100, '2025-04-14 18:15:47.448186', '2025-04-14 18:15:47.448186', 'Computer Science', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-14 18:15:47.456250', '2025-04-14 18:15:47.456250', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-14 18:15:47.456250', '2025-04-14 18:15:47.456250', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-14 14:15:47 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 10.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-14 14:15:47 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:15:47.611081"], ["updated_at", "2025-04-14 18:15:47.611081"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 20ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-14 14:15:47 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-14 14:15:47 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-14 18:15:47.642436"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNotification Load (0.1ms)[0m  [1m[34mSELECT "notifications".* FROM "notifications" WHERE "notifications"."student_id" = ?[0m  [["student_id", 980190962]]
Completed 200 OK in 26ms (Views: 20.9ms | ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 14.4ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-14 14:15:47 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 2.7ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.4ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-14 14:15:47 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Load (0.0ms)[0m  [1m[34mSELECT "notifications".* FROM "notifications" WHERE "notifications"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-14 14:15:47 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-14 14:15:47 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x0000000123a7ac00>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:15:47.694253"], ["updated_at", "2025-04-14 18:15:47.694253"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:15:47 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 247ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-14 14:15:47 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 14ms (Views: 2.7ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------
CoursesSearchTest: test_index_page_has_a_search_form
----------------------------------------------------
Started GET "/courses" for 127.0.0.1 at 2025-04-14 14:15:47 -0400
Processing by CoursesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering courses/index.html.erb within layouts/application
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses"[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered courses/index.html.erb within layouts/application (Duration: 5.0ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.1ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:15:48 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 244ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-14 14:15:48 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-14 18:15:48.261882"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY "students"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.2ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 298486374], ["message", "Course updated: Updated Course"], ["read", 0], ["created_at", "2025-04-14 18:15:48.283184"], ["updated_at", "2025-04-14 18:15:48.283184"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 298486374]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.1ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["message", "Course updated: Updated Course"], ["read", 0], ["created_at", "2025-04-14 18:15:48.286943"], ["updated_at", "2025-04-14 18:15:48.286943"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.5ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 980190962]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 32ms (ActiveRecord: 1.2ms (8 queries, 0 cached) | GC: 0.2ms)
  [1m[36mCourse Load (0.7ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:15:48 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 243ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-14 18:15:48.538576"], ["updated_at", "2025-04-14 18:15:48.538576"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-14 18:15:48.547298"], ["updated_at", "2025-04-14 18:15:48.547298"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-14 14:15:48 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123458"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" INNER JOIN "user_schedules" ON "courses"."CRN" = "user_schedules"."course_id" WHERE "user_schedules"."student_id" = ? AND "courses"."CRN" = ? LIMIT ?[0m  [["student_id", 980190962], ["CRN", 123458], ["LIMIT", 1]]
  [1m[36mUserSchedule Pluck (0.4ms)[0m  [1m[34mSELECT "user_schedules"."course_id" FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."status" = ?[0m  [["student_id", 980190962], ["status", "Planned"]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."class_name" = ? LIMIT ?[0m  [["class_name", "Database Design"], ["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 123458], ["status", "Planned"], ["created_at", "2025-04-14 18:15:48.557837"], ["updated_at", "2025-04-14 18:15:48.557837"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/courses?term=Fall+2025
Completed 302 Found in 9ms (ActiveRecord: 0.8ms (8 queries, 1 cached) | GC: 0.0ms)
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:15:48 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 244ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-14 14:15:48 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:15:48 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 244ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-14 18:15:49.065013"], ["updated_at", "2025-04-14 18:15:49.065013"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-14 14:15:49 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" INNER JOIN "user_schedules" ON "courses"."CRN" = "user_schedules"."course_id" WHERE "user_schedules"."student_id" = ? AND "courses"."CRN" = ? LIMIT ?[0m  [["student_id", 980190962], ["CRN", 123457], ["LIMIT", 1]]
  [1m[36mUserSchedule Pluck (0.0ms)[0m  [1m[34mSELECT "user_schedules"."course_id" FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."status" = ?[0m  [["student_id", 980190962], ["status", "Planned"]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."class_name" = ? LIMIT ?[0m  [["class_name", "Database Design"], ["LIMIT", 1]]
Redirected to http://www.example.com/courses?term=Fall+2025
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:15:49 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 241ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-14 14:15:49 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "10:00:00", "end_time" => "12:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.2ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-14 18:15:49.317993"], ["updated_at", "2025-04-14 18:15:49.317993"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY "students"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.1ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 298486374], ["message", "New course created: Test Course"], ["read", 0], ["created_at", "2025-04-14 18:15:49.320932"], ["updated_at", "2025-04-14 18:15:49.320932"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 298486374]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.1ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["message", "New course created: Test Course"], ["read", 0], ["created_at", "2025-04-14 18:15:49.322379"], ["updated_at", "2025-04-14 18:15:49.322379"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 980190962]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 7ms (ActiveRecord: 0.8ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:15:49.329183"], ["updated_at", "2025-04-14 18:15:49.329183"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-14 18:15:49.331615"], ["updated_at", "2025-04-14 18:15:49.331615"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-14 18:15:49.333466"], ["updated_at", "2025-04-14 18:15:49.333466"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:15:49.337032"], ["updated_at", "2025-04-14 18:15:49.337032"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-14 18:15:49.337942"], ["updated_at", "2025-04-14 18:15:49.337942"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-14 18:15:49.338376"], ["updated_at", "2025-04-14 18:15:49.338376"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:15:49.340642"], ["updated_at", "2025-04-14 18:15:49.340642"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-14 18:15:49.341481"], ["updated_at", "2025-04-14 18:15:49.341481"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-14 18:15:49.342065"], ["updated_at", "2025-04-14 18:15:49.342065"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-14 18:15:49.350776"], ["updated_at", "2025-04-14 18:15:49.350776"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-14 18:15:49.353321"], ["updated_at", "2025-04-14 18:15:49.353321"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-14 18:15:49.370964"], ["updated_at", "2025-04-14 18:15:49.370964"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-14 18:16:16.803615', '2025-04-14 18:16:16.803615'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-14 18:16:16.803615', '2025-04-14 18:16:16.803615');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-14 18:16:16.805752', '2025-04-14 18:16:16.805752', 'Computer Science', 'Open', 'None', '0', '0', '0', '0', '0', '2000-01-01 12:00:00'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-14 18:16:16.805752', '2025-04-14 18:16:16.805752', 'Computer Science', 'Open', 'Database Design', '0', '0', '0', '0', '0', '2000-01-01 12:00:00');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$S9e78ePs3I9hl8Nes3DRIOfvmsK/bxcDDjcSxgZOZHWe4bkFCsl.e', 60, '2025-04-14 18:16:16.812541', '2025-04-14 18:16:16.812541', 'Computer Science', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$/5hYiNZ5uAnDXTQFw0xaKOOltmhPlDpZ2PoeieGz0OtVglgVfOwhG', 100, '2025-04-14 18:16:16.812541', '2025-04-14 18:16:16.812541', 'Computer Science', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-14 18:16:16.820740', '2025-04-14 18:16:16.820740', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-14 18:16:16.820740', '2025-04-14 18:16:16.820740', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:16:16 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 257ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-14 14:16:17 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.4ms | GC: 12.0ms)
Completed 200 OK in 50ms (Views: 21.4ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 12.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-14 14:16:17 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 2.3ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.4ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-14 14:16:17 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x0000000125256680>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:16:17.283009"], ["updated_at", "2025-04-14 18:16:17.283009"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.5ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-14 14:16:17 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-14 18:16:17.290439"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNotification Load (0.1ms)[0m  [1m[34mSELECT "notifications".* FROM "notifications" WHERE "notifications"."student_id" = ?[0m  [["student_id", 980190962]]
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-14 14:16:17 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-14 14:16:17 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Load (0.0ms)[0m  [1m[34mSELECT "notifications".* FROM "notifications" WHERE "notifications"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-14 18:16:17.319536"], ["updated_at", "2025-04-14 18:16:17.319536"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-14 18:16:17.328725"], ["updated_at", "2025-04-14 18:16:17.328725"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-14 18:16:17.341165"], ["updated_at", "2025-04-14 18:16:17.341165"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-14 14:16:17 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 4.0ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.3ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)
Started POST "/students" for 127.0.0.1 at 2025-04-14 14:16:17 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:16:17.375635"], ["updated_at", "2025-04-14 18:16:17.375635"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-14 14:16:17 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:16:17.389395"], ["updated_at", "2025-04-14 18:16:17.389395"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-14 18:16:17.391661"], ["updated_at", "2025-04-14 18:16:17.391661"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-14 18:16:17.399184"], ["updated_at", "2025-04-14 18:16:17.399184"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:16:17.403952"], ["updated_at", "2025-04-14 18:16:17.403952"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-14 18:16:17.404933"], ["updated_at", "2025-04-14 18:16:17.404933"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-14 18:16:17.405354"], ["updated_at", "2025-04-14 18:16:17.405354"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:16:17.409565"], ["updated_at", "2025-04-14 18:16:17.409565"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-14 18:16:17.410449"], ["updated_at", "2025-04-14 18:16:17.410449"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-14 18:16:17.411785"], ["updated_at", "2025-04-14 18:16:17.411785"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (1.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:16:17 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 243ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-14 18:16:17.666313"], ["updated_at", "2025-04-14 18:16:17.666313"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-14 18:16:17.672159"], ["updated_at", "2025-04-14 18:16:17.672159"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-14 14:16:17 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123458"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" INNER JOIN "user_schedules" ON "courses"."CRN" = "user_schedules"."course_id" WHERE "user_schedules"."student_id" = ? AND "courses"."CRN" = ? LIMIT ?[0m  [["student_id", 980190962], ["CRN", 123458], ["LIMIT", 1]]
  [1m[36mUserSchedule Pluck (0.0ms)[0m  [1m[34mSELECT "user_schedules"."course_id" FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."status" = ?[0m  [["student_id", 980190962], ["status", "Planned"]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."class_name" = ? LIMIT ?[0m  [["class_name", "Database Design"], ["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 123458], ["status", "Planned"], ["created_at", "2025-04-14 18:16:17.683603"], ["updated_at", "2025-04-14 18:16:17.683603"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/courses?term=Fall+2025
Completed 302 Found in 9ms (ActiveRecord: 0.3ms (8 queries, 1 cached) | GC: 0.0ms)
  [1m[36mUserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:16:17 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-14 14:16:17 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "10:00:00", "end_time" => "12:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-14 18:16:17.935029"], ["updated_at", "2025-04-14 18:16:17.935029"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY "students"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.1ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 298486374], ["message", "New course created: Test Course"], ["read", 0], ["created_at", "2025-04-14 18:16:17.943397"], ["updated_at", "2025-04-14 18:16:17.943397"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 298486374]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.1ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["message", "New course created: Test Course"], ["read", 0], ["created_at", "2025-04-14 18:16:17.946096"], ["updated_at", "2025-04-14 18:16:17.946096"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 980190962]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 15ms (ActiveRecord: 0.5ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:16:17 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-14 14:16:18 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-14 18:16:18.198267"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY "students"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.1ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 298486374], ["message", "Course updated: Updated Course"], ["read", 0], ["created_at", "2025-04-14 18:16:18.206806"], ["updated_at", "2025-04-14 18:16:18.206806"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 298486374]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.1ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["message", "Course updated: Updated Course"], ["read", 0], ["created_at", "2025-04-14 18:16:18.207404"], ["updated_at", "2025-04-14 18:16:18.207404"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 980190962]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 12ms (ActiveRecord: 0.4ms (8 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:16:18 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-14 18:16:18.453782"], ["updated_at", "2025-04-14 18:16:18.453782"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-14 14:16:18 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" INNER JOIN "user_schedules" ON "courses"."CRN" = "user_schedules"."course_id" WHERE "user_schedules"."student_id" = ? AND "courses"."CRN" = ? LIMIT ?[0m  [["student_id", 980190962], ["CRN", 123457], ["LIMIT", 1]]
  [1m[36mUserSchedule Pluck (0.0ms)[0m  [1m[34mSELECT "user_schedules"."course_id" FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."status" = ?[0m  [["student_id", 980190962], ["status", "Planned"]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."class_name" = ? LIMIT ?[0m  [["class_name", "Database Design"], ["LIMIT", 1]]
Redirected to http://www.example.com/courses?term=Fall+2025
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:16:18 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-14 14:16:18 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------
CoursesSearchTest: test_index_page_has_a_search_form
----------------------------------------------------
Started GET "/courses" for 127.0.0.1 at 2025-04-14 14:16:18 -0400
Processing by CoursesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering courses/index.html.erb within layouts/application
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses"[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered courses/index.html.erb within layouts/application (Duration: 22.3ms | GC: 11.6ms)
  Rendered layout layouts/application.html.erb (Duration: 23.3ms | GC: 11.6ms)
Completed 200 OK in 25ms (Views: 23.4ms | ActiveRecord: 0.2ms (3 queries, 1 cached) | GC: 11.6ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.3ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-14 18:17:08.401639', '2025-04-14 18:17:08.401639'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-14 18:17:08.401639', '2025-04-14 18:17:08.401639');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-14 18:17:08.403827', '2025-04-14 18:17:08.403827', 'Computer Science', 'Open', 'None', '0', '0', '0', '0', '0', '2000-01-01 12:00:00'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-14 18:17:08.403827', '2025-04-14 18:17:08.403827', 'Computer Science', 'Open', 'Database Design', '0', '0', '0', '0', '0', '2000-01-01 12:00:00');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$8Apuqn/.WTEcK1EcK0toousj.t5xl9HDXvhZN6sehZVflqubj/UQu', 60, '2025-04-14 18:17:08.410614', '2025-04-14 18:17:08.410614', 'Computer Science', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$gBmWznVFH.GLmnY6Yw4b5uZ9esrZ2wOooYjmya1.SaXxOMI5kJMSK', 100, '2025-04-14 18:17:08.410614', '2025-04-14 18:17:08.410614', 'Computer Science', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-14 18:17:08.418631', '2025-04-14 18:17:08.418631', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-14 18:17:08.418631', '2025-04-14 18:17:08.418631', NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:17:08 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 256ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-14 14:17:08 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 18.7ms | GC: 12.3ms)
Completed 200 OK in 51ms (Views: 21.7ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 12.3ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-14 18:17:08.862946"], ["updated_at", "2025-04-14 18:17:08.862946"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-14 18:17:08.868851"], ["updated_at", "2025-04-14 18:17:08.868851"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-14 18:17:08.873602"], ["updated_at", "2025-04-14 18:17:08.873602"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:17:08.884864"], ["updated_at", "2025-04-14 18:17:08.884864"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-14 18:17:08.886300"], ["updated_at", "2025-04-14 18:17:08.886300"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-14 18:17:08.888946"], ["updated_at", "2025-04-14 18:17:08.888946"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:17:08.898436"], ["updated_at", "2025-04-14 18:17:08.898436"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-14 18:17:08.903007"], ["updated_at", "2025-04-14 18:17:08.903007"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-14 18:17:08.905543"], ["updated_at", "2025-04-14 18:17:08.905543"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.2ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:17:08.917642"], ["updated_at", "2025-04-14 18:17:08.917642"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-14 18:17:08.924344"], ["updated_at", "2025-04-14 18:17:08.924344"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-14 18:17:08.927089"], ["updated_at", "2025-04-14 18:17:08.927089"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-14 14:17:08 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-14 18:17:08.939546"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNotification Load (0.0ms)[0m  [1m[34mSELECT "notifications".* FROM "notifications" WHERE "notifications"."student_id" = ?[0m  [["student_id", 980190962]]
Completed 200 OK in 21ms (Views: 6.1ms | ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-14 14:17:08 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x000000011fe7d5e0>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:17:08.960016"], ["updated_at", "2025-04-14 18:17:08.960016"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.9ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-14 14:17:08 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Load (0.0ms)[0m  [1m[34mSELECT "notifications".* FROM "notifications" WHERE "notifications"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-14 14:17:08 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 1.9ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.1ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-14 14:17:08 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------
CoursesSearchTest: test_index_page_has_a_search_form
----------------------------------------------------
Started GET "/courses" for 127.0.0.1 at 2025-04-14 14:17:08 -0400
Processing by CoursesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering courses/index.html.erb within layouts/application
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses"[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered courses/index.html.erb within layouts/application (Duration: 4.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-14 14:17:09 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-14 14:17:09 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:17:09.009239"], ["updated_at", "2025-04-14 18:17:09.009239"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-14 14:17:09 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.2ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:17:09 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 267ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-14 14:17:09 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-14 18:17:09.291197"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY "students"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.1ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 298486374], ["message", "Course updated: Updated Course"], ["read", 0], ["created_at", "2025-04-14 18:17:09.299923"], ["updated_at", "2025-04-14 18:17:09.299923"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 298486374]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.1ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["message", "Course updated: Updated Course"], ["read", 0], ["created_at", "2025-04-14 18:17:09.302314"], ["updated_at", "2025-04-14 18:17:09.302314"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 980190962]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 15ms (ActiveRecord: 0.5ms (8 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:17:09 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-14 14:17:09 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "10:00:00", "end_time" => "12:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-14 18:17:09.553544"], ["updated_at", "2025-04-14 18:17:09.553544"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY "students"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.1ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 298486374], ["message", "New course created: Test Course"], ["read", 0], ["created_at", "2025-04-14 18:17:09.555688"], ["updated_at", "2025-04-14 18:17:09.555688"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 298486374]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.1ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["message", "New course created: Test Course"], ["read", 0], ["created_at", "2025-04-14 18:17:09.556343"], ["updated_at", "2025-04-14 18:17:09.556343"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 980190962]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.4ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:17:09 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 243ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-14 14:17:09 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:17:09 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-14 18:17:10.056419"], ["updated_at", "2025-04-14 18:17:10.056419"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.3ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.2ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-14 18:17:10.059990"], ["updated_at", "2025-04-14 18:17:10.059990"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-14 14:17:10 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123458"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" INNER JOIN "user_schedules" ON "courses"."CRN" = "user_schedules"."course_id" WHERE "user_schedules"."student_id" = ? AND "courses"."CRN" = ? LIMIT ?[0m  [["student_id", 980190962], ["CRN", 123458], ["LIMIT", 1]]
  [1m[36mUserSchedule Pluck (0.0ms)[0m  [1m[34mSELECT "user_schedules"."course_id" FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."status" = ?[0m  [["student_id", 980190962], ["status", "Planned"]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."class_name" = ? LIMIT ?[0m  [["class_name", "Database Design"], ["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 123458], ["status", "Planned"], ["created_at", "2025-04-14 18:17:10.066969"], ["updated_at", "2025-04-14 18:17:10.066969"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/courses?term=Fall+2025
Completed 302 Found in 4ms (ActiveRecord: 0.3ms (8 queries, 1 cached) | GC: 0.0ms)
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:17:10 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-14 18:17:10.314891"], ["updated_at", "2025-04-14 18:17:10.314891"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-14 14:17:10 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" INNER JOIN "user_schedules" ON "courses"."CRN" = "user_schedules"."course_id" WHERE "user_schedules"."student_id" = ? AND "courses"."CRN" = ? LIMIT ?[0m  [["student_id", 980190962], ["CRN", 123457], ["LIMIT", 1]]
  [1m[36mUserSchedule Pluck (0.0ms)[0m  [1m[34mSELECT "user_schedules"."course_id" FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."status" = ?[0m  [["student_id", 980190962], ["status", "Planned"]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."class_name" = ? LIMIT ?[0m  [["class_name", "Database Design"], ["LIMIT", 1]]
Redirected to http://www.example.com/courses?term=Fall+2025
Completed 302 Found in 2ms (ActiveRecord: 0.1ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCACHE UserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-14 18:17:10.324414"], ["updated_at", "2025-04-14 18:17:10.324414"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.6ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-14 18:23:00.099295', '2025-04-14 18:23:00.099295'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-14 18:23:00.099295', '2025-04-14 18:23:00.099295');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-14 18:23:00.101401', '2025-04-14 18:23:00.101401', 'Computer Science', 'Open', 'None', '0', '0', '0', '0', '0', '2000-01-01 12:00:00'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-14 18:23:00.101401', '2025-04-14 18:23:00.101401', 'Computer Science', 'Open', 'Database Design', '0', '0', '0', '0', '0', '2000-01-01 12:00:00');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$.2DLBDu2A1wt5arHNiSyGeLXatcXj4m9Mcu/79bUUrng7TkruRi7y', 60, '2025-04-14 18:23:00.108185', '2025-04-14 18:23:00.108185', 'Computer Science', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$oLGzGJ9fp5b13RLE52cyN.OtNsfRUcRdOPpfnsogX/U2Q7ySa063m', 100, '2025-04-14 18:23:00.108185', '2025-04-14 18:23:00.108185', 'Computer Science', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-14 18:23:00.116135', '2025-04-14 18:23:00.116135', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-14 18:23:00.116135', '2025-04-14 18:23:00.116135', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.2ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:23:00 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 255ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-14 18:23:00.541559"], ["updated_at", "2025-04-14 18:23:00.541559"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-14 18:23:00.547958"], ["updated_at", "2025-04-14 18:23:00.547958"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-14 14:23:00 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123458"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" INNER JOIN "user_schedules" ON "courses"."CRN" = "user_schedules"."course_id" WHERE "user_schedules"."student_id" = ? AND "courses"."CRN" = ? LIMIT ?[0m  [["student_id", 980190962], ["CRN", 123458], ["LIMIT", 1]]
  [1m[36mUserSchedule Pluck (0.0ms)[0m  [1m[34mSELECT "user_schedules"."course_id" FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."status" = ?[0m  [["student_id", 980190962], ["status", "Planned"]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."class_name" = ? LIMIT ?[0m  [["class_name", "Database Design"], ["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 123458], ["status", "Planned"], ["created_at", "2025-04-14 18:23:00.559107"], ["updated_at", "2025-04-14 18:23:00.559107"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/courses?term=Fall+2025
Completed 302 Found in 9ms (ActiveRecord: 0.3ms (8 queries, 1 cached) | GC: 0.0ms)
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:23:00 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 244ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-14 18:23:00.809105"], ["updated_at", "2025-04-14 18:23:00.809105"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-14 14:23:00 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mStudent Load (0.6ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" INNER JOIN "user_schedules" ON "courses"."CRN" = "user_schedules"."course_id" WHERE "user_schedules"."student_id" = ? AND "courses"."CRN" = ? LIMIT ?[0m  [["student_id", 980190962], ["CRN", 123457], ["LIMIT", 1]]
  [1m[36mUserSchedule Pluck (0.0ms)[0m  [1m[34mSELECT "user_schedules"."course_id" FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."status" = ?[0m  [["student_id", 980190962], ["status", "Planned"]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."class_name" = ? LIMIT ?[0m  [["class_name", "Database Design"], ["LIMIT", 1]]
Redirected to http://www.example.com/courses?term=Fall+2025
Completed 302 Found in 16ms (ActiveRecord: 0.7ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:23:00 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-14 14:23:01 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-14 18:23:01.078954"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY "students"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.2ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 298486374], ["message", "Course updated: Updated Course"], ["read", 0], ["created_at", "2025-04-14 18:23:01.096758"], ["updated_at", "2025-04-14 18:23:01.096758"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 298486374]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.1ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["message", "Course updated: Updated Course"], ["read", 0], ["created_at", "2025-04-14 18:23:01.099008"], ["updated_at", "2025-04-14 18:23:01.099008"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 980190962]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 24ms (ActiveRecord: 0.7ms (8 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:23:01 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-14 14:23:01 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "10:00:00", "end_time" => "12:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-14 18:23:01.352184"], ["updated_at", "2025-04-14 18:23:01.352184"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY "students"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.1ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 298486374], ["message", "New course created: Test Course"], ["read", 0], ["created_at", "2025-04-14 18:23:01.355800"], ["updated_at", "2025-04-14 18:23:01.355800"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 298486374]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.1ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["message", "New course created: Test Course"], ["read", 0], ["created_at", "2025-04-14 18:23:01.358015"], ["updated_at", "2025-04-14 18:23:01.358015"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 980190962]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 9ms (ActiveRecord: 0.4ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:23:01 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.9ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-14 14:23:01 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.5ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.1ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 6ms (ActiveRecord: 0.7ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:23:01.617719"], ["updated_at", "2025-04-14 18:23:01.617719"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-14 18:23:01.622274"], ["updated_at", "2025-04-14 18:23:01.622274"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-14 18:23:01.624660"], ["updated_at", "2025-04-14 18:23:01.624660"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:23:01.628944"], ["updated_at", "2025-04-14 18:23:01.628944"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-14 18:23:01.630509"], ["updated_at", "2025-04-14 18:23:01.630509"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-14 18:23:01.631769"], ["updated_at", "2025-04-14 18:23:01.631769"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:23:01.638640"], ["updated_at", "2025-04-14 18:23:01.638640"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-14 18:23:01.642268"], ["updated_at", "2025-04-14 18:23:01.642268"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-14 18:23:01.644679"], ["updated_at", "2025-04-14 18:23:01.644679"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:23:01 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-14 14:23:01 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 5.0ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | GC: 1.3ms)
Completed 200 OK in 37ms (Views: 25.7ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 14.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-14 14:23:01 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 4.0ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-14 14:23:01 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-14 14:23:01 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.1ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-14 18:23:01.950819"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNotification Load (0.0ms)[0m  [1m[34mSELECT "notifications".* FROM "notifications" WHERE "notifications"."student_id" = ?[0m  [["student_id", 980190962]]
Completed 200 OK in 17ms (Views: 5.8ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-14 14:23:01 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x0000000126f73cb8>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.3ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:23:01.970228"], ["updated_at", "2025-04-14 18:23:01.970228"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-14 14:23:01 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Load (0.0ms)[0m  [1m[34mSELECT "notifications".* FROM "notifications" WHERE "notifications"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 1ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-14 14:23:01 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 3.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.1ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started POST "/students" for 127.0.0.1 at 2025-04-14 14:23:01 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:23:01.987633"], ["updated_at", "2025-04-14 18:23:01.987633"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-14 14:23:01 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 6.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-14 18:23:02.001640"], ["updated_at", "2025-04-14 18:23:02.001640"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-14 18:23:02.006531"], ["updated_at", "2025-04-14 18:23:02.006531"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-14 18:23:02.012781"], ["updated_at", "2025-04-14 18:23:02.012781"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------
CoursesSearchTest: test_index_page_has_a_search_form
----------------------------------------------------
Started GET "/courses" for 127.0.0.1 at 2025-04-14 14:23:02 -0400
Processing by CoursesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering courses/index.html.erb within layouts/application
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses"[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered courses/index.html.erb within layouts/application (Duration: 6.2ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 7.1ms | GC: 0.2ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-14 18:23:02.034957"], ["updated_at", "2025-04-14 18:23:02.034957"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mBEGIN immediate TRANSACTION[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[36mFixtures Load (0.5ms)[0m  [1m[31mDELETE FROM "admins";
DELETE FROM "courses";
DELETE FROM "students";
DELETE FROM "user_schedules";
INSERT INTO "admins" ("id", "name", "email", "password_digest", "role", "created_at", "updated_at") VALUES (980190962, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-14 18:27:37.904817', '2025-04-14 18:27:37.904817'), (298486374, 'MyString', 'MyString', 'MyString', 'MyString', '2025-04-14 18:27:37.904817', '2025-04-14 18:27:37.904817');
INSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (101, 'Database Design', 'Dr. Smith', 'Fall 2024', 3, '2000-01-01 10:00:00', '2025-04-14 18:27:37.906927', '2025-04-14 18:27:37.906927', 'Computer Science', 'Open', 'None', '0', '0', '0', '0', '0', '2000-01-01 12:00:00'), (102, 'Operating Systems', 'Dr. Small', 'Fall 2023', 3, '2000-01-01 10:00:00', '2025-04-14 18:27:37.906927', '2025-04-14 18:27:37.906927', 'Computer Science', 'Open', 'Database Design', '0', '0', '0', '0', '0', '2000-01-01 12:00:00');
INSERT INTO "students" ("id", "email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (980190962, 'one@student.com', 'Student One', '$2a$12$OUpyihp5ki5QWKqEnMhSMetrJ7GzY69i.iB4UdDNGHExcb4EtauHq', 60, '2025-04-14 18:27:37.913768', '2025-04-14 18:27:37.913768', 'Computer Science', NULL), (298486374, 'two@student.com', 'Student Two', '$2a$12$RmgCd62nSj/Zk8Nh2pzufuUf3R9FTLWKoucxk6WdtSzQqxyfl26uC', 100, '2025-04-14 18:27:37.913768', '2025-04-14 18:27:37.913768', 'Computer Science', NULL);
INSERT INTO "user_schedules" ("id", "student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (980190962, 980190962, 101, 'Planned', '2025-04-14 18:27:37.921725', '2025-04-14 18:27:37.921725', NULL), (298486374, 298486374, 102, 'Planned', '2025-04-14 18:27:37.921725', '2025-04-14 18:27:37.921725', NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[36mCOMMIT TRANSACTION[0m
  [1m[35m (0.5ms)[0m  [1m[35mPRAGMA foreign_key_check[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------
UserFlowsTest: test_user_can_sign_up
------------------------------------
Started GET "/students/new" for 127.0.0.1 at 2025-04-14 14:27:38 -0400
Processing by StudentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/new.html.erb within layouts/application
  Rendered students/new.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 13.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/students" for 127.0.0.1 at 2025-04-14 14:27:38 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "John Doe", "email" => "[FILTERED]", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:27:38.095182"], ["updated_at", "2025-04-14 18:27:38.095182"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 21ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.0ms)
Started GET "/" for 127.0.0.1 at 2025-04-14 14:27:38 -0400
Processing by HomeController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering home/index.html.erb within layouts/application
  Rendered home/index.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_valid_with_valid_attributes
------------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
CourseTest: test_should_be_invalid_without_credits
--------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------
CourseTest: test_should_be_invalid_without_class_time
-----------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_professor
------------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_if_CRN_is_not_unique
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 203], ["class_name", "Computer Networks"], ["professor", "Dr. Adams"], ["term", "Spring 2024"], ["credits", 4], ["class_time", "2000-01-01 19:00:00"], ["created_at", "2025-04-14 18:27:38.138579"], ["updated_at", "2025-04-14 18:27:38.138579"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CourseTest: test_should_be_invalid_without_a_term
-------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CourseTest: test_should_be_invalid_without_a_CRN
------------------------------------------------
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
CourseTest: test_should_be_invalid_without_a_class_name
-------------------------------------------------------
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 203], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
ScheduleViewControllerTest: test_should_get_index
-------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:27:38 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 245ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/schedule_view" for 127.0.0.1 at 2025-04-14 14:27:38 -0400
Processing by ScheduleViewController#index as HTML
  [1m[36mCACHE Student Load (0.2ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.1ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  Rendering layout layouts/application.html.erb
  Rendering schedule_view/index.html.erb within layouts/application
  Rendered schedule_view/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 1.4ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.8ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------
StudentTest: test_should_save_student_with_valid_credits_earned
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 10], ["created_at", "2025-04-14 18:27:38.436356"], ["updated_at", "2025-04-14 18:27:38.436356"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentTest: test_should_save_student_with_password
---------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-14 18:27:38.449357"], ["updated_at", "2025-04-14 18:27:38.449357"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------
StudentTest: test_should_not_save_student_without_name
------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------------------
StudentTest: test_should_not_save_student_with_duplicate_email
--------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.0ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "John Doe"], ["password_digest", "[FILTERED]"], ["credits_earned", 30], ["created_at", "2025-04-14 18:27:38.454681"], ["updated_at", "2025-04-14 18:27:38.454681"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------
StudentTest: test_should_not_save_student_without_password
----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------------------------
StudentTest: test_should_not_save_student_with_negative_credits_earned
----------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------
StudentTest: test_should_not_save_student_without_email
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------
StudentsControllerTest: test_should_get_index
---------------------------------------------
Started GET "/students.html" for 127.0.0.1 at 2025-04-14 14:27:38 -0400
Processing by StudentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering students/index.html.erb within layouts/application
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students"[0m
  Rendered students/index.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_update_student
--------------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/students/980190962" for 127.0.0.1 at 2025-04-14 14:27:38 -0400
Processing by StudentsController#update as JSON
  Parameters: {"student" => {"name" => "Updated Name"}, "id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? AND "students"."id" != ? LIMIT ?[0m  [["email", "[FILTERED]"], ["id", 980190962], ["LIMIT", 1]]
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "name" = ?, "updated_at" = ? WHERE "students"."id" = ?[0m  [["name", "Updated Name"], ["updated_at", "2025-04-14 18:27:38.482149"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mNotification Load (0.1ms)[0m  [1m[34mSELECT "notifications".* FROM "notifications" WHERE "notifications"."student_id" = ?[0m  [["student_id", 980190962]]
Completed 200 OK in 24ms (Views: 8.3ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------------
StudentsControllerTest: test_should_create_student
--------------------------------------------------
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started POST "/students" for 127.0.0.1 at 2025-04-14 14:27:38 -0400
Processing by StudentsController#create as HTML
  Parameters: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}}
[31mUnpermitted parameter: :credits_earned. Context: { controller: StudentsController, action: create, request: #<ActionDispatch::Request:0x00000001224c9ed8>, params: {"student" => {"name" => "Test Student", "email" => "[FILTERED]", "credits_earned" => "10", "password" => "[FILTERED]", "password_confirmation" => "[FILTERED]", "major" => "Computer Science"}, "controller" => "students", "action" => "create"} }[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:27:38.505763"], ["updated_at", "2025-04-14 18:27:38.505763"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mStudent Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------
StudentsControllerTest: test_should_destroy_student
---------------------------------------------------
  [1m[36mStudent Load (1.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.3ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
Started DELETE "/students/980190962" for 127.0.0.1 at 2025-04-14 14:27:38 -0400
Processing by StudentsController#destroy as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Load (0.0ms)[0m  [1m[34mSELECT "notifications".* FROM "notifications" WHERE "notifications"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mStudent Destroy (0.0ms)[0m  [1m[31mDELETE FROM "students" WHERE "students"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/students
Completed 302 Found in 3ms (ActiveRecord: 0.1ms (3 queries, 0 cached) | GC: 0.2ms)
  [1m[36mStudent Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "students"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
--------------------------------------------
StudentsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/students/980190962/edit.html" for 127.0.0.1 at 2025-04-14 14:27:38 -0400
Processing by StudentsController#edit as HTML
  Parameters: {"id" => "980190962"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering students/edit.html.erb within layouts/application
  Rendered students/edit.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_enroll_if_prerequisite_not_met
---------------------------------------------------------------------
  [1m[36mCourse Load (0.6ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.1ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:27:38 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 243ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123457], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-14 18:27:38.780898"], ["updated_at", "2025-04-14 18:27:38.780898"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."course_id" = ? AND "user_schedules"."status" = ? LIMIT ?[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["LIMIT", 1]]
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123457/enroll" for 127.0.0.1 at 2025-04-14 14:27:38 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123457"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123457], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" INNER JOIN "user_schedules" ON "courses"."CRN" = "user_schedules"."course_id" WHERE "user_schedules"."student_id" = ? AND "courses"."CRN" = ? LIMIT ?[0m  [["student_id", 980190962], ["CRN", 123457], ["LIMIT", 1]]
  [1m[36mUserSchedule Pluck (0.0ms)[0m  [1m[34mSELECT "user_schedules"."course_id" FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."status" = ?[0m  [["student_id", 980190962], ["status", "Planned"]]
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."class_name" = ? LIMIT ?[0m  [["class_name", "Database Design"], ["LIMIT", 1]]
Redirected to http://www.example.com/courses?term=Fall+2025
Completed 302 Found in 4ms (ActiveRecord: 0.2ms (5 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCACHE UserSchedule Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_update_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.2ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:27:38 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
Started PATCH "/courses/101" for 127.0.0.1 at 2025-04-14 14:27:39 -0400
Processing by CoursesController#update as HTML
  Parameters: {"course" => {"class_name" => "Updated Course"}, "id" => "101"}
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? AND "courses"."CRN" != ? LIMIT ?[0m  [["CRN", 101], ["CRN", 101], ["LIMIT", 1]]
  [1m[36mCourse Update (0.0ms)[0m  [1m[33mUPDATE "courses" SET "class_name" = ?, "updated_at" = ? WHERE "courses"."CRN" = ?[0m  [["class_name", "Updated Course"], ["updated_at", "2025-04-14 18:27:39.042588"], ["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY "students"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.1ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 298486374], ["message", "Course updated: Updated Course"], ["read", 0], ["created_at", "2025-04-14 18:27:39.054310"], ["updated_at", "2025-04-14 18:27:39.054310"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 298486374]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.1ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["message", "Course updated: Updated Course"], ["read", 0], ["created_at", "2025-04-14 18:27:39.057188"], ["updated_at", "2025-04-14 18:27:39.057188"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 980190962]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 19ms (ActiveRecord: 0.4ms (8 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------
CoursesControllerTest: test_should_create_course
------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:27:39 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started POST "/courses" for 127.0.0.1 at 2025-04-14 14:27:39 -0400
Processing by CoursesController#create as HTML
  Parameters: {"course" => {"CRN" => "123456", "class_name" => "Test Course", "professor" => "Dr. Smith", "term" => "Fall 2025", "credits" => "3", "class_time" => "10:00:00", "end_time" => "12:00:00", "prerequisite" => "None", "status" => "Open", "major" => "Computer Science"}}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123456], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123456], ["class_name", "Test Course"], ["professor", "Dr. Smith"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-14 18:27:39.308807"], ["updated_at", "2025-04-14 18:27:39.308807"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" ORDER BY "students"."id" ASC LIMIT ?[0m  [["LIMIT", 1000]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.1ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 298486374], ["message", "New course created: Test Course"], ["read", 0], ["created_at", "2025-04-14 18:27:39.310487"], ["updated_at", "2025-04-14 18:27:39.310487"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 298486374]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNotification Create (0.1ms)[0m  [1m[32mINSERT INTO "notifications" ("student_id", "message", "read", "created_at", "updated_at", "title", "body") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["message", "New course created: Test Course"], ["read", 0], ["created_at", "2025-04-14 18:27:39.311890"], ["updated_at", "2025-04-14 18:27:39.311890"], ["title", nil], ["body", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mStudent Update (0.0ms)[0m  [1m[33mUPDATE "students" SET "notifications" = ? WHERE "students"."id" = ?[0m  [["notifications", 1], ["id", 980190962]]
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 5ms (ActiveRecord: 0.4ms (7 queries, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------
CoursesControllerTest: test_should_destroy_course
-------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.0ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:27:39 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
Started DELETE "/courses/101" for 127.0.0.1 at 2025-04-14 14:27:39 -0400
Processing by CoursesController#destroy as HTML
  Parameters: {"id" => "101"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mCACHE Course Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" INNER JOIN "user_schedules" ON "students"."id" = "user_schedules"."student_id" WHERE "user_schedules"."course_id" = ?[0m  [["course_id", 101]]
  [1m[36mCourse Destroy (0.0ms)[0m  [1m[31mDELETE FROM "courses" WHERE "courses"."CRN" = ?[0m  [["CRN", 101]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/dashboard
Completed 302 Found in 4ms (ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)
  [1m[36mCourse Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "courses"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-------------------------------------------------------------
CoursesControllerTest: test_should_enroll_if_prerequisite_met
-------------------------------------------------------------
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mStudent Load (0.3ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mUserSchedule Load (0.2ms)[0m  [1m[34mSELECT "user_schedules".* FROM "user_schedules" WHERE "user_schedules"."student_id" = ?[0m  [["student_id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Destroy (0.0ms)[0m  [1m[31mDELETE FROM "user_schedules" WHERE "user_schedules"."id" = ?[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/login" for 127.0.0.1 at 2025-04-14 14:27:39 -0400
Processing by SessionsController#create as HTML
  Parameters: {"email" => "[FILTERED]", "password" => "[FILTERED]"}
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
Redirected to http://www.example.com/dashboard
Completed 302 Found in 242ms (ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 123458], ["class_name", "Advanced Course"], ["professor", "Dr. Example"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 11:00:00"], ["created_at", "2025-04-14 18:27:39.813582"], ["updated_at", "2025-04-14 18:27:39.813582"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "Database Design"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Load (0.1ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 101], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 101], ["status", "Planned"], ["created_at", "2025-04-14 18:27:39.818448"], ["updated_at", "2025-04-14 18:27:39.818448"], ["term", "Fall 2024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
Started GET "/courses/123458/enroll" for 127.0.0.1 at 2025-04-14 14:27:39 -0400
Processing by CoursesController#enroll as HTML
  Parameters: {"id" => "123458"}
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" INNER JOIN "user_schedules" ON "courses"."CRN" = "user_schedules"."course_id" WHERE "user_schedules"."student_id" = ? AND "courses"."CRN" = ? LIMIT ?[0m  [["student_id", 980190962], ["CRN", 123458], ["LIMIT", 1]]
  [1m[36mUserSchedule Pluck (0.0ms)[0m  [1m[34mSELECT "user_schedules"."course_id" FROM "user_schedules" WHERE "user_schedules"."student_id" = ? AND "user_schedules"."status" = ?[0m  [["student_id", 980190962], ["status", "Planned"]]
  [1m[36mCourse Load (0.0ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."class_name" = ? LIMIT ?[0m  [["class_name", "Database Design"], ["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" = ? LIMIT ?[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 123458], ["LIMIT", 1]]
  [1m[36mUserSchedule Create (0.0ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190962], ["course_id", 123458], ["status", "Planned"], ["created_at", "2025-04-14 18:27:39.823706"], ["updated_at", "2025-04-14 18:27:39.823706"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/courses?term=Fall+2025
Completed 302 Found in 3ms (ActiveRecord: 0.2ms (8 queries, 1 cached) | GC: 0.0ms)
  [1m[36mUserSchedule Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "user_schedules"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
----------------------------------------------------
CoursesSearchTest: test_index_page_has_a_search_form
----------------------------------------------------
Started GET "/courses" for 127.0.0.1 at 2025-04-14 14:27:39 -0400
Processing by CoursesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering courses/index.html.erb within layouts/application
  [1m[36mCourse Load (0.1ms)[0m  [1m[34mSELECT "courses".* FROM "courses"[0m
  [1m[36mStudent Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCACHE Student Load (0.0ms)[0m  [1m[34mSELECT "students".* FROM "students" WHERE "students"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  Rendered courses/index.html.erb within layouts/application (Duration: 12.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | GC: 0.0ms)
Completed 200 OK in 15ms (Views: 13.3ms | ActiveRecord: 0.2ms (3 queries, 1 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
---------------------------------------------------------------------------------------------
UserScheduleTest: test_should_create_user_schedule_with_valid_student_and_course_associations
---------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:27:39.844385"], ["updated_at", "2025-04-14 18:27:39.844385"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-14 18:27:39.845919"], ["updated_at", "2025-04-14 18:27:39.845919"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-14 18:27:39.846904"], ["updated_at", "2025-04-14 18:27:39.846904"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
-----------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_course
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:27:39.849013"], ["updated_at", "2025-04-14 18:27:39.849013"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.0ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-14 18:27:39.850453"], ["updated_at", "2025-04-14 18:27:39.850453"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-14 18:27:39.851097"], ["updated_at", "2025-04-14 18:27:39.851097"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
------------------------------------------------------------
UserScheduleTest: test_should_not_be_valid_without_a_student
------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mStudent Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "students" WHERE "students"."email" = ? LIMIT ?[0m  [["email", "[FILTERED]"], ["LIMIT", 1]]
  [1m[36mStudent Create (0.1ms)[0m  [1m[32mINSERT INTO "students" ("email", "name", "password_digest", "credits_earned", "created_at", "updated_at", "major", "notifications") VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["email", "[FILTERED]"], ["name", "Test Student"], ["password_digest", "[FILTERED]"], ["credits_earned", 0], ["created_at", "2025-04-14 18:27:39.865500"], ["updated_at", "2025-04-14 18:27:39.865500"], ["major", "Computer Science"], ["notifications", nil]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCourse Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "courses" WHERE "courses"."CRN" = ? LIMIT ?[0m  [["CRN", 12345], ["LIMIT", 1]]
  [1m[36mCourse Create (0.1ms)[0m  [1m[32mINSERT INTO "courses" ("CRN", "class_name", "professor", "term", "credits", "class_time", "created_at", "updated_at", "major", "status", "prerequisite", "mon", "tue", "wed", "thu", "fri", "end_time") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING "CRN"[0m  [["CRN", 12345], ["class_name", "Test Course"], ["professor", "Test Professor"], ["term", "Fall 2025"], ["credits", 3], ["class_time", "2000-01-01 10:00:00"], ["created_at", "2025-04-14 18:27:39.866439"], ["updated_at", "2025-04-14 18:27:39.866439"], ["major", "Computer Science"], ["status", "Open"], ["prerequisite", "None"], ["mon", 0], ["tue", 0], ["wed", 0], ["thu", 0], ["fri", 0], ["end_time", "2000-01-01 12:00:00"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUserSchedule Create (0.1ms)[0m  [1m[32mINSERT INTO "user_schedules" ("student_id", "course_id", "status", "created_at", "updated_at", "term") VALUES (?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["student_id", 980190963], ["course_id", 12345], ["status", nil], ["created_at", "2025-04-14 18:27:39.867115"], ["updated_at", "2025-04-14 18:27:39.867115"], ["term", "Fall 2025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
